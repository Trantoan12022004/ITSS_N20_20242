{"ast":null,"code":"const GITHUB_TOKEN = 'ghp_your_new_token'; // Token của bạn\nconst REPO_OWNER = 'Trantoan12022004';\nconst REPO_NAME = 'host_image_page_anhtonton';\nexport const uploadImageToGithub = async file => {\n  try {\n    // Chuyển file thành base64\n    const base64Data = await new Promise(resolve => {\n      const reader = new FileReader();\n      reader.onloadend = () => resolve(reader.result.split(',')[1]);\n      reader.readAsDataURL(file);\n    });\n\n    // Tạo tên file unique\n    const fileName = `image_${Date.now()}.${file.name.split('.').pop()}`;\n\n    // Gọi API GitHub để upload\n    const response = await fetch(`https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/images/${fileName}`, {\n      method: 'PUT',\n      headers: {\n        'Authorization': `Bearer ${GITHUB_TOKEN}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        message: 'Upload image via API',\n        content: base64Data\n      })\n    });\n    if (!response.ok) {\n      throw new Error('Failed to upload image to GitHub');\n    }\n    const data = await response.json();\n\n    // Trả về URL raw của ảnh\n    return `https://raw.githubusercontent.com/${REPO_OWNER}/${REPO_NAME}/main/images/${fileName}`;\n  } catch (error) {\n    console.error('Error uploading image:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["GITHUB_TOKEN","REPO_OWNER","REPO_NAME","uploadImageToGithub","file","base64Data","Promise","resolve","reader","FileReader","onloadend","result","split","readAsDataURL","fileName","Date","now","name","pop","response","fetch","method","headers","body","JSON","stringify","message","content","ok","Error","data","json","error","console"],"sources":["C:/Users/Trant/Documents/Lập Trình Web/CTES WEB/React - Copy/src/services/uploadImageToGithub.js"],"sourcesContent":["const GITHUB_TOKEN = 'ghp_your_new_token'; // Token của bạn\r\nconst REPO_OWNER = 'Trantoan12022004';\r\nconst REPO_NAME = 'host_image_page_anhtonton';\r\n\r\nexport const uploadImageToGithub = async (file) => {\r\n    try {\r\n        // Chuyển file thành base64\r\n        const base64Data = await new Promise((resolve) => {\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => resolve(reader.result.split(',')[1]);\r\n            reader.readAsDataURL(file);\r\n        });\r\n\r\n        // Tạo tên file unique\r\n        const fileName = `image_${Date.now()}.${file.name.split('.').pop()}`;\r\n\r\n        // Gọi API GitHub để upload\r\n        const response = await fetch(`https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/images/${fileName}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Authorization': `Bearer ${GITHUB_TOKEN}`,\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                message: 'Upload image via API',\r\n                content: base64Data\r\n            })\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error('Failed to upload image to GitHub');\r\n        }\r\n\r\n        const data = await response.json();\r\n        \r\n        // Trả về URL raw của ảnh\r\n        return `https://raw.githubusercontent.com/${REPO_OWNER}/${REPO_NAME}/main/images/${fileName}`;\r\n\r\n    } catch (error) {\r\n        console.error('Error uploading image:', error);\r\n        throw error;\r\n    }\r\n};"],"mappings":"AAAA,MAAMA,YAAY,GAAG,oBAAoB,CAAC,CAAC;AAC3C,MAAMC,UAAU,GAAG,kBAAkB;AACrC,MAAMC,SAAS,GAAG,2BAA2B;AAE7C,OAAO,MAAMC,mBAAmB,GAAG,MAAOC,IAAI,IAAK;EAC/C,IAAI;IACA;IACA,MAAMC,UAAU,GAAG,MAAM,IAAIC,OAAO,CAAEC,OAAO,IAAK;MAC9C,MAAMC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,SAAS,GAAG,MAAMH,OAAO,CAACC,MAAM,CAACG,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MAC7DJ,MAAM,CAACK,aAAa,CAACT,IAAI,CAAC;IAC9B,CAAC,CAAC;;IAEF;IACA,MAAMU,QAAQ,GAAG,SAASC,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIZ,IAAI,CAACa,IAAI,CAACL,KAAK,CAAC,GAAG,CAAC,CAACM,GAAG,CAAC,CAAC,EAAE;;IAEpE;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gCAAgCnB,UAAU,IAAIC,SAAS,oBAAoBY,QAAQ,EAAE,EAAE;MAChHO,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACL,eAAe,EAAE,UAAUtB,YAAY,EAAE;QACzC,cAAc,EAAE;MACpB,CAAC;MACDuB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACjBC,OAAO,EAAE,sBAAsB;QAC/BC,OAAO,EAAEtB;MACb,CAAC;IACL,CAAC,CAAC;IAEF,IAAI,CAACc,QAAQ,CAACS,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,kCAAkC,CAAC;IACvD;IAEA,MAAMC,IAAI,GAAG,MAAMX,QAAQ,CAACY,IAAI,CAAC,CAAC;;IAElC;IACA,OAAO,qCAAqC9B,UAAU,IAAIC,SAAS,gBAAgBY,QAAQ,EAAE;EAEjG,CAAC,CAAC,OAAOkB,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9C,MAAMA,KAAK;EACf;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}