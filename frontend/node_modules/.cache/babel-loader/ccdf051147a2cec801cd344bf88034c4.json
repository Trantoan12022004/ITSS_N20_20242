{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Trant\\\\Documents\\\\L\\u1EADp Tr\\xECnh Web\\\\CTES WEB\\\\React - Copy\\\\src\\\\containers\\\\System\\\\EventRegistrationManage.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./EventDisplay.scss\";\nimport { getAllEvents, deleteEvent, updateEvent, getEventStatistics } from \"../../services/eventServices\";\nimport { createNotification } from \"../../services/notificationServices\";\nimport { toast } from \"react-toastify\";\nimport moment from \"moment\";\nimport { FormattedMessage } from \"react-intl\";\nimport Swal from \"sweetalert2\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport \"./EventRegistrationManage.scss\";\nimport { getEventRegistrationsById, updateEventRegistration, getEventById } from \"../../services/eventServices\";\nimport { Table, Badge, Button, Form, InputGroup, Spinner, Card, Container, Row, Col, Modal, Tabs, Tab } from \"react-bootstrap\";\nimport { FaSearch, FaFilter, FaCheck, FaTimes, FaEye, FaEdit, FaArrowLeft, FaFileExport, FaUserCheck, FaMoneyBillWave, FaCalendarCheck, FaSort } from \"react-icons/fa\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, PieChart, Pie, Cell, ResponsiveContainer, LineChart, Line } from \"recharts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass EventRegistrationManage extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchEventStatistics = async eventId => {\n      try {\n        this.setState({\n          isLoading: true\n        });\n        const res = await getEventStatistics(eventId);\n        console.log(\"API response getEventStatistics:\", res);\n        if (res && res.data && res.data.errCode === 0) {\n          console.log(\"Event Statistics:\", res.data.data);\n          this.setState({\n            eventStats: res.data.data,\n            isLoading: false\n          });\n        } else {\n          toast.error(res.data.errMessage || \"Lỗi khi tải thống kê sự kiện\");\n          this.setState({\n            isLoading: false\n          });\n        }\n      } catch (e) {\n        console.error(\"Error fetching event statistics:\", e);\n        toast.error(\"Không thể kết nối máy chủ\");\n        this.setState({\n          isLoading: false\n        });\n      }\n    };\n    this.handleTabChange = tab => {\n      this.setState({\n        activeTab: tab\n      });\n    };\n    this.fetchRegistrations = async eventId => {\n      try {\n        const res = await getEventRegistrationsById(eventId);\n        if (res && res.data && res.data.errCode === 0) {\n          var _events$data$data;\n          const registrations = res.data.data || [];\n\n          // Lấy tên sự kiện từ response\n          const events = await getEventById(eventId);\n          if (!events || !events.data || events.data.errCode !== 0) {\n            toast.error(\"Không tìm thấy thông tin sự kiện\");\n            this.setState({\n              isLoading: false\n            });\n            return;\n          }\n          const eventName = ((_events$data$data = events.data.data) === null || _events$data$data === void 0 ? void 0 : _events$data$data.name) || \"Sự kiện không rõ tên\";\n\n          // Thống kê\n          const approvedRegistrations = registrations.filter(r => r.status === \"approved\").length;\n          const pendingRegistrations = registrations.filter(r => r.status === \"pending\").length;\n          const rejectedRegistrations = registrations.filter(r => r.status === \"rejected\").length;\n          const paidRegistrations = registrations.filter(r => r.statusCostCode === \"PS1\").length;\n          const unpaidRegistrations = registrations.filter(r => r.statusCostCode === \"PS2\").length;\n          const attendedRegistrations = registrations.filter(r => r.attendanceStatus === 1).length;\n          this.setState({\n            registrations,\n            filteredRegistrations: registrations,\n            eventName,\n            isLoading: false,\n            totalRegistrations: registrations.length,\n            approvedRegistrations,\n            pendingRegistrations,\n            rejectedRegistrations,\n            paidRegistrations,\n            unpaidRegistrations,\n            attendedRegistrations\n          });\n        } else {\n          toast.error(res.data.errMessage || \"Lỗi khi tải danh sách đăng ký\");\n          this.setState({\n            isLoading: false\n          });\n        }\n      } catch (e) {\n        toast.error(\"Không thể kết nối máy chủ\");\n        this.setState({\n          isLoading: false\n        });\n      }\n    };\n    this.handleSearch = e => {\n      const searchTerm = e.target.value.toLowerCase();\n      this.setState({\n        searchTerm\n      }, this.filterRegistrations);\n    };\n    this.handleFilterChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      }, this.filterRegistrations);\n    };\n    this.handleSort = field => {\n      const {\n        sortField,\n        sortDirection\n      } = this.state;\n      const newDirection = field === sortField && sortDirection === \"asc\" ? \"desc\" : \"asc\";\n      this.setState({\n        sortField: field,\n        sortDirection: newDirection\n      }, this.filterRegistrations);\n    };\n    this.filterRegistrations = () => {\n      const {\n        registrations,\n        searchTerm,\n        statusFilter,\n        paymentFilter,\n        attendanceFilter,\n        sortField,\n        sortDirection\n      } = this.state;\n      let filtered = [...registrations];\n\n      // Áp dụng bộ lọc tìm kiếm\n      if (searchTerm) {\n        filtered = filtered.filter(item => {\n          const fullName = item.name ? item.name.toLowerCase() : \"\";\n          const email = item.email ? item.email.toLowerCase() : \"\";\n          const phone = item.phoneNumber ? item.phoneNumber.toLowerCase() : \"\";\n          const notes = item.notes ? item.notes.toLowerCase() : \"\";\n          return fullName.includes(searchTerm) || email.includes(searchTerm) || phone.includes(searchTerm) || notes.includes(searchTerm);\n        });\n      }\n\n      // Áp dụng bộ lọc trạng thái đăng ký\n      if (statusFilter !== \"all\") {\n        filtered = filtered.filter(item => item.status === statusFilter);\n      }\n\n      // Áp dụng bộ lọc trạng thái thanh toán\n      if (paymentFilter !== \"all\") {\n        filtered = filtered.filter(item => item.statusCostCode === paymentFilter);\n      }\n\n      // Áp dụng bộ lọc trạng thái điểm danh\n      if (attendanceFilter !== \"all\") {\n        const attendanceStatus = attendanceFilter === \"attended\" ? 1 : 0;\n        filtered = filtered.filter(item => item.attendanceStatus === attendanceStatus);\n      }\n\n      // Sắp xếp kết quả\n      filtered.sort((a, b) => {\n        let valueA, valueB;\n        switch (sortField) {\n          case \"name\":\n            valueA = a.name || \"\";\n            valueB = b.name || \"\";\n            break;\n          case \"email\":\n            valueA = a.email || \"\";\n            valueB = b.email || \"\";\n            break;\n          case \"phoneNumber\":\n            valueA = a.phoneNumber || \"\";\n            valueB = b.phoneNumber || \"\";\n            break;\n          case \"registeredAt\":\n          default:\n            valueA = a.registeredAt ? new Date(a.registeredAt) : null;\n            valueB = b.registeredAt ? new Date(b.registeredAt) : null;\n            break;\n        }\n        if (sortDirection === \"asc\") {\n          if (valueA < valueB) return -1;\n          if (valueA > valueB) return 1;\n          return 0;\n        } else {\n          if (valueA > valueB) return -1;\n          if (valueA < valueB) return 1;\n          return 0;\n        }\n      });\n      this.setState({\n        filteredRegistrations: filtered\n      });\n    };\n    this.handleApprove = async id => {\n      await this.updateStatus(id, \"approved\");\n    };\n    this.handleReject = async id => {\n      await this.updateStatus(id, \"rejected\");\n    };\n    this.updateStatus = async (id, status) => {\n      try {\n        this.setState({\n          isLoading: true\n        });\n        const res = await updateEventRegistration(id, status);\n        if (res && res.data && res.data.errCode === 0) {\n          // Cập nhật trạng thái trong state\n          const updatedRegistrations = this.state.registrations.map(item => item.id === id ? {\n            ...item,\n            status\n          } : item);\n\n          // Cập nhật thống kê\n          const approvedRegistrations = status === \"approved\" ? this.state.approvedRegistrations + 1 : status === \"rejected\" ? this.state.approvedRegistrations : this.state.approvedRegistrations - 1;\n          const pendingRegistrations = this.state.pendingRegistrations - 1;\n          const rejectedRegistrations = status === \"rejected\" ? this.state.rejectedRegistrations + 1 : status === \"approved\" ? this.state.rejectedRegistrations : this.state.rejectedRegistrations - 1;\n          this.setState({\n            registrations: updatedRegistrations,\n            approvedRegistrations,\n            pendingRegistrations,\n            rejectedRegistrations,\n            isLoading: false\n          }, this.filterRegistrations);\n          toast.success(`${status === \"approved\" ? \"Duyệt\" : \"Từ chối\"} đăng ký thành công!`);\n        } else {\n          toast.error(res.data.errMessage || \"Lỗi khi cập nhật trạng thái\");\n          this.setState({\n            isLoading: false\n          });\n        }\n      } catch (e) {\n        toast.error(\"Không thể kết nối máy chủ\");\n        this.setState({\n          isLoading: false\n        });\n      }\n    };\n    this.handleAttendance = registration => {\n      this.setState({\n        showAttendanceModal: true,\n        selectedRegistration: registration,\n        attendanceDate: registration.attendanceTime ? new Date(registration.attendanceTime) : new Date(),\n        attendanceNote: registration.attendanceNote || \"\"\n      });\n    };\n    this.closeAttendanceModal = () => {\n      this.setState({\n        showAttendanceModal: false,\n        selectedRegistration: null,\n        attendanceDate: new Date(),\n        attendanceNote: \"\"\n      });\n    };\n    this.handleAttendanceDateChange = date => {\n      this.setState({\n        attendanceDate: date\n      });\n    };\n    this.handleAttendanceNoteChange = e => {\n      this.setState({\n        attendanceNote: e.target.value\n      });\n    };\n    this.markAttendance = async () => {\n      const {\n        selectedRegistration,\n        attendanceDate,\n        attendanceNote\n      } = this.state;\n      try {\n        this.setState({\n          isLoading: true\n        });\n        const attendanceData = {\n          id: selectedRegistration.id,\n          attendanceStatus: 1,\n          attendanceTime: attendanceDate.toISOString(),\n          attendanceNote: attendanceNote\n        };\n        const res = await updateEventRegistration(attendanceData);\n        if (res && res.data && res.data.errCode === 0) {\n          // Cập nhật danh sách đăng ký\n          const updatedRegistrations = this.state.registrations.map(item => item.id === selectedRegistration.id ? {\n            ...item,\n            attendanceStatus: 1,\n            attendanceTime: attendanceDate.toISOString(),\n            attendanceNote: attendanceNote\n          } : item);\n\n          // Cập nhật thống kê\n          const attendedRegistrations = this.state.attendedRegistrations + 1;\n          this.setState({\n            registrations: updatedRegistrations,\n            attendedRegistrations,\n            isLoading: false,\n            showAttendanceModal: false\n          }, this.filterRegistrations);\n          toast.success(\"Điểm danh thành công!\");\n        } else {\n          toast.error(res.data.errMessage || \"Điểm danh không thành công\");\n          this.setState({\n            isLoading: false\n          });\n        }\n      } catch (e) {\n        toast.error(\"Không thể kết nối máy chủ\");\n        this.setState({\n          isLoading: false\n        });\n      }\n    };\n    this.cancelAttendance = async id => {\n      try {\n        this.setState({\n          isLoading: true\n        });\n        const attendanceData = {\n          id: id,\n          attendanceStatus: 0,\n          attendanceTime: null,\n          attendanceNote: \"\"\n        };\n        const res = await updateEventRegistration(attendanceData);\n        if (res && res.data && res.data.errCode === 0) {\n          // Cập nhật danh sách đăng ký\n          const updatedRegistrations = this.state.registrations.map(item => item.id === id ? {\n            ...item,\n            attendanceStatus: 0,\n            attendanceTime: null,\n            attendanceNote: \"\"\n          } : item);\n\n          // Cập nhật thống kê\n          const attendedRegistrations = this.state.attendedRegistrations - 1;\n          this.setState({\n            registrations: updatedRegistrations,\n            attendedRegistrations,\n            isLoading: false\n          }, this.filterRegistrations);\n          toast.success(\"Hủy điểm danh thành công!\");\n        } else {\n          toast.error(res.data.errMessage || \"Hủy điểm danh không thành công\");\n          this.setState({\n            isLoading: false\n          });\n        }\n      } catch (e) {\n        toast.error(\"Không thể kết nối máy chủ\");\n        this.setState({\n          isLoading: false\n        });\n      }\n    };\n    this.handleViewDetail = registration => {\n      this.setState({\n        showDetailModal: true,\n        selectedRegistration: registration\n      });\n    };\n    this.closeDetailModal = () => {\n      this.setState({\n        showDetailModal: false,\n        selectedRegistration: null\n      });\n    };\n    this.handleBackToEvents = () => {\n      this.props.history.push(\"/system/event-display\");\n    };\n    this.exportToCSV = () => {\n      const {\n        filteredRegistrations\n      } = this.state;\n      if (filteredRegistrations.length === 0) {\n        toast.info(\"Không có dữ liệu để xuất\");\n        return;\n      }\n\n      // Tạo dữ liệu CSV\n      const headers = [\"STT\", \"Họ tên\", \"Email\", \"Số điện thoại\", \"Ngày đăng ký\", \"Trạng thái đăng ký\", \"Trạng thái thanh toán\", \"Phương thức thanh toán\", \"Trạng thái điểm danh\", \"Thời gian điểm danh\", \"Ghi chú\"];\n      const csvData = [headers.join(\",\"), ...filteredRegistrations.map((item, idx) => {\n        var _item$payMethod;\n        return [idx + 1, item.name || \"\", item.email || \"\", item.phoneNumber || \"\", item.registeredAt ? moment(item.registeredAt).format(\"DD/MM/YYYY HH:mm\") : \"\", item.status === \"approved\" ? \"Đã duyệt\" : item.status === \"pending\" ? \"Chờ duyệt\" : \"Từ chối\", item.statusCostCode === \"PS1\" ? \"Đã thanh toán\" : \"Chưa thanh toán\", ((_item$payMethod = item.payMethod) === null || _item$payMethod === void 0 ? void 0 : _item$payMethod.valueVi) || \"\", item.attendanceStatus === 1 ? \"Đã điểm danh\" : \"Chưa điểm danh\", item.attendanceTime ? moment(item.attendanceTime).format(\"DD/MM/YYYY HH:mm\") : \"\", item.notes || \"\"].join(\",\");\n      })].join(\"\\n\");\n\n      // Tạo file CSV và tải xuống\n      const blob = new Blob([csvData], {\n        type: \"text/csv;charset=utf-8;\"\n      });\n      const link = document.createElement(\"a\");\n      const url = URL.createObjectURL(blob);\n      link.setAttribute(\"href\", url);\n      link.setAttribute(\"download\", `danh-sach-dang-ky-${this.state.eventName.replace(/[^a-z0-9]/gi, \"-\")}-${new Date().getTime()}.csv`);\n      link.style.visibility = \"hidden\";\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    };\n    this.formatDate = dateString => {\n      if (!dateString) return \"-\";\n      return moment(dateString).format(\"DD/MM/YYYY HH:mm\");\n    };\n    this.handleAttendanceToggle = async (event, item) => {\n      // Ngăn hành vi mặc định để tránh bubble event\n      event.stopPropagation();\n      const newAttendanceStatus = item.attendanceStatus === 1 ? 0 : 1;\n      const newAttendanceTime = newAttendanceStatus === 1 ? new Date().toISOString() : null;\n      try {\n        // Cập nhật UI trước để tăng trải nghiệm người dùng\n        const updatedRegistrations = this.state.registrations.map(reg => reg.id === item.id ? {\n          ...reg,\n          attendanceStatus: newAttendanceStatus,\n          attendanceTime: newAttendanceTime\n        } : reg);\n        const attendedRegistrations = newAttendanceStatus === 1 ? this.state.attendedRegistrations + 1 : this.state.attendedRegistrations - 1;\n        this.setState({\n          registrations: updatedRegistrations,\n          attendedRegistrations\n        }, this.filterRegistrations);\n\n        // Gửi request API\n        const attendanceData = {\n          id: item.id,\n          eventId: this.state.eventId,\n          attendanceStatus: newAttendanceStatus,\n          attendanceTime: newAttendanceTime\n        };\n        const res = await updateEventRegistration(attendanceData);\n        console.log(\"API response updateEventRegistration:\", res);\n        if (res && res.data && res.data.errCode === 0) {\n          var _this$props$userInfo;\n          toast.success(newAttendanceStatus === 1 ? \"Điểm danh thành công!\" : \"Hủy điểm danh thành công!\");\n          // Tạo thông báo và gửi email\n          const notificationData = {\n            user_id: item.userId,\n            title: newAttendanceStatus === 1 ? `Đã điểm danh sự kiện ${this.state.eventName}` : `Hủy điểm danh sự kiện ${this.state.eventName}`,\n            message: newAttendanceStatus === 1 ? `Bạn đã được điểm danh tham gia sự kiện \"${this.state.eventName}\" vào lúc ${moment(newAttendanceTime).format(\"DD/MM/YYYY HH:mm\")}` : `Điểm danh của bạn cho sự kiện \"${this.state.eventName}\" đã bị hủy.`,\n            type: \"event_update\",\n            reference_id: this.state.eventId,\n            reference_type: \"EVENT_ATTENDANCE\",\n            created_by: ((_this$props$userInfo = this.props.userInfo) === null || _this$props$userInfo === void 0 ? void 0 : _this$props$userInfo.id) || \"system\",\n            // Sử dụng ID người dùng hiện tại hoặc \"system\" nếu không có\n            created_at: this.state.attendanceTime || new Date().toISOString(),\n            link: `/event-registration-details/${this.state.eventId}`,\n            send_to_all: false // Chỉ gửi cho người dùng cụ thể\n          };\n          try {\n            const notifyRes = await createNotification(notificationData);\n            console.log(\"Notification created:\", notifyRes);\n            if (notifyRes && notifyRes.data && notifyRes.data.errCode === 0) {\n              console.log(`Thông báo và email đã được gửi cho người dùng ${item.name}`);\n            } else {\n              var _notifyRes$data;\n              console.error(\"Không thể tạo thông báo:\", (notifyRes === null || notifyRes === void 0 ? void 0 : (_notifyRes$data = notifyRes.data) === null || _notifyRes$data === void 0 ? void 0 : _notifyRes$data.errMessage) || \"Lỗi không xác định\");\n            }\n          } catch (notifyError) {\n            console.error(\"Lỗi khi tạo thông báo:\", notifyError);\n          }\n        } else {\n          var _res$data;\n          // Rollback UI nếu API thất bại\n          const revertedRegistrations = this.state.registrations.map(reg => reg.id === item.id ? {\n            ...reg,\n            attendanceStatus: item.attendanceStatus,\n            attendanceTime: item.attendanceTime\n          } : reg);\n          const revertedCount = newAttendanceStatus === 0 ? this.state.attendedRegistrations + 1 : this.state.attendedRegistrations - 1;\n          this.setState({\n            registrations: revertedRegistrations,\n            attendedRegistrations: revertedCount\n          }, this.filterRegistrations);\n          toast.error((res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.errMessage) || \"Cập nhật điểm danh không thành công\");\n        }\n      } catch (e) {\n        console.error(\"Lỗi khi cập nhật điểm danh:\", e);\n        toast.error(\"Không thể kết nối máy chủ\");\n\n        // Rollback UI khi có lỗi\n        const revertedRegistrations = this.state.registrations.map(reg => reg.id === item.id ? {\n          ...reg,\n          attendanceStatus: item.attendanceStatus,\n          attendanceTime: item.attendanceTime\n        } : reg);\n        const revertedCount = newAttendanceStatus === 0 ? this.state.attendedRegistrations + 1 : this.state.attendedRegistrations - 1;\n        this.setState({\n          registrations: revertedRegistrations,\n          attendedRegistrations: revertedCount\n        }, this.filterRegistrations);\n      }\n    };\n    this.exportStatisticsToCSV = () => {\n      const {\n        eventStats\n      } = this.state;\n      if (!eventStats) {\n        toast.info(\"Không có dữ liệu thống kê để xuất\");\n        return;\n      }\n      const {\n        eventInfo,\n        registrationStats,\n        attendanceStats,\n        paymentStats\n      } = eventStats;\n\n      // Tạo dữ liệu CSV\n      let csvData = [\n      // Thông tin sự kiện\n      [\"THỐNG KÊ SỰ KIỆN\"], [\"Tên sự kiện:\", eventInfo.name], [\"Ngày diễn ra:\", moment(eventInfo.date).format(\"DD/MM/YYYY\")], [\"Địa điểm:\", eventInfo.address], [\"Loại sự kiện:\", eventInfo.type], [\"Trạng thái:\", eventInfo.status], [\"\"],\n      // Thống kê đăng ký\n      [\"THỐNG KÊ ĐĂNG KÝ\"], [\"Sức chứa:\", eventInfo.capacity + \" người\"], [\"Đã đăng ký:\", registrationStats.total + \" người\"], [\"Còn trống:\", registrationStats.remainingSlots + \" chỗ\"], [\"Tỷ lệ đăng ký:\", registrationStats.registrationRate + \"%\"], [\"Đăng ký đầu tiên:\", registrationStats.timeStats.earliest ? moment(registrationStats.timeStats.earliest).format(\"DD/MM/YYYY HH:mm\") : \"-\"], [\"Đăng ký mới nhất:\", registrationStats.timeStats.latest ? moment(registrationStats.timeStats.latest).format(\"DD/MM/YYYY HH:mm\") : \"-\"], [\"\"],\n      // Thống kê tham dự\n      [\"THỐNG KÊ THAM DỰ\"], [\"Đã tham dự:\", attendanceStats.attended + \" người\"], [\"Chưa tham dự:\", attendanceStats.notAttended + \" người\"], [\"Tỷ lệ tham dự:\", attendanceStats.attendanceRate + \"%\"], [\"Điểm danh sớm nhất:\", attendanceStats.earliestAttendance ? moment(attendanceStats.earliestAttendance).format(\"DD/MM/YYYY HH:mm\") : \"-\"], [\"Điểm danh muộn nhất:\", attendanceStats.latestAttendance ? moment(attendanceStats.latestAttendance).format(\"DD/MM/YYYY HH:mm\") : \"-\"], [\"\"],\n      // Thống kê thanh toán\n      [\"THỐNG KÊ THANH TOÁN\"], [\"Doanh thu dự kiến:\", paymentStats.expectedRevenue.toLocaleString(\"vi-VN\") + \" VNĐ\"], [\"Đã thanh toán:\", paymentStats.totalPaid.toLocaleString(\"vi-VN\") + \" VNĐ\"], [\"Chưa thanh toán:\", paymentStats.totalUnpaid.toLocaleString(\"vi-VN\") + \" VNĐ\"], [\"Tỷ lệ thanh toán:\", paymentStats.paymentRate + \"%\"], [\"\"],\n      // Thống kê theo trạng thái thanh toán\n      [\"THEO TRẠNG THÁI THANH TOÁN\"], [\"Trạng thái\", \"Số lượng\", \"Thành tiền (VNĐ)\"]];\n\n      // Thêm dữ liệu trạng thái thanh toán\n      paymentStats.byStatus.forEach(status => {\n        csvData.push([status.name, status.count, status.amount.toLocaleString(\"vi-VN\")]);\n      });\n      csvData.push([\"\"]);\n      csvData.push([\"THEO PHƯƠNG THỨC THANH TOÁN\"]);\n      csvData.push([\"Phương thức\", \"Số lượng\", \"Thành tiền (VNĐ)\"]);\n\n      // Thêm dữ liệu phương thức thanh toán\n      paymentStats.byMethod.forEach(method => {\n        csvData.push([method.name, method.count, method.amount.toLocaleString(\"vi-VN\")]);\n      });\n      csvData.push([\"\"]);\n      csvData.push([\"PHÂN BỐ ĐĂNG KÝ THEO THỜI GIAN\"]);\n      csvData.push([\"Ngày\", \"Số lượng đăng ký\"]);\n\n      // Thêm dữ liệu phân bố đăng ký theo thời gian\n      registrationStats.timeStats.distribution.forEach(item => {\n        csvData.push([moment(item.date).format(\"DD/MM/YYYY\"), item.count]);\n      });\n      csvData.push([\"\"]);\n      csvData.push([\"DANH SÁCH NGƯỜI THAM DỰ\"]);\n      csvData.push([\"STT\", \"Họ tên\", \"Email\", \"Số điện thoại\", \"Ngày đăng ký\", \"Trạng thái thanh toán\", \"Phương thức thanh toán\", \"Đã tham dự\", \"Thời gian tham dự\", \"Ghi chú\"]);\n\n      // Thêm danh sách người tham dự\n      eventStats.registrations.forEach((item, idx) => {\n        csvData.push([idx + 1, item.name || \"\", item.email || \"\", item.phoneNumber || \"\", item.registeredAt ? moment(item.registeredAt).format(\"DD/MM/YYYY HH:mm\") : \"\", item.paymentStatus || \"\", item.paymentMethod || \"\", item.attended ? \"Đã tham dự\" : \"Chưa tham dự\", item.attendanceTime ? moment(item.attendanceTime).format(\"DD/MM/YYYY HH:mm\") : \"\", item.notes || \"\"]);\n      });\n\n      // Chuyển đổi mảng dữ liệu thành chuỗi CSV\n      const csvContent = csvData.map(row => row.join(\",\")).join(\"\\n\");\n\n      // Tạo file CSV và tải xuống\n      const blob = new Blob([csvContent], {\n        type: \"text/csv;charset=utf-8;\"\n      });\n      const link = document.createElement(\"a\");\n      const url = URL.createObjectURL(blob);\n      link.setAttribute(\"href\", url);\n      link.setAttribute(\"download\", `thong-ke-su-kien-${eventInfo.name.replace(/[^a-z0-9]/gi, \"-\")}-${new Date().getTime()}.csv`);\n      link.style.visibility = \"hidden\";\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      toast.success(\"Đã xuất thống kê sự kiện thành công!\");\n    };\n    this.state = {\n      eventId: \"\",\n      eventName: \"\",\n      registrations: [],\n      filteredRegistrations: [],\n      isLoading: false,\n      searchTerm: \"\",\n      statusFilter: \"all\",\n      paymentFilter: \"all\",\n      attendanceFilter: \"all\",\n      sortField: \"registeredAt\",\n      sortDirection: \"desc\",\n      showDetailModal: false,\n      showAttendanceModal: false,\n      selectedRegistration: null,\n      attendanceDate: new Date(),\n      attendanceNote: \"\",\n      // Thống kê\n      totalRegistrations: 0,\n      approvedRegistrations: 0,\n      pendingRegistrations: 0,\n      rejectedRegistrations: 0,\n      paidRegistrations: 0,\n      unpaidRegistrations: 0,\n      attendedRegistrations: 0,\n      // Thêm state cho thống kê\n      showStatisticsTab: false,\n      eventStats: null,\n      activeTab: \"registrations\"\n    };\n  }\n  // Thêm phương thức fetch thống kê\n\n  async componentDidMount() {\n    // Lấy eventId từ URL\n    const {\n      match\n    } = this.props;\n    const eventId = match.params.id;\n    console.log(\"Event ID from URL:\", eventId);\n    if (!eventId) {\n      toast.error(\"Không tìm thấy sự kiện!\");\n      return;\n    }\n    this.setState({\n      eventId,\n      isLoading: true\n    });\n    await this.fetchRegistrations(eventId);\n    await this.fetchEventStatistics(eventId);\n  }\n  // Thêm hàm chuyển tab\n\n  // Tìm kiếm và lọc\n\n  // Xử lý trạng thái đăng ký\n\n  // Xử lý điểm danh\n\n  // Xem chi tiết đăng ký\n\n  // Quay lại trang danh sách sự kiện\n\n  // Xuất dữ liệu ra file CSV\n\n  // Format date\n\n  // Thêm hàm xử lý toggle điểm danh nhanh vào class EventRegistrationManage\n\n  // Thêm phương thức xuất thống kê ra CSV\n\n  render() {\n    var _selectedRegistration, _selectedRegistration2, _selectedRegistration3;\n    const {\n      eventName,\n      filteredRegistrations,\n      isLoading,\n      searchTerm,\n      statusFilter,\n      paymentFilter,\n      attendanceFilter,\n      showDetailModal,\n      showAttendanceModal,\n      selectedRegistration,\n      attendanceDate,\n      attendanceNote,\n      totalRegistrations,\n      approvedRegistrations,\n      pendingRegistrations,\n      rejectedRegistrations,\n      paidRegistrations,\n      unpaidRegistrations,\n      attendedRegistrations,\n      sortField,\n      sortDirection,\n      activeTab,\n      eventStats\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      className: \"event-registration-manage-container p-4\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-secondary\",\n        className: \"mb-3\",\n        onClick: this.handleBackToEvents,\n        children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {\n          className: \"me-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 21\n        }, this), \" Quay l\\u1EA1i danh s\\xE1ch s\\u1EF1 ki\\u1EC7n\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 758,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-3 fw-bold\",\n        children: [\"Qu\\u1EA3n l\\xFD \\u0111\\u0103ng k\\xFD: \", eventName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 762,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"event-tabs mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"nav nav-tabs\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `nav-link ${activeTab === \"registrations\" ? \"active\" : \"\"}`,\n              onClick: () => this.handleTabChange(\"registrations\"),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-clipboard-list me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 769,\n                columnNumber: 33\n              }, this), \"Danh s\\xE1ch \\u0111\\u0103ng k\\xFD\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 768,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 767,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `nav-link ${activeTab === \"statistics\" ? \"active\" : \"\"}`,\n              onClick: () => this.handleTabChange(\"statistics\"),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-chart-bar me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 775,\n                columnNumber: 33\n              }, this), \"Th\\u1ED1ng k\\xEA s\\u1EF1 ki\\u1EC7n\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 765,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          sm: 6,\n          className: \"mb-3 mb-sm-0\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"text-center h-100 shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"mb-0\",\n                children: totalRegistrations\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 787,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: \"T\\u1ED5ng s\\u1ED1 \\u0111\\u0103ng k\\xFD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 788,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 786,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 785,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 784,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"text-center h-100 shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"mb-0 text-info\",\n                children: attendedRegistrations\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 796,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: \"\\u0110\\xE3 \\u0111i\\u1EC3m danh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 797,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 795,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 794,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          sm: 6,\n          className: \"mb-3 mb-sm-0\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"text-center h-100 shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"mb-0 text-success\",\n                children: paidRegistrations\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 806,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: \"\\u0110\\xE3 thanh to\\xE1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 807,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 805,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 804,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 803,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 783,\n        columnNumber: 17\n      }, this), activeTab === \"registrations\" ?\n      /*#__PURE__*/\n      // Nội dung tab đăng ký (phần hiện tại của bạn)\n      _jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Table, {\n          className: \"shadow-sm mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            className: \"bg-white\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0 fw-bold\",\n              children: \"B\\u1ED9 l\\u1ECDc & T\\xECm ki\\u1EBFm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 819,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 818,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                lg: 3,\n                md: 6,\n                className: \"mb-3 mb-md-0\",\n                children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                  children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                    children: /*#__PURE__*/_jsxDEV(FaSearch, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 826,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 825,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    placeholder: \"T\\xECm ki\\u1EBFm theo t\\xEAn, email, S\\u0110T, ghi ch\\xFA...\",\n                    value: searchTerm,\n                    onChange: this.handleSearch\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 828,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 824,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 823,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                lg: 8,\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 3,\n                    className: \"mb-3 mb-md-0\",\n                    children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                        children: /*#__PURE__*/_jsxDEV(FaMoneyBillWave, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 837,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 836,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                        name: \"paymentFilter\",\n                        value: paymentFilter,\n                        onChange: this.handleFilterChange,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"all\",\n                          children: \"T\\u1EA5t c\\u1EA3 thanh to\\xE1n\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 840,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"PS1\",\n                          children: \"\\u0110\\xE3 thanh to\\xE1n\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 841,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"PS2\",\n                          children: \"Ch\\u01B0a thanh to\\xE1n\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 842,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 839,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 835,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 834,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 3,\n                    children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                        children: /*#__PURE__*/_jsxDEV(FaUserCheck, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 850,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 849,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                        name: \"attendanceFilter\",\n                        value: attendanceFilter,\n                        onChange: this.handleFilterChange,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"all\",\n                          children: \"T\\u1EA5t c\\u1EA3 \\u0111i\\u1EC3m danh\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 853,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"attended\",\n                          children: \"\\u0110\\xE3 \\u0111i\\u1EC3m danh\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 854,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"not-attended\",\n                          children: \"Ch\\u01B0a \\u0111i\\u1EC3m danh\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 855,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 852,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 848,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 847,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 833,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 832,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 822,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                className: \"d-flex justify-content-end\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"success\",\n                  onClick: this.exportToCSV,\n                  children: [/*#__PURE__*/_jsxDEV(FaFileExport, {\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 866,\n                    columnNumber: 45\n                  }, this), \" Xu\\u1EA5t file CSV\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 865,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 864,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 821,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 817,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          className: \"shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center my-5\",\n              children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                animation: \"border\",\n                variant: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 877,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2\",\n                children: \"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 878,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 876,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-responsive\",\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                hover: true,\n                className: \"align-middle\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"table-light\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"#\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 885,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"sortable\",\n                      onClick: () => this.handleSort(\"name\"),\n                      children: [\"H\\u1ECD t\\xEAn\", sortField === \"name\" && /*#__PURE__*/_jsxDEV(FaSort, {\n                        className: \"ms-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 888,\n                        columnNumber: 82\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 886,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"sortable\",\n                      onClick: () => this.handleSort(\"email\"),\n                      children: [\"Email\", sortField === \"email\" && /*#__PURE__*/_jsxDEV(FaSort, {\n                        className: \"ms-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 892,\n                        columnNumber: 83\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 890,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 894,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"sortable\",\n                      onClick: () => this.handleSort(\"registeredAt\"),\n                      children: [\"Ng\\xE0y \\u0111\\u0103ng k\\xFD\", sortField === \"registeredAt\" && /*#__PURE__*/_jsxDEV(FaSort, {\n                        className: \"ms-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 897,\n                        columnNumber: 90\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 895,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Thanh to\\xE1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 900,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u0110i\\u1EC3m danh\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 901,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Thao t\\xE1c\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 902,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 884,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 883,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: filteredRegistrations && filteredRegistrations.length > 0 ? filteredRegistrations.map((item, idx) => {\n                    var _item$payMethod2;\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: idx + 1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 909,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 910,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.email\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 911,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.phoneNumber || \"-\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 912,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: this.formatDate(item.registeredAt)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 913,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.statusCostCode === \"PS1\" ? /*#__PURE__*/_jsxDEV(Badge, {\n                          bg: \"success\",\n                          children: ((_item$payMethod2 = item.payMethod) === null || _item$payMethod2 === void 0 ? void 0 : _item$payMethod2.valueVi) || \"Đã thanh toán\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 917,\n                          columnNumber: 69\n                        }, this) : /*#__PURE__*/_jsxDEV(Badge, {\n                          bg: \"secondary\",\n                          children: \"Ch\\u01B0a thanh to\\xE1n\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 919,\n                          columnNumber: 69\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 915,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-check form-switch\",\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            className: \"form-check-input\",\n                            type: \"checkbox\",\n                            id: `attendance-${item.id}`,\n                            checked: item.attendanceStatus === 1,\n                            onChange: e => this.handleAttendanceToggle(e, item)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 924,\n                            columnNumber: 69\n                          }, this), item.attendanceStatus === 1 && /*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"d-block text-muted mt-1\",\n                            children: moment(item.attendanceTime).format(\"DD/MM/YYYY HH:mm\")\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 932,\n                            columnNumber: 73\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 923,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 922,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"d-flex\",\n                          children: [/*#__PURE__*/_jsxDEV(Button, {\n                            variant: \"outline-info\",\n                            size: \"sm\",\n                            className: \"me-1\",\n                            onClick: () => this.handleViewDetail(item),\n                            title: \"Xem chi ti\\u1EBFt\",\n                            children: /*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 945,\n                              columnNumber: 73\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 938,\n                            columnNumber: 69\n                          }, this), item.status === \"pending\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: [/*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outline-success\",\n                              size: \"sm\",\n                              className: \"me-1\",\n                              onClick: () => this.handleApprove(item.id),\n                              title: \"Duy\\u1EC7t \\u0111\\u0103ng k\\xFD\",\n                              children: /*#__PURE__*/_jsxDEV(FaCheck, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 957,\n                                columnNumber: 81\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 950,\n                              columnNumber: 77\n                            }, this), /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outline-danger\",\n                              size: \"sm\",\n                              onClick: () => this.handleReject(item.id),\n                              title: \"T\\u1EEB ch\\u1ED1i \\u0111\\u0103ng k\\xFD\",\n                              children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 965,\n                                columnNumber: 81\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 959,\n                              columnNumber: 77\n                            }, this)]\n                          }, void 0, true), item.status === \"approved\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: item.attendanceStatus === 0 ? /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outline-primary\",\n                              size: \"sm\",\n                              className: \"me-1\",\n                              onClick: () => this.handleAttendance(item),\n                              title: \"\\u0110i\\u1EC3m danh\",\n                              children: /*#__PURE__*/_jsxDEV(FaCalendarCheck, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 980,\n                                columnNumber: 85\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 973,\n                              columnNumber: 81\n                            }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outline-secondary\",\n                              size: \"sm\",\n                              className: \"me-1\",\n                              onClick: () => this.cancelAttendance(item.id),\n                              title: \"H\\u1EE7y \\u0111i\\u1EC3m danh\",\n                              children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 990,\n                                columnNumber: 85\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 983,\n                              columnNumber: 81\n                            }, this)\n                          }, void 0, false)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 937,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 936,\n                        columnNumber: 61\n                      }, this)]\n                    }, item.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 908,\n                      columnNumber: 57\n                    }, this);\n                  }) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"9\",\n                      className: \"text-center py-3\",\n                      children: searchTerm || statusFilter !== \"all\" || paymentFilter !== \"all\" || attendanceFilter !== \"all\" ? \"Không tìm thấy đăng ký nào phù hợp với bộ lọc\" : \"Chưa có ai đăng ký sự kiện này\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1001,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1000,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 905,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 882,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 874,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 873,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          show: showDetailModal,\n          onHide: this.closeDetailModal,\n          centered: true,\n          size: \"lg\",\n          children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n            closeButton: true,\n            children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n              children: \"Chi ti\\u1EBFt \\u0111\\u0103ng k\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1018,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1017,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: selectedRegistration && (\n            // kiểm tra thông tin toàn bộ sự kiện\n            console.log(selectedRegistration), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Tabs, {\n                defaultActiveKey: \"user-info\",\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(Tab, {\n                  eventKey: \"user-info\",\n                  title: \"Th\\xF4ng tin ng\\u01B0\\u1EDDi \\u0111\\u0103ng k\\xFD\",\n                  children: [/*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"H\\u1ECD v\\xE0 t\\xEAn:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1029,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1028,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Email:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1035,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1038,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1034,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1041,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.phoneNumber || \"Không có\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1044,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1040,\n                    columnNumber: 53\n                  }, this), ((_selectedRegistration = selectedRegistration.User) === null || _selectedRegistration === void 0 ? void 0 : _selectedRegistration.address) && /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"\\u0110\\u1ECBa ch\\u1EC9:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1048,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.User.address\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1051,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1047,\n                    columnNumber: 57\n                  }, this), ((_selectedRegistration2 = selectedRegistration.User) === null || _selectedRegistration2 === void 0 ? void 0 : _selectedRegistration2.gender) && /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Gi\\u1EDBi t\\xEDnh:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1056,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.User.gender === \"M\" ? \"Nam\" : selectedRegistration.User.gender === \"F\" ? \"Nữ\" : \"Khác\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1059,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1055,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1027,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(Tab, {\n                  eventKey: \"registration-info\",\n                  title: \"Th\\xF4ng tin \\u0111\\u0103ng k\\xFD\",\n                  children: [/*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Th\\u1EDDi gian \\u0111\\u0103ng k\\xFD:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1067,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: this.formatDate(selectedRegistration.registeredAt)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1070,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1066,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Tr\\u1EA1ng th\\xE1i thanh to\\xE1n:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1073,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.statusCostCode === \"PS1\" ? /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"success\",\n                        children: \"\\u0110\\xE3 thanh to\\xE1n\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1078,\n                        columnNumber: 65\n                      }, this) : /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"secondary\",\n                        children: \"Ch\\u01B0a thanh to\\xE1n\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1080,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1076,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1072,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1085,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: ((_selectedRegistration3 = selectedRegistration.payMethod) === null || _selectedRegistration3 === void 0 ? void 0 : _selectedRegistration3.valueVi) || \"-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1088,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1084,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Tr\\u1EA1ng th\\xE1i \\u0111i\\u1EC3m danh:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1091,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.attendanceStatus === 1 ? /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"success\",\n                        children: \"\\u0110\\xE3 \\u0111i\\u1EC3m danh\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1096,\n                        columnNumber: 65\n                      }, this) : /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"secondary\",\n                        children: \"Ch\\u01B0a \\u0111i\\u1EC3m danh\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1098,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1094,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1090,\n                    columnNumber: 53\n                  }, this), selectedRegistration.attendanceStatus === 1 && /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Th\\u1EDDi gian \\u0111i\\u1EC3m danh:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1104,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: this.formatDate(selectedRegistration.attendanceTime)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1107,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1103,\n                    columnNumber: 57\n                  }, this), selectedRegistration.notes && /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Ghi ch\\xFA:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1112,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.notes\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1115,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1111,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1065,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1026,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between mt-4\",\n                children: [selectedRegistration.status === \"pending\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"success\",\n                    onClick: () => {\n                      this.handleApprove(selectedRegistration.id);\n                      this.closeDetailModal();\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(FaCheck, {\n                      className: \"me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1131,\n                      columnNumber: 61\n                    }, this), \" Duy\\u1EC7t \\u0111\\u0103ng k\\xFD\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1124,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"danger\",\n                    onClick: () => {\n                      this.handleReject(selectedRegistration.id);\n                      this.closeDetailModal();\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(FaTimes, {\n                      className: \"me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1140,\n                      columnNumber: 61\n                    }, this), \" T\\u1EEB ch\\u1ED1i \\u0111\\u0103ng k\\xFD\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1133,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1123,\n                  columnNumber: 53\n                }, this), selectedRegistration.status === \"approved\" && selectedRegistration.attendanceStatus === 0 && /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"primary\",\n                  onClick: () => {\n                    this.closeDetailModal();\n                    this.handleAttendance(selectedRegistration);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FaCalendarCheck, {\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1153,\n                    columnNumber: 57\n                  }, this), \" \\u0110i\\u1EC3m danh\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1146,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"secondary\",\n                  onClick: this.closeDetailModal,\n                  children: \"\\u0110\\xF3ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1157,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1121,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1025,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1020,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1016,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) :\n      // Nội dung tab thống kê (phần mới)\n      this.renderStatisticsTab()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 757,\n      columnNumber: 13\n    }, this);\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    systemMenuPath: state.app.systemMenuPath,\n    isLoggedIn: state.user.isLoggedIn,\n    userInforr: state.user.userInforr // Lấy thông tin người dùng từ Redux store\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(EventRegistrationManage));","map":{"version":3,"names":["React","Component","connect","getAllEvents","deleteEvent","updateEvent","getEventStatistics","createNotification","toast","moment","FormattedMessage","Swal","Link","withRouter","getEventRegistrationsById","updateEventRegistration","getEventById","Table","Badge","Button","Form","InputGroup","Spinner","Card","Container","Row","Col","Modal","Tabs","Tab","FaSearch","FaFilter","FaCheck","FaTimes","FaEye","FaEdit","FaArrowLeft","FaFileExport","FaUserCheck","FaMoneyBillWave","FaCalendarCheck","FaSort","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","PieChart","Pie","Cell","ResponsiveContainer","LineChart","Line","jsxDEV","_jsxDEV","Fragment","_Fragment","EventRegistrationManage","constructor","props","fetchEventStatistics","eventId","setState","isLoading","res","console","log","data","errCode","eventStats","error","errMessage","e","handleTabChange","tab","activeTab","fetchRegistrations","_events$data$data","registrations","events","eventName","name","approvedRegistrations","filter","r","status","length","pendingRegistrations","rejectedRegistrations","paidRegistrations","statusCostCode","unpaidRegistrations","attendedRegistrations","attendanceStatus","filteredRegistrations","totalRegistrations","handleSearch","searchTerm","target","value","toLowerCase","filterRegistrations","handleFilterChange","handleSort","field","sortField","sortDirection","state","newDirection","statusFilter","paymentFilter","attendanceFilter","filtered","item","fullName","email","phone","phoneNumber","notes","includes","sort","a","b","valueA","valueB","registeredAt","Date","handleApprove","id","updateStatus","handleReject","updatedRegistrations","map","success","handleAttendance","registration","showAttendanceModal","selectedRegistration","attendanceDate","attendanceTime","attendanceNote","closeAttendanceModal","handleAttendanceDateChange","date","handleAttendanceNoteChange","markAttendance","attendanceData","toISOString","cancelAttendance","handleViewDetail","showDetailModal","closeDetailModal","handleBackToEvents","history","push","exportToCSV","info","headers","csvData","join","idx","_item$payMethod","format","payMethod","valueVi","blob","Blob","type","link","document","createElement","url","URL","createObjectURL","setAttribute","replace","getTime","style","visibility","body","appendChild","click","removeChild","formatDate","dateString","handleAttendanceToggle","event","stopPropagation","newAttendanceStatus","newAttendanceTime","reg","_this$props$userInfo","notificationData","user_id","userId","title","message","reference_id","reference_type","created_by","userInfo","created_at","send_to_all","notifyRes","_notifyRes$data","notifyError","_res$data","revertedRegistrations","revertedCount","exportStatisticsToCSV","eventInfo","registrationStats","attendanceStats","paymentStats","address","capacity","total","remainingSlots","registrationRate","timeStats","earliest","latest","attended","notAttended","attendanceRate","earliestAttendance","latestAttendance","expectedRevenue","toLocaleString","totalPaid","totalUnpaid","paymentRate","byStatus","forEach","count","amount","byMethod","method","distribution","paymentStatus","paymentMethod","csvContent","row","showStatisticsTab","componentDidMount","match","params","render","_selectedRegistration","_selectedRegistration2","_selectedRegistration3","fluid","className","children","variant","onClick","fileName","_jsxFileName","lineNumber","columnNumber","md","sm","Body","Text","Header","lg","Control","placeholder","onChange","Select","animation","hover","_item$payMethod2","bg","checked","size","colSpan","show","onHide","centered","closeButton","Title","defaultActiveKey","eventKey","User","gender","renderStatisticsTab","mapStateToProps","systemMenuPath","app","isLoggedIn","user","userInforr","mapDispatchToProps","dispatch"],"sources":["C:/Users/Trant/Documents/Lập Trình Web/CTES WEB/React - Copy/src/containers/System/EventRegistrationManage.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./EventDisplay.scss\";\r\nimport { getAllEvents, deleteEvent, updateEvent, getEventStatistics } from \"../../services/eventServices\";\r\nimport { createNotification } from \"../../services/notificationServices\";\r\nimport { toast } from \"react-toastify\";\r\nimport moment from \"moment\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport \"./EventRegistrationManage.scss\";\r\nimport { getEventRegistrationsById, updateEventRegistration, getEventById } from \"../../services/eventServices\";\r\nimport { Table, Badge, Button, Form, InputGroup, Spinner, Card, Container, Row, Col, Modal, Tabs, Tab } from \"react-bootstrap\";\r\nimport { FaSearch, FaFilter, FaCheck, FaTimes, FaEye, FaEdit, FaArrowLeft, FaFileExport, FaUserCheck, FaMoneyBillWave, FaCalendarCheck, FaSort } from \"react-icons/fa\";\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, PieChart, Pie, Cell, ResponsiveContainer, LineChart, Line } from \"recharts\";\r\nclass EventRegistrationManage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            eventId: \"\",\r\n            eventName: \"\",\r\n            registrations: [],\r\n            filteredRegistrations: [],\r\n            isLoading: false,\r\n            searchTerm: \"\",\r\n            statusFilter: \"all\",\r\n            paymentFilter: \"all\",\r\n            attendanceFilter: \"all\",\r\n            sortField: \"registeredAt\",\r\n            sortDirection: \"desc\",\r\n            showDetailModal: false,\r\n            showAttendanceModal: false,\r\n            selectedRegistration: null,\r\n            attendanceDate: new Date(),\r\n            attendanceNote: \"\",\r\n\r\n            // Thống kê\r\n            totalRegistrations: 0,\r\n            approvedRegistrations: 0,\r\n            pendingRegistrations: 0,\r\n            rejectedRegistrations: 0,\r\n            paidRegistrations: 0,\r\n            unpaidRegistrations: 0,\r\n            attendedRegistrations: 0,\r\n            // Thêm state cho thống kê\r\n            showStatisticsTab: false,\r\n            eventStats: null,\r\n            activeTab: \"registrations\",\r\n        };\r\n    }\r\n    // Thêm phương thức fetch thống kê\r\n    fetchEventStatistics = async (eventId) => {\r\n        try {\r\n            this.setState({ isLoading: true });\r\n            const res = await getEventStatistics(eventId);\r\n            console.log(\"API response getEventStatistics:\", res);\r\n            if (res && res.data && res.data.errCode === 0) {\r\n                console.log(\"Event Statistics:\", res.data.data);\r\n                this.setState({\r\n                    eventStats: res.data.data,\r\n                    isLoading: false,\r\n                });\r\n            } else {\r\n                toast.error(res.data.errMessage || \"Lỗi khi tải thống kê sự kiện\");\r\n                this.setState({ isLoading: false });\r\n            }\r\n        } catch (e) {\r\n            console.error(\"Error fetching event statistics:\", e);\r\n            toast.error(\"Không thể kết nối máy chủ\");\r\n            this.setState({ isLoading: false });\r\n        }\r\n    };\r\n    async componentDidMount() {\r\n        // Lấy eventId từ URL\r\n        const { match } = this.props;\r\n        const eventId = match.params.id;\r\n        console.log(\"Event ID from URL:\", eventId);\r\n\r\n        if (!eventId) {\r\n            toast.error(\"Không tìm thấy sự kiện!\");\r\n            return;\r\n        }\r\n\r\n        this.setState({ eventId, isLoading: true });\r\n        await this.fetchRegistrations(eventId);\r\n        await this.fetchEventStatistics(eventId);\r\n    }\r\n    // Thêm hàm chuyển tab\r\n    handleTabChange = (tab) => {\r\n        this.setState({ activeTab: tab });\r\n    };\r\n    fetchRegistrations = async (eventId) => {\r\n        try {\r\n            const res = await getEventRegistrationsById(eventId);\r\n\r\n            if (res && res.data && res.data.errCode === 0) {\r\n                const registrations = res.data.data || [];\r\n\r\n                // Lấy tên sự kiện từ response\r\n                const events = await getEventById(eventId);\r\n                if (!events || !events.data || events.data.errCode !== 0) {\r\n                    toast.error(\"Không tìm thấy thông tin sự kiện\");\r\n                    this.setState({ isLoading: false });\r\n                    return;\r\n                }\r\n\r\n                const eventName = events.data.data?.name || \"Sự kiện không rõ tên\";\r\n\r\n                // Thống kê\r\n                const approvedRegistrations = registrations.filter((r) => r.status === \"approved\").length;\r\n                const pendingRegistrations = registrations.filter((r) => r.status === \"pending\").length;\r\n                const rejectedRegistrations = registrations.filter((r) => r.status === \"rejected\").length;\r\n                const paidRegistrations = registrations.filter((r) => r.statusCostCode === \"PS1\").length;\r\n                const unpaidRegistrations = registrations.filter((r) => r.statusCostCode === \"PS2\").length;\r\n                const attendedRegistrations = registrations.filter((r) => r.attendanceStatus === 1).length;\r\n\r\n                this.setState({\r\n                    registrations,\r\n                    filteredRegistrations: registrations,\r\n                    eventName,\r\n                    isLoading: false,\r\n                    totalRegistrations: registrations.length,\r\n                    approvedRegistrations,\r\n                    pendingRegistrations,\r\n                    rejectedRegistrations,\r\n                    paidRegistrations,\r\n                    unpaidRegistrations,\r\n                    attendedRegistrations,\r\n                });\r\n            } else {\r\n                toast.error(res.data.errMessage || \"Lỗi khi tải danh sách đăng ký\");\r\n                this.setState({ isLoading: false });\r\n            }\r\n        } catch (e) {\r\n            toast.error(\"Không thể kết nối máy chủ\");\r\n            this.setState({ isLoading: false });\r\n        }\r\n    };\r\n\r\n    // Tìm kiếm và lọc\r\n    handleSearch = (e) => {\r\n        const searchTerm = e.target.value.toLowerCase();\r\n        this.setState({ searchTerm }, this.filterRegistrations);\r\n    };\r\n\r\n    handleFilterChange = (e) => {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value }, this.filterRegistrations);\r\n    };\r\n\r\n    handleSort = (field) => {\r\n        const { sortField, sortDirection } = this.state;\r\n        const newDirection = field === sortField && sortDirection === \"asc\" ? \"desc\" : \"asc\";\r\n\r\n        this.setState(\r\n            {\r\n                sortField: field,\r\n                sortDirection: newDirection,\r\n            },\r\n            this.filterRegistrations\r\n        );\r\n    };\r\n\r\n    filterRegistrations = () => {\r\n        const { registrations, searchTerm, statusFilter, paymentFilter, attendanceFilter, sortField, sortDirection } = this.state;\r\n\r\n        let filtered = [...registrations];\r\n\r\n        // Áp dụng bộ lọc tìm kiếm\r\n        if (searchTerm) {\r\n            filtered = filtered.filter((item) => {\r\n                const fullName = item.name ? item.name.toLowerCase() : \"\";\r\n                const email = item.email ? item.email.toLowerCase() : \"\";\r\n                const phone = item.phoneNumber ? item.phoneNumber.toLowerCase() : \"\";\r\n                const notes = item.notes ? item.notes.toLowerCase() : \"\";\r\n\r\n                return fullName.includes(searchTerm) || email.includes(searchTerm) || phone.includes(searchTerm) || notes.includes(searchTerm);\r\n            });\r\n        }\r\n\r\n        // Áp dụng bộ lọc trạng thái đăng ký\r\n        if (statusFilter !== \"all\") {\r\n            filtered = filtered.filter((item) => item.status === statusFilter);\r\n        }\r\n\r\n        // Áp dụng bộ lọc trạng thái thanh toán\r\n        if (paymentFilter !== \"all\") {\r\n            filtered = filtered.filter((item) => item.statusCostCode === paymentFilter);\r\n        }\r\n\r\n        // Áp dụng bộ lọc trạng thái điểm danh\r\n        if (attendanceFilter !== \"all\") {\r\n            const attendanceStatus = attendanceFilter === \"attended\" ? 1 : 0;\r\n            filtered = filtered.filter((item) => item.attendanceStatus === attendanceStatus);\r\n        }\r\n\r\n        // Sắp xếp kết quả\r\n        filtered.sort((a, b) => {\r\n            let valueA, valueB;\r\n\r\n            switch (sortField) {\r\n                case \"name\":\r\n                    valueA = a.name || \"\";\r\n                    valueB = b.name || \"\";\r\n                    break;\r\n                case \"email\":\r\n                    valueA = a.email || \"\";\r\n                    valueB = b.email || \"\";\r\n                    break;\r\n                case \"phoneNumber\":\r\n                    valueA = a.phoneNumber || \"\";\r\n                    valueB = b.phoneNumber || \"\";\r\n                    break;\r\n                case \"registeredAt\":\r\n                default:\r\n                    valueA = a.registeredAt ? new Date(a.registeredAt) : null;\r\n                    valueB = b.registeredAt ? new Date(b.registeredAt) : null;\r\n                    break;\r\n            }\r\n\r\n            if (sortDirection === \"asc\") {\r\n                if (valueA < valueB) return -1;\r\n                if (valueA > valueB) return 1;\r\n                return 0;\r\n            } else {\r\n                if (valueA > valueB) return -1;\r\n                if (valueA < valueB) return 1;\r\n                return 0;\r\n            }\r\n        });\r\n\r\n        this.setState({ filteredRegistrations: filtered });\r\n    };\r\n\r\n    // Xử lý trạng thái đăng ký\r\n    handleApprove = async (id) => {\r\n        await this.updateStatus(id, \"approved\");\r\n    };\r\n\r\n    handleReject = async (id) => {\r\n        await this.updateStatus(id, \"rejected\");\r\n    };\r\n\r\n    updateStatus = async (id, status) => {\r\n        try {\r\n            this.setState({ isLoading: true });\r\n            const res = await updateEventRegistration(id, status);\r\n\r\n            if (res && res.data && res.data.errCode === 0) {\r\n                // Cập nhật trạng thái trong state\r\n                const updatedRegistrations = this.state.registrations.map((item) => (item.id === id ? { ...item, status } : item));\r\n\r\n                // Cập nhật thống kê\r\n                const approvedRegistrations =\r\n                    status === \"approved\" ? this.state.approvedRegistrations + 1 : status === \"rejected\" ? this.state.approvedRegistrations : this.state.approvedRegistrations - 1;\r\n\r\n                const pendingRegistrations = this.state.pendingRegistrations - 1;\r\n\r\n                const rejectedRegistrations =\r\n                    status === \"rejected\" ? this.state.rejectedRegistrations + 1 : status === \"approved\" ? this.state.rejectedRegistrations : this.state.rejectedRegistrations - 1;\r\n\r\n                this.setState(\r\n                    {\r\n                        registrations: updatedRegistrations,\r\n                        approvedRegistrations,\r\n                        pendingRegistrations,\r\n                        rejectedRegistrations,\r\n                        isLoading: false,\r\n                    },\r\n                    this.filterRegistrations\r\n                );\r\n\r\n                toast.success(`${status === \"approved\" ? \"Duyệt\" : \"Từ chối\"} đăng ký thành công!`);\r\n            } else {\r\n                toast.error(res.data.errMessage || \"Lỗi khi cập nhật trạng thái\");\r\n                this.setState({ isLoading: false });\r\n            }\r\n        } catch (e) {\r\n            toast.error(\"Không thể kết nối máy chủ\");\r\n            this.setState({ isLoading: false });\r\n        }\r\n    };\r\n\r\n    // Xử lý điểm danh\r\n    handleAttendance = (registration) => {\r\n        this.setState({\r\n            showAttendanceModal: true,\r\n            selectedRegistration: registration,\r\n            attendanceDate: registration.attendanceTime ? new Date(registration.attendanceTime) : new Date(),\r\n            attendanceNote: registration.attendanceNote || \"\",\r\n        });\r\n    };\r\n\r\n    closeAttendanceModal = () => {\r\n        this.setState({\r\n            showAttendanceModal: false,\r\n            selectedRegistration: null,\r\n            attendanceDate: new Date(),\r\n            attendanceNote: \"\",\r\n        });\r\n    };\r\n\r\n    handleAttendanceDateChange = (date) => {\r\n        this.setState({ attendanceDate: date });\r\n    };\r\n\r\n    handleAttendanceNoteChange = (e) => {\r\n        this.setState({ attendanceNote: e.target.value });\r\n    };\r\n\r\n    markAttendance = async () => {\r\n        const { selectedRegistration, attendanceDate, attendanceNote } = this.state;\r\n\r\n        try {\r\n            this.setState({ isLoading: true });\r\n\r\n            const attendanceData = {\r\n                id: selectedRegistration.id,\r\n                attendanceStatus: 1,\r\n                attendanceTime: attendanceDate.toISOString(),\r\n                attendanceNote: attendanceNote,\r\n            };\r\n\r\n            const res = await updateEventRegistration(attendanceData);\r\n\r\n            if (res && res.data && res.data.errCode === 0) {\r\n                // Cập nhật danh sách đăng ký\r\n                const updatedRegistrations = this.state.registrations.map((item) =>\r\n                    item.id === selectedRegistration.id\r\n                        ? {\r\n                              ...item,\r\n                              attendanceStatus: 1,\r\n                              attendanceTime: attendanceDate.toISOString(),\r\n                              attendanceNote: attendanceNote,\r\n                          }\r\n                        : item\r\n                );\r\n\r\n                // Cập nhật thống kê\r\n                const attendedRegistrations = this.state.attendedRegistrations + 1;\r\n\r\n                this.setState(\r\n                    {\r\n                        registrations: updatedRegistrations,\r\n                        attendedRegistrations,\r\n                        isLoading: false,\r\n                        showAttendanceModal: false,\r\n                    },\r\n                    this.filterRegistrations\r\n                );\r\n\r\n                toast.success(\"Điểm danh thành công!\");\r\n            } else {\r\n                toast.error(res.data.errMessage || \"Điểm danh không thành công\");\r\n                this.setState({ isLoading: false });\r\n            }\r\n        } catch (e) {\r\n            toast.error(\"Không thể kết nối máy chủ\");\r\n            this.setState({ isLoading: false });\r\n        }\r\n    };\r\n\r\n    cancelAttendance = async (id) => {\r\n        try {\r\n            this.setState({ isLoading: true });\r\n\r\n            const attendanceData = {\r\n                id: id,\r\n                attendanceStatus: 0,\r\n                attendanceTime: null,\r\n                attendanceNote: \"\",\r\n            };\r\n\r\n            const res = await updateEventRegistration(attendanceData);\r\n\r\n            if (res && res.data && res.data.errCode === 0) {\r\n                // Cập nhật danh sách đăng ký\r\n                const updatedRegistrations = this.state.registrations.map((item) =>\r\n                    item.id === id\r\n                        ? {\r\n                              ...item,\r\n                              attendanceStatus: 0,\r\n                              attendanceTime: null,\r\n                              attendanceNote: \"\",\r\n                          }\r\n                        : item\r\n                );\r\n\r\n                // Cập nhật thống kê\r\n                const attendedRegistrations = this.state.attendedRegistrations - 1;\r\n\r\n                this.setState(\r\n                    {\r\n                        registrations: updatedRegistrations,\r\n                        attendedRegistrations,\r\n                        isLoading: false,\r\n                    },\r\n                    this.filterRegistrations\r\n                );\r\n\r\n                toast.success(\"Hủy điểm danh thành công!\");\r\n            } else {\r\n                toast.error(res.data.errMessage || \"Hủy điểm danh không thành công\");\r\n                this.setState({ isLoading: false });\r\n            }\r\n        } catch (e) {\r\n            toast.error(\"Không thể kết nối máy chủ\");\r\n            this.setState({ isLoading: false });\r\n        }\r\n    };\r\n\r\n    // Xem chi tiết đăng ký\r\n    handleViewDetail = (registration) => {\r\n        this.setState({\r\n            showDetailModal: true,\r\n            selectedRegistration: registration,\r\n        });\r\n    };\r\n\r\n    closeDetailModal = () => {\r\n        this.setState({\r\n            showDetailModal: false,\r\n            selectedRegistration: null,\r\n        });\r\n    };\r\n\r\n    // Quay lại trang danh sách sự kiện\r\n    handleBackToEvents = () => {\r\n        this.props.history.push(\"/system/event-display\");\r\n    };\r\n\r\n    // Xuất dữ liệu ra file CSV\r\n    exportToCSV = () => {\r\n        const { filteredRegistrations } = this.state;\r\n\r\n        if (filteredRegistrations.length === 0) {\r\n            toast.info(\"Không có dữ liệu để xuất\");\r\n            return;\r\n        }\r\n\r\n        // Tạo dữ liệu CSV\r\n        const headers = [\r\n            \"STT\",\r\n            \"Họ tên\",\r\n            \"Email\",\r\n            \"Số điện thoại\",\r\n            \"Ngày đăng ký\",\r\n            \"Trạng thái đăng ký\",\r\n            \"Trạng thái thanh toán\",\r\n            \"Phương thức thanh toán\",\r\n            \"Trạng thái điểm danh\",\r\n            \"Thời gian điểm danh\",\r\n            \"Ghi chú\",\r\n        ];\r\n\r\n        const csvData = [\r\n            headers.join(\",\"),\r\n            ...filteredRegistrations.map((item, idx) =>\r\n                [\r\n                    idx + 1,\r\n                    item.name || \"\",\r\n                    item.email || \"\",\r\n                    item.phoneNumber || \"\",\r\n                    item.registeredAt ? moment(item.registeredAt).format(\"DD/MM/YYYY HH:mm\") : \"\",\r\n                    item.status === \"approved\" ? \"Đã duyệt\" : item.status === \"pending\" ? \"Chờ duyệt\" : \"Từ chối\",\r\n                    item.statusCostCode === \"PS1\" ? \"Đã thanh toán\" : \"Chưa thanh toán\",\r\n                    item.payMethod?.valueVi || \"\",\r\n                    item.attendanceStatus === 1 ? \"Đã điểm danh\" : \"Chưa điểm danh\",\r\n                    item.attendanceTime ? moment(item.attendanceTime).format(\"DD/MM/YYYY HH:mm\") : \"\",\r\n                    item.notes || \"\",\r\n                ].join(\",\")\r\n            ),\r\n        ].join(\"\\n\");\r\n\r\n        // Tạo file CSV và tải xuống\r\n        const blob = new Blob([csvData], { type: \"text/csv;charset=utf-8;\" });\r\n        const link = document.createElement(\"a\");\r\n        const url = URL.createObjectURL(blob);\r\n        link.setAttribute(\"href\", url);\r\n        link.setAttribute(\"download\", `danh-sach-dang-ky-${this.state.eventName.replace(/[^a-z0-9]/gi, \"-\")}-${new Date().getTime()}.csv`);\r\n        link.style.visibility = \"hidden\";\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    };\r\n\r\n    // Format date\r\n    formatDate = (dateString) => {\r\n        if (!dateString) return \"-\";\r\n        return moment(dateString).format(\"DD/MM/YYYY HH:mm\");\r\n    };\r\n\r\n    // Thêm hàm xử lý toggle điểm danh nhanh vào class EventRegistrationManage\r\n    handleAttendanceToggle = async (event, item) => {\r\n        // Ngăn hành vi mặc định để tránh bubble event\r\n        event.stopPropagation();\r\n\r\n        const newAttendanceStatus = item.attendanceStatus === 1 ? 0 : 1;\r\n        const newAttendanceTime = newAttendanceStatus === 1 ? new Date().toISOString() : null;\r\n\r\n        try {\r\n            // Cập nhật UI trước để tăng trải nghiệm người dùng\r\n            const updatedRegistrations = this.state.registrations.map((reg) =>\r\n                reg.id === item.id\r\n                    ? {\r\n                          ...reg,\r\n                          attendanceStatus: newAttendanceStatus,\r\n                          attendanceTime: newAttendanceTime,\r\n                      }\r\n                    : reg\r\n            );\r\n\r\n            const attendedRegistrations = newAttendanceStatus === 1 ? this.state.attendedRegistrations + 1 : this.state.attendedRegistrations - 1;\r\n\r\n            this.setState(\r\n                {\r\n                    registrations: updatedRegistrations,\r\n                    attendedRegistrations,\r\n                },\r\n                this.filterRegistrations\r\n            );\r\n\r\n            // Gửi request API\r\n            const attendanceData = {\r\n                id: item.id,\r\n                eventId: this.state.eventId,\r\n                attendanceStatus: newAttendanceStatus,\r\n                attendanceTime: newAttendanceTime,\r\n            };\r\n\r\n            const res = await updateEventRegistration(attendanceData);\r\n            console.log(\"API response updateEventRegistration:\", res);\r\n            if (res && res.data && res.data.errCode === 0) {\r\n                toast.success(newAttendanceStatus === 1 ? \"Điểm danh thành công!\" : \"Hủy điểm danh thành công!\");\r\n                // Tạo thông báo và gửi email\r\n                const notificationData = {\r\n                    user_id: item.userId,\r\n                    title: newAttendanceStatus === 1 ? `Đã điểm danh sự kiện ${this.state.eventName}` : `Hủy điểm danh sự kiện ${this.state.eventName}`,\r\n                    message:\r\n                        newAttendanceStatus === 1\r\n                            ? `Bạn đã được điểm danh tham gia sự kiện \"${this.state.eventName}\" vào lúc ${moment(newAttendanceTime).format(\"DD/MM/YYYY HH:mm\")}`\r\n                            : `Điểm danh của bạn cho sự kiện \"${this.state.eventName}\" đã bị hủy.`,\r\n                    type: \"event_update\",\r\n                    reference_id: this.state.eventId,\r\n                    reference_type: \"EVENT_ATTENDANCE\",\r\n                    created_by: this.props.userInfo?.id || \"system\", // Sử dụng ID người dùng hiện tại hoặc \"system\" nếu không có\r\n                    created_at: this.state.attendanceTime || new Date().toISOString(),\r\n                    link: `/event-registration-details/${this.state.eventId}`,\r\n                    send_to_all: false, // Chỉ gửi cho người dùng cụ thể\r\n                };\r\n\r\n                try {\r\n                    const notifyRes = await createNotification(notificationData);\r\n                    console.log(\"Notification created:\", notifyRes);\r\n\r\n                    if (notifyRes && notifyRes.data && notifyRes.data.errCode === 0) {\r\n                        console.log(`Thông báo và email đã được gửi cho người dùng ${item.name}`);\r\n                    } else {\r\n                        console.error(\"Không thể tạo thông báo:\", notifyRes?.data?.errMessage || \"Lỗi không xác định\");\r\n                    }\r\n                } catch (notifyError) {\r\n                    console.error(\"Lỗi khi tạo thông báo:\", notifyError);\r\n                }\r\n            } else {\r\n                // Rollback UI nếu API thất bại\r\n                const revertedRegistrations = this.state.registrations.map((reg) =>\r\n                    reg.id === item.id\r\n                        ? {\r\n                              ...reg,\r\n                              attendanceStatus: item.attendanceStatus,\r\n                              attendanceTime: item.attendanceTime,\r\n                          }\r\n                        : reg\r\n                );\r\n\r\n                const revertedCount = newAttendanceStatus === 0 ? this.state.attendedRegistrations + 1 : this.state.attendedRegistrations - 1;\r\n\r\n                this.setState(\r\n                    {\r\n                        registrations: revertedRegistrations,\r\n                        attendedRegistrations: revertedCount,\r\n                    },\r\n                    this.filterRegistrations\r\n                );\r\n\r\n                toast.error(res?.data?.errMessage || \"Cập nhật điểm danh không thành công\");\r\n            }\r\n        } catch (e) {\r\n            console.error(\"Lỗi khi cập nhật điểm danh:\", e);\r\n            toast.error(\"Không thể kết nối máy chủ\");\r\n\r\n            // Rollback UI khi có lỗi\r\n            const revertedRegistrations = this.state.registrations.map((reg) =>\r\n                reg.id === item.id\r\n                    ? {\r\n                          ...reg,\r\n                          attendanceStatus: item.attendanceStatus,\r\n                          attendanceTime: item.attendanceTime,\r\n                      }\r\n                    : reg\r\n            );\r\n\r\n            const revertedCount = newAttendanceStatus === 0 ? this.state.attendedRegistrations + 1 : this.state.attendedRegistrations - 1;\r\n\r\n            this.setState(\r\n                {\r\n                    registrations: revertedRegistrations,\r\n                    attendedRegistrations: revertedCount,\r\n                },\r\n                this.filterRegistrations\r\n            );\r\n        }\r\n    };\r\n\r\n    // Thêm phương thức xuất thống kê ra CSV\r\n    exportStatisticsToCSV = () => {\r\n        const { eventStats } = this.state;\r\n\r\n        if (!eventStats) {\r\n            toast.info(\"Không có dữ liệu thống kê để xuất\");\r\n            return;\r\n        }\r\n\r\n        const { eventInfo, registrationStats, attendanceStats, paymentStats } = eventStats;\r\n\r\n        // Tạo dữ liệu CSV\r\n        let csvData = [\r\n            // Thông tin sự kiện\r\n            [\"THỐNG KÊ SỰ KIỆN\"],\r\n            [\"Tên sự kiện:\", eventInfo.name],\r\n            [\"Ngày diễn ra:\", moment(eventInfo.date).format(\"DD/MM/YYYY\")],\r\n            [\"Địa điểm:\", eventInfo.address],\r\n            [\"Loại sự kiện:\", eventInfo.type],\r\n            [\"Trạng thái:\", eventInfo.status],\r\n            [\"\"],\r\n\r\n            // Thống kê đăng ký\r\n            [\"THỐNG KÊ ĐĂNG KÝ\"],\r\n            [\"Sức chứa:\", eventInfo.capacity + \" người\"],\r\n            [\"Đã đăng ký:\", registrationStats.total + \" người\"],\r\n            [\"Còn trống:\", registrationStats.remainingSlots + \" chỗ\"],\r\n            [\"Tỷ lệ đăng ký:\", registrationStats.registrationRate + \"%\"],\r\n            [\"Đăng ký đầu tiên:\", registrationStats.timeStats.earliest ? moment(registrationStats.timeStats.earliest).format(\"DD/MM/YYYY HH:mm\") : \"-\"],\r\n            [\"Đăng ký mới nhất:\", registrationStats.timeStats.latest ? moment(registrationStats.timeStats.latest).format(\"DD/MM/YYYY HH:mm\") : \"-\"],\r\n            [\"\"],\r\n\r\n            // Thống kê tham dự\r\n            [\"THỐNG KÊ THAM DỰ\"],\r\n            [\"Đã tham dự:\", attendanceStats.attended + \" người\"],\r\n            [\"Chưa tham dự:\", attendanceStats.notAttended + \" người\"],\r\n            [\"Tỷ lệ tham dự:\", attendanceStats.attendanceRate + \"%\"],\r\n            [\"Điểm danh sớm nhất:\", attendanceStats.earliestAttendance ? moment(attendanceStats.earliestAttendance).format(\"DD/MM/YYYY HH:mm\") : \"-\"],\r\n            [\"Điểm danh muộn nhất:\", attendanceStats.latestAttendance ? moment(attendanceStats.latestAttendance).format(\"DD/MM/YYYY HH:mm\") : \"-\"],\r\n            [\"\"],\r\n\r\n            // Thống kê thanh toán\r\n            [\"THỐNG KÊ THANH TOÁN\"],\r\n            [\"Doanh thu dự kiến:\", paymentStats.expectedRevenue.toLocaleString(\"vi-VN\") + \" VNĐ\"],\r\n            [\"Đã thanh toán:\", paymentStats.totalPaid.toLocaleString(\"vi-VN\") + \" VNĐ\"],\r\n            [\"Chưa thanh toán:\", paymentStats.totalUnpaid.toLocaleString(\"vi-VN\") + \" VNĐ\"],\r\n            [\"Tỷ lệ thanh toán:\", paymentStats.paymentRate + \"%\"],\r\n            [\"\"],\r\n\r\n            // Thống kê theo trạng thái thanh toán\r\n            [\"THEO TRẠNG THÁI THANH TOÁN\"],\r\n            [\"Trạng thái\", \"Số lượng\", \"Thành tiền (VNĐ)\"],\r\n        ];\r\n\r\n        // Thêm dữ liệu trạng thái thanh toán\r\n        paymentStats.byStatus.forEach((status) => {\r\n            csvData.push([status.name, status.count, status.amount.toLocaleString(\"vi-VN\")]);\r\n        });\r\n\r\n        csvData.push([\"\"]);\r\n        csvData.push([\"THEO PHƯƠNG THỨC THANH TOÁN\"]);\r\n        csvData.push([\"Phương thức\", \"Số lượng\", \"Thành tiền (VNĐ)\"]);\r\n\r\n        // Thêm dữ liệu phương thức thanh toán\r\n        paymentStats.byMethod.forEach((method) => {\r\n            csvData.push([method.name, method.count, method.amount.toLocaleString(\"vi-VN\")]);\r\n        });\r\n\r\n        csvData.push([\"\"]);\r\n        csvData.push([\"PHÂN BỐ ĐĂNG KÝ THEO THỜI GIAN\"]);\r\n        csvData.push([\"Ngày\", \"Số lượng đăng ký\"]);\r\n\r\n        // Thêm dữ liệu phân bố đăng ký theo thời gian\r\n        registrationStats.timeStats.distribution.forEach((item) => {\r\n            csvData.push([moment(item.date).format(\"DD/MM/YYYY\"), item.count]);\r\n        });\r\n\r\n        csvData.push([\"\"]);\r\n        csvData.push([\"DANH SÁCH NGƯỜI THAM DỰ\"]);\r\n        csvData.push([\"STT\", \"Họ tên\", \"Email\", \"Số điện thoại\", \"Ngày đăng ký\", \"Trạng thái thanh toán\", \"Phương thức thanh toán\", \"Đã tham dự\", \"Thời gian tham dự\", \"Ghi chú\"]);\r\n\r\n        // Thêm danh sách người tham dự\r\n        eventStats.registrations.forEach((item, idx) => {\r\n            csvData.push([\r\n                idx + 1,\r\n                item.name || \"\",\r\n                item.email || \"\",\r\n                item.phoneNumber || \"\",\r\n                item.registeredAt ? moment(item.registeredAt).format(\"DD/MM/YYYY HH:mm\") : \"\",\r\n                item.paymentStatus || \"\",\r\n                item.paymentMethod || \"\",\r\n                item.attended ? \"Đã tham dự\" : \"Chưa tham dự\",\r\n                item.attendanceTime ? moment(item.attendanceTime).format(\"DD/MM/YYYY HH:mm\") : \"\",\r\n                item.notes || \"\",\r\n            ]);\r\n        });\r\n\r\n        // Chuyển đổi mảng dữ liệu thành chuỗi CSV\r\n        const csvContent = csvData.map((row) => row.join(\",\")).join(\"\\n\");\r\n\r\n        // Tạo file CSV và tải xuống\r\n        const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\r\n        const link = document.createElement(\"a\");\r\n        const url = URL.createObjectURL(blob);\r\n        link.setAttribute(\"href\", url);\r\n        link.setAttribute(\"download\", `thong-ke-su-kien-${eventInfo.name.replace(/[^a-z0-9]/gi, \"-\")}-${new Date().getTime()}.csv`);\r\n        link.style.visibility = \"hidden\";\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n\r\n        toast.success(\"Đã xuất thống kê sự kiện thành công!\");\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            eventName,\r\n            filteredRegistrations,\r\n            isLoading,\r\n            searchTerm,\r\n            statusFilter,\r\n            paymentFilter,\r\n            attendanceFilter,\r\n            showDetailModal,\r\n            showAttendanceModal,\r\n            selectedRegistration,\r\n            attendanceDate,\r\n            attendanceNote,\r\n            totalRegistrations,\r\n            approvedRegistrations,\r\n            pendingRegistrations,\r\n            rejectedRegistrations,\r\n            paidRegistrations,\r\n            unpaidRegistrations,\r\n            attendedRegistrations,\r\n            sortField,\r\n            sortDirection,\r\n            activeTab,\r\n            eventStats,\r\n        } = this.state;\r\n\r\n        return (\r\n            <Container fluid className=\"event-registration-manage-container p-4\">\r\n                <Button variant=\"outline-secondary\" className=\"mb-3\" onClick={this.handleBackToEvents}>\r\n                    <FaArrowLeft className=\"me-2\" /> Quay lại danh sách sự kiện\r\n                </Button>\r\n\r\n                <h3 className=\"mb-3 fw-bold\">Quản lý đăng ký: {eventName}</h3>\r\n\r\n                {/* Tab Navigation */}\r\n                <div className=\"event-tabs mb-4\">\r\n                    <ul className=\"nav nav-tabs\">\r\n                        <li className=\"nav-item\">\r\n                            <button className={`nav-link ${activeTab === \"registrations\" ? \"active\" : \"\"}`} onClick={() => this.handleTabChange(\"registrations\")}>\r\n                                <i className=\"fas fa-clipboard-list me-2\"></i>\r\n                                Danh sách đăng ký\r\n                            </button>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <button className={`nav-link ${activeTab === \"statistics\" ? \"active\" : \"\"}`} onClick={() => this.handleTabChange(\"statistics\")}>\r\n                                <i className=\"fas fa-chart-bar me-2\"></i>\r\n                                Thống kê sự kiện\r\n                            </button>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                {/* Dashboard Cards - hiển thị ở cả 2 tab */}\r\n                <Row className=\"mb-4\">\r\n                    <Col md={3} sm={6} className=\"mb-3 mb-sm-0\">\r\n                        <Card className=\"text-center h-100 shadow-sm\">\r\n                            <Card.Body>\r\n                                <h1 className=\"mb-0\">{totalRegistrations}</h1>\r\n                                <Card.Text>Tổng số đăng ký</Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n\r\n                    <Col md={3} sm={6}>\r\n                        <Card className=\"text-center h-100 shadow-sm\">\r\n                            <Card.Body>\r\n                                <h1 className=\"mb-0 text-info\">{attendedRegistrations}</h1>\r\n                                <Card.Text>Đã điểm danh</Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n\r\n                    {/* đã thanh toán */}\r\n                    <Col md={3} sm={6} className=\"mb-3 mb-sm-0\">\r\n                        <Card className=\"text-center h-100 shadow-sm\">\r\n                            <Card.Body>\r\n                                <h1 className=\"mb-0 text-success\">{paidRegistrations}</h1>\r\n                                <Card.Text>Đã thanh toán</Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Tab Content */}\r\n                {activeTab === \"registrations\" ? (\r\n                    // Nội dung tab đăng ký (phần hiện tại của bạn)\r\n                    <>\r\n                        <Table className=\"shadow-sm mb-4\">\r\n                            <Card.Header className=\"bg-white\">\r\n                                <h5 className=\"mb-0 fw-bold\">Bộ lọc & Tìm kiếm</h5>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row className=\"mb-3\">\r\n                                    <Col lg={3} md={6} className=\"mb-3 mb-md-0\">\r\n                                        <InputGroup>\r\n                                            <InputGroup.Text>\r\n                                                <FaSearch />\r\n                                            </InputGroup.Text>\r\n                                            <Form.Control placeholder=\"Tìm kiếm theo tên, email, SĐT, ghi chú...\" value={searchTerm} onChange={this.handleSearch} />\r\n                                        </InputGroup>\r\n                                    </Col>\r\n\r\n                                    <Col lg={8} md={6}>\r\n                                        <Row>\r\n                                            <Col md={3} className=\"mb-3 mb-md-0\">\r\n                                                <InputGroup>\r\n                                                    <InputGroup.Text>\r\n                                                        <FaMoneyBillWave />\r\n                                                    </InputGroup.Text>\r\n                                                    <Form.Select name=\"paymentFilter\" value={paymentFilter} onChange={this.handleFilterChange}>\r\n                                                        <option value=\"all\">Tất cả thanh toán</option>\r\n                                                        <option value=\"PS1\">Đã thanh toán</option>\r\n                                                        <option value=\"PS2\">Chưa thanh toán</option>\r\n                                                    </Form.Select>\r\n                                                </InputGroup>\r\n                                            </Col>\r\n\r\n                                            <Col md={3}>\r\n                                                <InputGroup>\r\n                                                    <InputGroup.Text>\r\n                                                        <FaUserCheck />\r\n                                                    </InputGroup.Text>\r\n                                                    <Form.Select name=\"attendanceFilter\" value={attendanceFilter} onChange={this.handleFilterChange}>\r\n                                                        <option value=\"all\">Tất cả điểm danh</option>\r\n                                                        <option value=\"attended\">Đã điểm danh</option>\r\n                                                        <option value=\"not-attended\">Chưa điểm danh</option>\r\n                                                    </Form.Select>\r\n                                                </InputGroup>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Col>\r\n                                </Row>\r\n\r\n                                <Row>\r\n                                    <Col className=\"d-flex justify-content-end\">\r\n                                        <Button variant=\"success\" onClick={this.exportToCSV}>\r\n                                            <FaFileExport className=\"me-2\" /> Xuất file CSV\r\n                                        </Button>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Table>\r\n\r\n                        <Table className=\"shadow-sm\">\r\n                            <Card.Body>\r\n                                {isLoading ? (\r\n                                    <div className=\"text-center my-5\">\r\n                                        <Spinner animation=\"border\" variant=\"primary\" />\r\n                                        <div className=\"mt-2\">Đang tải dữ liệu...</div>\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"table-responsive\">\r\n                                        <Table hover className=\"align-middle\">\r\n                                            <thead className=\"table-light\">\r\n                                                <tr>\r\n                                                    <th>#</th>\r\n                                                    <th className=\"sortable\" onClick={() => this.handleSort(\"name\")}>\r\n                                                        Họ tên\r\n                                                        {sortField === \"name\" && <FaSort className=\"ms-1\" />}\r\n                                                    </th>\r\n                                                    <th className=\"sortable\" onClick={() => this.handleSort(\"email\")}>\r\n                                                        Email\r\n                                                        {sortField === \"email\" && <FaSort className=\"ms-1\" />}\r\n                                                    </th>\r\n                                                    <th>Số điện thoại</th>\r\n                                                    <th className=\"sortable\" onClick={() => this.handleSort(\"registeredAt\")}>\r\n                                                        Ngày đăng ký\r\n                                                        {sortField === \"registeredAt\" && <FaSort className=\"ms-1\" />}\r\n                                                    </th>\r\n                                                    {/* <th>Trạng thái</th> */}\r\n                                                    <th>Thanh toán</th>\r\n                                                    <th>Điểm danh</th>\r\n                                                    <th>Thao tác</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {filteredRegistrations && filteredRegistrations.length > 0 ? (\r\n                                                    filteredRegistrations.map((item, idx) => (\r\n                                                        <tr key={item.id}>\r\n                                                            <td>{idx + 1}</td>\r\n                                                            <td>{item.name}</td>\r\n                                                            <td>{item.email}</td>\r\n                                                            <td>{item.phoneNumber || \"-\"}</td>\r\n                                                            <td>{this.formatDate(item.registeredAt)}</td>\r\n\r\n                                                            <td>\r\n                                                                {item.statusCostCode === \"PS1\" ? (\r\n                                                                    <Badge bg=\"success\">{item.payMethod?.valueVi || \"Đã thanh toán\"}</Badge>\r\n                                                                ) : (\r\n                                                                    <Badge bg=\"secondary\">Chưa thanh toán</Badge>\r\n                                                                )}\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <div className=\"form-check form-switch\">\r\n                                                                    <input\r\n                                                                        className=\"form-check-input\"\r\n                                                                        type=\"checkbox\"\r\n                                                                        id={`attendance-${item.id}`}\r\n                                                                        checked={item.attendanceStatus === 1}\r\n                                                                        onChange={(e) => this.handleAttendanceToggle(e, item)}\r\n                                                                    />\r\n                                                                    {item.attendanceStatus === 1 && (\r\n                                                                        <small className=\"d-block text-muted mt-1\">{moment(item.attendanceTime).format(\"DD/MM/YYYY HH:mm\")}</small>\r\n                                                                    )}\r\n                                                                </div>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <div className=\"d-flex\">\r\n                                                                    <Button\r\n                                                                        variant=\"outline-info\"\r\n                                                                        size=\"sm\"\r\n                                                                        className=\"me-1\"\r\n                                                                        onClick={() => this.handleViewDetail(item)}\r\n                                                                        title=\"Xem chi tiết\"\r\n                                                                    >\r\n                                                                        <FaEye />\r\n                                                                    </Button>\r\n\r\n                                                                    {item.status === \"pending\" && (\r\n                                                                        <>\r\n                                                                            <Button\r\n                                                                                variant=\"outline-success\"\r\n                                                                                size=\"sm\"\r\n                                                                                className=\"me-1\"\r\n                                                                                onClick={() => this.handleApprove(item.id)}\r\n                                                                                title=\"Duyệt đăng ký\"\r\n                                                                            >\r\n                                                                                <FaCheck />\r\n                                                                            </Button>\r\n                                                                            <Button\r\n                                                                                variant=\"outline-danger\"\r\n                                                                                size=\"sm\"\r\n                                                                                onClick={() => this.handleReject(item.id)}\r\n                                                                                title=\"Từ chối đăng ký\"\r\n                                                                            >\r\n                                                                                <FaTimes />\r\n                                                                            </Button>\r\n                                                                        </>\r\n                                                                    )}\r\n\r\n                                                                    {item.status === \"approved\" && (\r\n                                                                        <>\r\n                                                                            {item.attendanceStatus === 0 ? (\r\n                                                                                <Button\r\n                                                                                    variant=\"outline-primary\"\r\n                                                                                    size=\"sm\"\r\n                                                                                    className=\"me-1\"\r\n                                                                                    onClick={() => this.handleAttendance(item)}\r\n                                                                                    title=\"Điểm danh\"\r\n                                                                                >\r\n                                                                                    <FaCalendarCheck />\r\n                                                                                </Button>\r\n                                                                            ) : (\r\n                                                                                <Button\r\n                                                                                    variant=\"outline-secondary\"\r\n                                                                                    size=\"sm\"\r\n                                                                                    className=\"me-1\"\r\n                                                                                    onClick={() => this.cancelAttendance(item.id)}\r\n                                                                                    title=\"Hủy điểm danh\"\r\n                                                                                >\r\n                                                                                    <FaTimes />\r\n                                                                                </Button>\r\n                                                                            )}\r\n                                                                        </>\r\n                                                                    )}\r\n                                                                </div>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    ))\r\n                                                ) : (\r\n                                                    <tr>\r\n                                                        <td colSpan=\"9\" className=\"text-center py-3\">\r\n                                                            {searchTerm || statusFilter !== \"all\" || paymentFilter !== \"all\" || attendanceFilter !== \"all\"\r\n                                                                ? \"Không tìm thấy đăng ký nào phù hợp với bộ lọc\"\r\n                                                                : \"Chưa có ai đăng ký sự kiện này\"}\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                )}\r\n                                            </tbody>\r\n                                        </Table>\r\n                                    </div>\r\n                                )}\r\n                            </Card.Body>\r\n                        </Table>\r\n\r\n                        {/* Modal xem chi tiết đăng ký */}\r\n                        <Modal show={showDetailModal} onHide={this.closeDetailModal} centered size=\"lg\">\r\n                            <Modal.Header closeButton>\r\n                                <Modal.Title>Chi tiết đăng ký</Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body>\r\n                                {selectedRegistration &&\r\n                                    // kiểm tra thông tin toàn bộ sự kiện\r\n                                    (console.log(selectedRegistration),\r\n                                    (\r\n                                        <div>\r\n                                            <Tabs defaultActiveKey=\"user-info\" className=\"mb-4\">\r\n                                                <Tab eventKey=\"user-info\" title=\"Thông tin người đăng ký\">\r\n                                                    <Row className=\"mb-3\">\r\n                                                        <Col md={4} className=\"fw-bold\">\r\n                                                            Họ và tên:\r\n                                                        </Col>\r\n                                                        <Col md={8}>{selectedRegistration.name}</Col>\r\n                                                    </Row>\r\n                                                    <Row className=\"mb-3\">\r\n                                                        <Col md={4} className=\"fw-bold\">\r\n                                                            Email:\r\n                                                        </Col>\r\n                                                        <Col md={8}>{selectedRegistration.email}</Col>\r\n                                                    </Row>\r\n                                                    <Row className=\"mb-3\">\r\n                                                        <Col md={4} className=\"fw-bold\">\r\n                                                            Số điện thoại:\r\n                                                        </Col>\r\n                                                        <Col md={8}>{selectedRegistration.phoneNumber || \"Không có\"}</Col>\r\n                                                    </Row>\r\n                                                    {selectedRegistration.User?.address && (\r\n                                                        <Row className=\"mb-3\">\r\n                                                            <Col md={4} className=\"fw-bold\">\r\n                                                                Địa chỉ:\r\n                                                            </Col>\r\n                                                            <Col md={8}>{selectedRegistration.User.address}</Col>\r\n                                                        </Row>\r\n                                                    )}\r\n                                                    {selectedRegistration.User?.gender && (\r\n                                                        <Row className=\"mb-3\">\r\n                                                            <Col md={4} className=\"fw-bold\">\r\n                                                                Giới tính:\r\n                                                            </Col>\r\n                                                            <Col md={8}>\r\n                                                                {selectedRegistration.User.gender === \"M\" ? \"Nam\" : selectedRegistration.User.gender === \"F\" ? \"Nữ\" : \"Khác\"}\r\n                                                            </Col>\r\n                                                        </Row>\r\n                                                    )}\r\n                                                </Tab>\r\n                                                <Tab eventKey=\"registration-info\" title=\"Thông tin đăng ký\">\r\n                                                    <Row className=\"mb-3\">\r\n                                                        <Col md={4} className=\"fw-bold\">\r\n                                                            Thời gian đăng ký:\r\n                                                        </Col>\r\n                                                        <Col md={8}>{this.formatDate(selectedRegistration.registeredAt)}</Col>\r\n                                                    </Row>\r\n                                                    <Row className=\"mb-3\">\r\n                                                        <Col md={4} className=\"fw-bold\">\r\n                                                            Trạng thái thanh toán:\r\n                                                        </Col>\r\n                                                        <Col md={8}>\r\n                                                            {selectedRegistration.statusCostCode === \"PS1\" ? (\r\n                                                                <Badge bg=\"success\">Đã thanh toán</Badge>\r\n                                                            ) : (\r\n                                                                <Badge bg=\"secondary\">Chưa thanh toán</Badge>\r\n                                                            )}\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                    <Row className=\"mb-3\">\r\n                                                        <Col md={4} className=\"fw-bold\">\r\n                                                            Phương thức thanh toán:\r\n                                                        </Col>\r\n                                                        <Col md={8}>{selectedRegistration.payMethod?.valueVi || \"-\"}</Col>\r\n                                                    </Row>\r\n                                                    <Row className=\"mb-3\">\r\n                                                        <Col md={4} className=\"fw-bold\">\r\n                                                            Trạng thái điểm danh:\r\n                                                        </Col>\r\n                                                        <Col md={8}>\r\n                                                            {selectedRegistration.attendanceStatus === 1 ? (\r\n                                                                <Badge bg=\"success\">Đã điểm danh</Badge>\r\n                                                            ) : (\r\n                                                                <Badge bg=\"secondary\">Chưa điểm danh</Badge>\r\n                                                            )}\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                    {selectedRegistration.attendanceStatus === 1 && (\r\n                                                        <Row className=\"mb-3\">\r\n                                                            <Col md={4} className=\"fw-bold\">\r\n                                                                Thời gian điểm danh:\r\n                                                            </Col>\r\n                                                            <Col md={8}>{this.formatDate(selectedRegistration.attendanceTime)}</Col>\r\n                                                        </Row>\r\n                                                    )}\r\n                                                    {selectedRegistration.notes && (\r\n                                                        <Row className=\"mb-3\">\r\n                                                            <Col md={4} className=\"fw-bold\">\r\n                                                                Ghi chú:\r\n                                                            </Col>\r\n                                                            <Col md={8}>{selectedRegistration.notes}</Col>\r\n                                                        </Row>\r\n                                                    )}\r\n                                                </Tab>\r\n                                            </Tabs>\r\n\r\n                                            <div className=\"d-flex justify-content-between mt-4\">\r\n                                                {selectedRegistration.status === \"pending\" && (\r\n                                                    <div className=\"d-flex gap-2\">\r\n                                                        <Button\r\n                                                            variant=\"success\"\r\n                                                            onClick={() => {\r\n                                                                this.handleApprove(selectedRegistration.id);\r\n                                                                this.closeDetailModal();\r\n                                                            }}\r\n                                                        >\r\n                                                            <FaCheck className=\"me-2\" /> Duyệt đăng ký\r\n                                                        </Button>\r\n                                                        <Button\r\n                                                            variant=\"danger\"\r\n                                                            onClick={() => {\r\n                                                                this.handleReject(selectedRegistration.id);\r\n                                                                this.closeDetailModal();\r\n                                                            }}\r\n                                                        >\r\n                                                            <FaTimes className=\"me-2\" /> Từ chối đăng ký\r\n                                                        </Button>\r\n                                                    </div>\r\n                                                )}\r\n\r\n                                                {selectedRegistration.status === \"approved\" && selectedRegistration.attendanceStatus === 0 && (\r\n                                                    <Button\r\n                                                        variant=\"primary\"\r\n                                                        onClick={() => {\r\n                                                            this.closeDetailModal();\r\n                                                            this.handleAttendance(selectedRegistration);\r\n                                                        }}\r\n                                                    >\r\n                                                        <FaCalendarCheck className=\"me-2\" /> Điểm danh\r\n                                                    </Button>\r\n                                                )}\r\n\r\n                                                <Button variant=\"secondary\" onClick={this.closeDetailModal}>\r\n                                                    Đóng\r\n                                                </Button>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                            </Modal.Body>\r\n                        </Modal>\r\n                    </>\r\n                ) : (\r\n                    // Nội dung tab thống kê (phần mới)\r\n                    this.renderStatisticsTab()\r\n                )}\r\n\r\n                {/* Các modal hiện tại */}\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        systemMenuPath: state.app.systemMenuPath,\r\n        isLoggedIn: state.user.isLoggedIn,\r\n        userInforr: state.user.userInforr, // Lấy thông tin người dùng từ Redux store\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(EventRegistrationManage));\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}