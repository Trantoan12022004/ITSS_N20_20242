{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Trant\\\\Documents\\\\L\\u1EADp Tr\\xECnh Web\\\\CTES WEB\\\\React - Copy\\\\src\\\\components\\\\Header\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions\";\n// Thêm import các service cho thông báo\nimport { getUserNotifications, markNotificationAsRead } from \"../../services/notificationServices\";\nimport MenuItems from \"./MenuItems\";\nimport { languages } from \"../../utils/constant\";\nimport normalLogo from \"../../assets/images/logos/logo.png\";\nimport stickyLogo from \"../../assets/images/logos/logo.png\";\nimport \"./index.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.loadNotifications = async () => {\n      var _this$props$userInfor;\n      if (!((_this$props$userInfor = this.props.userInforr) === null || _this$props$userInfor === void 0 ? void 0 : _this$props$userInfor.id)) return;\n      console.log(\"Loading notifications for user ID:\", this.props.userInforr.id);\n      const userInforr = this.props.userInforr;\n      console.log(\"User ID:\", userInforr);\n      this.setState({\n        isLoadingNotifications: true\n      });\n      try {\n        const response = await getUserNotifications(userInforr);\n        if (response && response.data.errCode === 0) {\n          const notifications = response.data.data;\n          console.log(\"Notifications:\", notifications);\n          console.log(\"Notification clicked:\", notifications[0].is_read);\n\n          // Đếm số thông báo chưa đọc\n          const unreadCount = notifications.filter(n => !n.is_read).length;\n          console.log(\"Unread Count:\", unreadCount);\n          this.setState({\n            notifications,\n            unreadCount,\n            isLoadingNotifications: false\n          });\n        }\n      } catch (error) {\n        console.error(\"Lỗi khi tải thông báo:\", error);\n        this.setState({\n          isLoadingNotifications: false\n        });\n      }\n    };\n    this.handleNotificationClick = async (notification, event) => {\n      // Nếu đang click vào nút xem thêm/thu gọn, không thực hiện các thao tác khác\n      if (event.target.classList.contains(\"expand-toggle\")) {\n        return;\n      }\n\n      // Nếu chưa đọc, đánh dấu là đã đọc\n      if (!notification.is_read) {\n        try {\n          const data = {\n            notificationId: notification.id,\n            userId: this.props.userInforr.id\n          };\n          console.log(\"Marking notification as read:\", data);\n          const response = await markNotificationAsRead(data);\n          console.log(\"Phản hồi từ sever:\", response);\n          if (response && response.data.errCode === 0) {\n            // Cập nhật state\n            this.setState(prevState => ({\n              notifications: prevState.notifications.map(n => n.id === notification.id ? {\n                ...n,\n                is_read: true\n              } : n),\n              unreadCount: Math.max(0, prevState.unreadCount - 1)\n            }));\n          }\n        } catch (error) {\n          console.error(\"Lỗi khi đánh dấu thông báo đã đọc:\", error);\n        }\n      }\n\n      // Đóng dropdown thông báo\n      this.setState({\n        notificationMenuOpen: false\n      });\n\n      // Điều hướng nếu có link\n      if (notification.link) {\n        window.location.href = notification.link;\n      }\n    };\n    this.formatNotificationTime = timestamp => {\n      const date = new Date(timestamp);\n      const now = new Date();\n      const diffInSeconds = Math.floor((now - date) / 1000);\n      if (diffInSeconds < 60) {\n        return \"Vừa xong\";\n      } else if (diffInSeconds < 3600) {\n        return `${Math.floor(diffInSeconds / 60)} phút trước`;\n      } else if (diffInSeconds < 86400) {\n        return `${Math.floor(diffInSeconds / 3600)} giờ trước`;\n      } else {\n        return date.toLocaleDateString(\"vi-VN\");\n      }\n    };\n    this.toggleVisibility = () => {\n      // Hiển thị sticky header sau khi cuộn 100px\n      if (window.pageYOffset > 100) {\n        this.setState({\n          isVisible: true\n        });\n      } else {\n        this.setState({\n          isVisible: false\n        });\n      }\n    };\n    this.toggleMenu = () => {\n      this.setState(prevState => ({\n        menuOpen: !prevState.menuOpen\n      }));\n    };\n    this.toggleUserMenu = () => {\n      this.setState(prevState => ({\n        userMenuOpen: !prevState.userMenuOpen\n      }));\n    };\n    this.toggleNotificationMenu = () => {\n      this.setState(prevState => ({\n        notificationMenuOpen: !prevState.notificationMenuOpen\n      }));\n    };\n    this.handleClickOutside = event => {\n      // Đóng menu dropdown khi click ra ngoài\n      if (this.dropdownRef && this.dropdownRef.current && !this.dropdownRef.current.contains(event.target)) {\n        this.setState({\n          userMenuOpen: false\n        });\n      }\n\n      // Đóng notification dropdown khi click ra ngoài\n      if (this.notificationRef && this.notificationRef.current && !this.notificationRef.current.contains(event.target)) {\n        this.setState({\n          notificationMenuOpen: false\n        });\n      }\n    };\n    this.toggleNotificationExpand = (notificationId, event) => {\n      event.stopPropagation(); // Ngăn event bubbling lên đến notification item\n\n      this.setState(prevState => ({\n        expandedNotificationId: prevState.expandedNotificationId === notificationId ? null : notificationId\n      }));\n    };\n    this.state = {\n      menuOpen: false,\n      isVisible: false,\n      userMenuOpen: false,\n      // Thêm state mới cho thông báo\n      notificationMenuOpen: false,\n      notifications: [],\n      unreadCount: 0,\n      isLoadingNotifications: false,\n      expandedNotificationId: null // Thêm state mới để theo dõi thông báo đang mở rộng\n    };\n\n    // Tạo ref cho dropdown để xử lý click outside\n    this.dropdownRef = /*#__PURE__*/React.createRef();\n    // Thêm ref cho dropdown thông báo\n    this.notificationRef = /*#__PURE__*/React.createRef();\n  }\n\n  // ===== Lifecycle Methods =====\n  componentDidMount() {\n    var _this$props$userInfor2;\n    window.addEventListener(\"scroll\", this.toggleVisibility);\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n\n    // Nếu đã đăng nhập, tải thông báo\n    if (this.props.isLoggedIn && ((_this$props$userInfor2 = this.props.userInforr) === null || _this$props$userInfor2 === void 0 ? void 0 : _this$props$userInfor2.id)) {\n      this.loadNotifications();\n    }\n  }\n\n  // Thêm để cập nhật thông báo khi đăng nhập\n  componentDidUpdate(prevProps) {\n    var _prevProps$userInforr, _this$props$userInfor3, _this$props$userInfor4;\n    if (!prevProps.isLoggedIn && this.props.isLoggedIn || ((_prevProps$userInforr = prevProps.userInforr) === null || _prevProps$userInforr === void 0 ? void 0 : _prevProps$userInforr.id) !== ((_this$props$userInfor3 = this.props.userInforr) === null || _this$props$userInfor3 === void 0 ? void 0 : _this$props$userInfor3.id) && ((_this$props$userInfor4 = this.props.userInforr) === null || _this$props$userInfor4 === void 0 ? void 0 : _this$props$userInfor4.id)) {\n      this.loadNotifications();\n    }\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.toggleVisibility);\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  // ===== Notification Methods =====\n  // Tải danh sách thông báo\n\n  // Xử lý khi click vào thông báo\n\n  // Định dạng thời gian thông báo\n\n  // ===== Header Visibility Controls =====\n\n  // ===== Menu Controls =====\n\n  // ===== User Menu Controls =====\n\n  // Toggle thông báo menu\n\n  // Thêm hàm mới để toggle xem thêm/thu gọn thông báo\n\n  // ===== Render Method =====\n  render() {\n    var _userInforr$firstName, _userInforr$lastName;\n    const {\n      menuOpen,\n      isVisible,\n      userMenuOpen,\n      notificationMenuOpen,\n      notifications,\n      unreadCount,\n      isLoadingNotifications,\n      expandedNotificationId\n    } = this.state;\n    const {\n      topbarEnable,\n      headerClass,\n      parentMenu,\n      headerNormalLogo,\n      headerStickyLogo,\n      isLoggedIn,\n      userInforr,\n      language\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"header\", {\n      id: \"react-header\",\n      className: headerClass ? headerClass : \"react-header react-header-three\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: isVisible ? \"header-area react-sticky\" : \"header-area\",\n        children: [topbarEnable && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"topbar-area style1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-lg-7\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"topbar-contact\",\n                  children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        width: \"24\",\n                        height: \"24\",\n                        viewBox: \"0 0 24 24\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        strokeWidth: \"2\",\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        className: \"feather feather-phone\",\n                        children: /*#__PURE__*/_jsxDEV(\"path\", {\n                          d: \"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 227,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 215,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: \"tel:(+84)0123456789\",\n                        children: \" (+84) 0123 456 789\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 229,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        width: \"24\",\n                        height: \"24\",\n                        viewBox: \"0 0 24 24\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        strokeWidth: \"2\",\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        className: \"feather feather-mail\",\n                        children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                          d: \"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 244,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                          points: \"22,6 12,13 2,6\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 245,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 232,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: \"mailto:info@ctes.org\",\n                        children: \"info@ctes.org\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 247,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-lg-5 text-right\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"toolbar-sl-share\",\n                  children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                    className: \"social-links\",\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: \"#\",\n                        \"aria-label\": \"Facebook\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          \"aria-hidden\": \"true\",\n                          className: \"social_facebook\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 259,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 258,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: \"#\",\n                        \"aria-label\": \"Twitter\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          \"aria-hidden\": \"true\",\n                          className: \"social_twitter\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 264,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 263,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: \"#\",\n                        \"aria-label\": \"LinkedIn\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          \"aria-hidden\": \"true\",\n                          className: \"social_linkedin\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 269,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 268,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-part\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"react-main-menu\",\n              children: /*#__PURE__*/_jsxDEV(\"nav\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"menu-toggle\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"logo\",\n                    children: isVisible ? /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/\",\n                      className: \"logo-text\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: headerStickyLogo || stickyLogo,\n                        alt: \"CTES Logo\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 290,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 49\n                    }, this) : /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/\",\n                      className: \"logo-text\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: headerNormalLogo || normalLogo,\n                        alt: \"CTES Logo\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 294,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 293,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    id: \"menu-btn\",\n                    className: menuOpen ? \"mobile-menu-btn open\" : \"mobile-menu-btn\",\n                    onClick: this.toggleMenu,\n                    \"aria-label\": \"Toggle menu\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon-bar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon-bar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 306,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon-bar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: menuOpen ? \"react-inner-menus menu-open\" : \"react-inner-menus\",\n                  children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                    id: \"backmenu\",\n                    className: \"react-menus react-sub-shadow\",\n                    children: /*#__PURE__*/_jsxDEV(MenuItems, {\n                      parentMenu: parentMenu\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"header-actions\",\n                    children: !isLoggedIn ?\n                    /*#__PURE__*/\n                    // Login Button - Không thay đổi\n                    _jsxDEV(\"div\", {\n                      className: \"login-button\",\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: \"/login\",\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-sign-in-alt\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 324,\n                          columnNumber: 57\n                        }, this), \" \\u0110\\u0103ng nh\\u1EADp\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 323,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 322,\n                      columnNumber: 49\n                    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"notification-dropdown\",\n                        ref: this.notificationRef,\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"notification-btn\",\n                          onClick: this.toggleNotificationMenu,\n                          \"aria-label\": \"Th\\xF4ng b\\xE1o\",\n                          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fas fa-bell\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 332,\n                            columnNumber: 61\n                          }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"notification-badge\",\n                            children: unreadCount > 99 ? \"99+\" : unreadCount\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 333,\n                            columnNumber: 81\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 331,\n                          columnNumber: 57\n                        }, this), notificationMenuOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"notification-dropdown-menu\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"notification-header\",\n                            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                              children: \"Th\\xF4ng b\\xE1o\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 340,\n                              columnNumber: 69\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 339,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"notification-body\",\n                            children: isLoadingNotifications ? /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"loading-notifications\",\n                              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                                children: \"\\u0110ang t\\u1EA3i th\\xF4ng b\\xE1o...\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 346,\n                                columnNumber: 77\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 345,\n                              columnNumber: 73\n                            }, this) : notifications.length > 0 ? notifications.slice(0, notifications.length).map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: `notification-item ${!notification.is_read ? \"unread\" : \"\"}`,\n                              onClick: e => this.handleNotificationClick(notification, e),\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"notification-icon\",\n                                children: [notification.type === \"event_created\" && /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fas fa-calendar-plus\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 356,\n                                  columnNumber: 127\n                                }, this), notification.type === \"help_request\" && /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fas fa-hands-helping\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 357,\n                                  columnNumber: 126\n                                }, this), notification.type === \"event_updated\" && /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fas fa-calendar-check\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 358,\n                                  columnNumber: 127\n                                }, this), notification.type === \"event_summary\" && /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fas fa-star\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 359,\n                                  columnNumber: 127\n                                }, this), notification.type === \"event_canceled\" && /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fas fa-calendar-times\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 360,\n                                  columnNumber: 128\n                                }, this), ![\"event_created\", \"help_request\", \"event_updated\", \"event_summary\", \"event_canceled\"].includes(notification.type) && /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fas fa-bell\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 367,\n                                  columnNumber: 118\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 355,\n                                columnNumber: 81\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"notification-content\",\n                                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                                  children: notification.title\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 370,\n                                  columnNumber: 85\n                                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                  className: expandedNotificationId === notification.id ? \"expanded\" : \"\",\n                                  children: notification.message\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 371,\n                                  columnNumber: 85\n                                }, this), notification.message && notification.message.length > 75 && /*#__PURE__*/_jsxDEV(\"button\", {\n                                  className: \"expand-toggle\",\n                                  onClick: e => this.toggleNotificationExpand(notification.id, e),\n                                  children: expandedNotificationId === notification.id ? \"Thu gọn\" : \"Xem thêm\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 376,\n                                  columnNumber: 89\n                                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                                  children: this.formatNotificationTime(notification.created_at)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 383,\n                                  columnNumber: 85\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 369,\n                                columnNumber: 81\n                              }, this)]\n                            }, notification.id, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 350,\n                              columnNumber: 77\n                            }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"no-notifications\",\n                              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                                children: \"Kh\\xF4ng c\\xF3 th\\xF4ng b\\xE1o n\\xE0o\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 389,\n                                columnNumber: 77\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 388,\n                              columnNumber: 73\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 343,\n                            columnNumber: 65\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 338,\n                          columnNumber: 61\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 330,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"user-dropdown\",\n                        ref: this.dropdownRef,\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"dropdown\",\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"btn btn-secondary dropdown-toggle\",\n                            type: \"button\",\n                            onClick: this.toggleUserMenu,\n                            \"aria-label\": \"User menu\",\n                            children: [(userInforr === null || userInforr === void 0 ? void 0 : userInforr.lastName) || \"User\", (userInforr === null || userInforr === void 0 ? void 0 : userInforr.image) ? /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: userInforr.image,\n                              alt: \"User Avatar\",\n                              className: \"dropdown-avatar\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 414,\n                              columnNumber: 69\n                            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"dropdown-avatar-placeholder\",\n                              children: (userInforr === null || userInforr === void 0 ? void 0 : (_userInforr$firstName = userInforr.firstName) === null || _userInforr$firstName === void 0 ? void 0 : _userInforr$firstName.charAt(0)) || (userInforr === null || userInforr === void 0 ? void 0 : (_userInforr$lastName = userInforr.lastName) === null || _userInforr$lastName === void 0 ? void 0 : _userInforr$lastName.charAt(0)) || \"U\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 416,\n                              columnNumber: 69\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 406,\n                            columnNumber: 61\n                          }, this), userMenuOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"dropdown-menu show\",\n                            children: [/*#__PURE__*/_jsxDEV(Link, {\n                              to: \"/user-profile/profile/$\",\n                              className: \"dropdown-item\",\n                              onClick: () => this.setState({\n                                userMenuOpen: false\n                              }),\n                              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                                className: \"fas fa-user\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 426,\n                                columnNumber: 73\n                              }, this), \" H\\u1ED3 s\\u01A1 c\\xE1 nh\\xE2n\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 425,\n                              columnNumber: 69\n                            }, this), (userInforr === null || userInforr === void 0 ? void 0 : userInforr.roleId) === \"R1\" && /*#__PURE__*/_jsxDEV(Link, {\n                              to: \"/system/user-display\",\n                              className: \"dropdown-item\",\n                              onClick: () => this.setState({\n                                userMenuOpen: false\n                              }),\n                              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                                className: \"fas fa-cogs\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 436,\n                                columnNumber: 77\n                              }, this), \" Qu\\u1EA3n tr\\u1ECB h\\u1EC7 th\\u1ED1ng\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 431,\n                              columnNumber: 73\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"dropdown-divider\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 440,\n                              columnNumber: 69\n                            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                              className: \"dropdown-item\",\n                              onClick: () => {\n                                this.props.processLogout();\n                                this.setState({\n                                  userMenuOpen: false\n                                });\n                                window.location.href = \"/home\";\n                              },\n                              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                                className: \"fas fa-sign-out-alt\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 451,\n                                columnNumber: 73\n                              }, this), \" \\u0110\\u0103ng xu\\u1EA5t\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 443,\n                              columnNumber: 69\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 424,\n                            columnNumber: 65\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 405,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 404,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n// Redux Connection\nconst mapStateToProps = state => ({\n  isLoggedIn: state.user.isLoggedIn,\n  userInforr: state.user.userInforr,\n  language: state.app.language\n});\nconst mapDispatchToProps = dispatch => ({\n  processLogout: () => dispatch(actions.processLogout()),\n  changeLanguageAppRedux: language => dispatch(actions.changeLanguageApp(language))\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","map":{"version":3,"names":["React","Component","Link","connect","actions","getUserNotifications","markNotificationAsRead","MenuItems","languages","normalLogo","stickyLogo","jsxDEV","_jsxDEV","Fragment","_Fragment","Header","constructor","props","loadNotifications","_this$props$userInfor","userInforr","id","console","log","setState","isLoadingNotifications","response","data","errCode","notifications","is_read","unreadCount","filter","n","length","error","handleNotificationClick","notification","event","target","classList","contains","notificationId","userId","prevState","map","Math","max","notificationMenuOpen","link","window","location","href","formatNotificationTime","timestamp","date","Date","now","diffInSeconds","floor","toLocaleDateString","toggleVisibility","pageYOffset","isVisible","toggleMenu","menuOpen","toggleUserMenu","userMenuOpen","toggleNotificationMenu","handleClickOutside","dropdownRef","current","notificationRef","toggleNotificationExpand","stopPropagation","expandedNotificationId","state","createRef","componentDidMount","_this$props$userInfor2","addEventListener","document","isLoggedIn","componentDidUpdate","prevProps","_prevProps$userInforr","_this$props$userInfor3","_this$props$userInfor4","componentWillUnmount","removeEventListener","render","_userInforr$firstName","_userInforr$lastName","topbarEnable","headerClass","parentMenu","headerNormalLogo","headerStickyLogo","language","className","children","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","fileName","_jsxFileName","lineNumber","columnNumber","points","to","src","alt","type","onClick","ref","slice","e","includes","title","message","created_at","lastName","image","firstName","charAt","roleId","processLogout","mapStateToProps","user","app","mapDispatchToProps","dispatch","changeLanguageAppRedux","changeLanguageApp"],"sources":["C:/Users/Trant/Documents/Lập Trình Web/CTES WEB/React - Copy/src/components/Header/index.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../store/actions\";\r\n// Thêm import các service cho thông báo\r\nimport { getUserNotifications, markNotificationAsRead } from \"../../services/notificationServices\";\r\n\r\nimport MenuItems from \"./MenuItems\";\r\nimport { languages } from \"../../utils/constant\";\r\nimport normalLogo from \"../../assets/images/logos/logo.png\";\r\nimport stickyLogo from \"../../assets/images/logos/logo.png\";\r\nimport \"./index.scss\";\r\n\r\nclass Header extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            menuOpen: false,\r\n            isVisible: false,\r\n            userMenuOpen: false,\r\n            // Thêm state mới cho thông báo\r\n            notificationMenuOpen: false,\r\n            notifications: [],\r\n            unreadCount: 0,\r\n            isLoadingNotifications: false,\r\n            expandedNotificationId: null, // Thêm state mới để theo dõi thông báo đang mở rộng\r\n        };\r\n\r\n        // Tạo ref cho dropdown để xử lý click outside\r\n        this.dropdownRef = React.createRef();\r\n        // Thêm ref cho dropdown thông báo\r\n        this.notificationRef = React.createRef();\r\n    }\r\n\r\n    // ===== Lifecycle Methods =====\r\n    componentDidMount() {\r\n        window.addEventListener(\"scroll\", this.toggleVisibility);\r\n        document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n\r\n        // Nếu đã đăng nhập, tải thông báo\r\n        if (this.props.isLoggedIn && this.props.userInforr?.id) {\r\n            this.loadNotifications();\r\n        }\r\n    }\r\n\r\n    // Thêm để cập nhật thông báo khi đăng nhập\r\n    componentDidUpdate(prevProps) {\r\n        if ((!prevProps.isLoggedIn && this.props.isLoggedIn) || (prevProps.userInforr?.id !== this.props.userInforr?.id && this.props.userInforr?.id)) {\r\n            this.loadNotifications();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"scroll\", this.toggleVisibility);\r\n        document.removeEventListener(\"mousedown\", this.handleClickOutside);\r\n    }\r\n\r\n    // ===== Notification Methods =====\r\n    // Tải danh sách thông báo\r\n    loadNotifications = async () => {\r\n        if (!this.props.userInforr?.id) return;\r\n        console.log(\"Loading notifications for user ID:\", this.props.userInforr.id);\r\n        const userInforr = this.props.userInforr;\r\n        console.log(\"User ID:\", userInforr);\r\n        this.setState({ isLoadingNotifications: true });\r\n        try {\r\n            const response = await getUserNotifications(userInforr);\r\n\r\n            if (response && response.data.errCode === 0) {\r\n                const notifications = response.data.data;\r\n                console.log(\"Notifications:\", notifications);\r\n                console.log(\"Notification clicked:\", notifications[0].is_read);\r\n\r\n                // Đếm số thông báo chưa đọc\r\n                const unreadCount = notifications.filter((n) => !n.is_read).length;\r\n                console.log(\"Unread Count:\", unreadCount);\r\n                this.setState({\r\n                    notifications,\r\n                    unreadCount,\r\n                    isLoadingNotifications: false,\r\n                });\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Lỗi khi tải thông báo:\", error);\r\n            this.setState({ isLoadingNotifications: false });\r\n        }\r\n    };\r\n\r\n    // Xử lý khi click vào thông báo\r\n    handleNotificationClick = async (notification, event) => {\r\n        // Nếu đang click vào nút xem thêm/thu gọn, không thực hiện các thao tác khác\r\n        if (event.target.classList.contains(\"expand-toggle\")) {\r\n            return;\r\n        }\r\n\r\n        // Nếu chưa đọc, đánh dấu là đã đọc\r\n        if (!notification.is_read) {\r\n            try {\r\n                const data = {\r\n                    notificationId: notification.id,\r\n                    userId: this.props.userInforr.id,\r\n                };\r\n                console.log(\"Marking notification as read:\", data);\r\n                const response = await markNotificationAsRead(data);\r\n                console.log(\"Phản hồi từ sever:\", response);\r\n                if (response && response.data.errCode === 0) {\r\n                    // Cập nhật state\r\n                    this.setState((prevState) => ({\r\n                        notifications: prevState.notifications.map((n) => (n.id === notification.id ? { ...n, is_read: true } : n)),\r\n                        unreadCount: Math.max(0, prevState.unreadCount - 1),\r\n                    }));\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Lỗi khi đánh dấu thông báo đã đọc:\", error);\r\n            }\r\n        }\r\n\r\n        // Đóng dropdown thông báo\r\n        this.setState({ notificationMenuOpen: false });\r\n\r\n        // Điều hướng nếu có link\r\n        if (notification.link) {\r\n            window.location.href = notification.link;\r\n        }\r\n    };\r\n\r\n    // Định dạng thời gian thông báo\r\n    formatNotificationTime = (timestamp) => {\r\n        const date = new Date(timestamp);\r\n        const now = new Date();\r\n        const diffInSeconds = Math.floor((now - date) / 1000);\r\n\r\n        if (diffInSeconds < 60) {\r\n            return \"Vừa xong\";\r\n        } else if (diffInSeconds < 3600) {\r\n            return `${Math.floor(diffInSeconds / 60)} phút trước`;\r\n        } else if (diffInSeconds < 86400) {\r\n            return `${Math.floor(diffInSeconds / 3600)} giờ trước`;\r\n        } else {\r\n            return date.toLocaleDateString(\"vi-VN\");\r\n        }\r\n    };\r\n\r\n    // ===== Header Visibility Controls =====\r\n    toggleVisibility = () => {\r\n        // Hiển thị sticky header sau khi cuộn 100px\r\n        if (window.pageYOffset > 100) {\r\n            this.setState({ isVisible: true });\r\n        } else {\r\n            this.setState({ isVisible: false });\r\n        }\r\n    };\r\n\r\n    // ===== Menu Controls =====\r\n    toggleMenu = () => {\r\n        this.setState((prevState) => ({\r\n            menuOpen: !prevState.menuOpen,\r\n        }));\r\n    };\r\n\r\n    // ===== User Menu Controls =====\r\n    toggleUserMenu = () => {\r\n        this.setState((prevState) => ({\r\n            userMenuOpen: !prevState.userMenuOpen,\r\n        }));\r\n    };\r\n\r\n    // Toggle thông báo menu\r\n    toggleNotificationMenu = () => {\r\n        this.setState((prevState) => ({\r\n            notificationMenuOpen: !prevState.notificationMenuOpen,\r\n        }));\r\n    };\r\n\r\n    handleClickOutside = (event) => {\r\n        // Đóng menu dropdown khi click ra ngoài\r\n        if (this.dropdownRef && this.dropdownRef.current && !this.dropdownRef.current.contains(event.target)) {\r\n            this.setState({ userMenuOpen: false });\r\n        }\r\n\r\n        // Đóng notification dropdown khi click ra ngoài\r\n        if (this.notificationRef && this.notificationRef.current && !this.notificationRef.current.contains(event.target)) {\r\n            this.setState({ notificationMenuOpen: false });\r\n        }\r\n    };\r\n\r\n    // Thêm hàm mới để toggle xem thêm/thu gọn thông báo\r\n    toggleNotificationExpand = (notificationId, event) => {\r\n        event.stopPropagation(); // Ngăn event bubbling lên đến notification item\r\n\r\n        this.setState((prevState) => ({\r\n            expandedNotificationId: prevState.expandedNotificationId === notificationId ? null : notificationId,\r\n        }));\r\n    };\r\n\r\n    // ===== Render Method =====\r\n    render() {\r\n        const { menuOpen, isVisible, userMenuOpen, notificationMenuOpen, notifications, unreadCount, isLoadingNotifications, expandedNotificationId } = this.state;\r\n\r\n        const { topbarEnable, headerClass, parentMenu, headerNormalLogo, headerStickyLogo, isLoggedIn, userInforr, language } = this.props;\r\n\r\n        return (\r\n            <header id=\"react-header\" className={headerClass ? headerClass : \"react-header react-header-three\"}>\r\n                <div className={isVisible ? \"header-area react-sticky\" : \"header-area\"}>\r\n                    {/* Topbar Area - Không thay đổi */}\r\n                    {topbarEnable && (\r\n                        <div className=\"topbar-area style1\">\r\n                            <div className=\"container\">\r\n                                <div className=\"row\">\r\n                                    {/* Contact Information */}\r\n                                    <div className=\"col-lg-7\">\r\n                                        <div className=\"topbar-contact\">\r\n                                            <ul>\r\n                                                <li>\r\n                                                    <svg\r\n                                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                        width=\"24\"\r\n                                                        height=\"24\"\r\n                                                        viewBox=\"0 0 24 24\"\r\n                                                        fill=\"none\"\r\n                                                        stroke=\"currentColor\"\r\n                                                        strokeWidth=\"2\"\r\n                                                        strokeLinecap=\"round\"\r\n                                                        strokeLinejoin=\"round\"\r\n                                                        className=\"feather feather-phone\"\r\n                                                    >\r\n                                                        <path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"></path>\r\n                                                    </svg>\r\n                                                    <a href=\"tel:(+84)0123456789\"> (+84) 0123 456 789</a>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <svg\r\n                                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                        width=\"24\"\r\n                                                        height=\"24\"\r\n                                                        viewBox=\"0 0 24 24\"\r\n                                                        fill=\"none\"\r\n                                                        stroke=\"currentColor\"\r\n                                                        strokeWidth=\"2\"\r\n                                                        strokeLinecap=\"round\"\r\n                                                        strokeLinejoin=\"round\"\r\n                                                        className=\"feather feather-mail\"\r\n                                                    >\r\n                                                        <path d=\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"></path>\r\n                                                        <polyline points=\"22,6 12,13 2,6\"></polyline>\r\n                                                    </svg>\r\n                                                    <a href=\"mailto:info@ctes.org\">info@ctes.org</a>\r\n                                                </li>\r\n                                            </ul>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Social Links */}\r\n                                    <div className=\"col-lg-5 text-right\">\r\n                                        <div className=\"toolbar-sl-share\">\r\n                                            <ul className=\"social-links\">\r\n                                                <li>\r\n                                                    <a href=\"#\" aria-label=\"Facebook\">\r\n                                                        <span aria-hidden=\"true\" className=\"social_facebook\"></span>\r\n                                                    </a>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <a href=\"#\" aria-label=\"Twitter\">\r\n                                                        <span aria-hidden=\"true\" className=\"social_twitter\"></span>\r\n                                                    </a>\r\n                                                </li>\r\n                                                <li>\r\n                                                    <a href=\"#\" aria-label=\"LinkedIn\">\r\n                                                        <span aria-hidden=\"true\" className=\"social_linkedin\"></span>\r\n                                                    </a>\r\n                                                </li>\r\n                                            </ul>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* ===== Menu Area ===== */}\r\n                    <div className=\"menu-part\">\r\n                        <div className=\"container\">\r\n                            <div className=\"react-main-menu\">\r\n                                <nav>\r\n                                    {/* Logo & Mobile Menu Toggle */}\r\n                                    <div className=\"menu-toggle\">\r\n                                        <div className=\"logo\">\r\n                                            {isVisible ? (\r\n                                                <Link to=\"/\" className=\"logo-text\">\r\n                                                    <img src={headerStickyLogo || stickyLogo} alt=\"CTES Logo\" />\r\n                                                </Link>\r\n                                            ) : (\r\n                                                <Link to=\"/\" className=\"logo-text\">\r\n                                                    <img src={headerNormalLogo || normalLogo} alt=\"CTES Logo\" />\r\n                                                </Link>\r\n                                            )}\r\n                                        </div>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            id=\"menu-btn\"\r\n                                            className={menuOpen ? \"mobile-menu-btn open\" : \"mobile-menu-btn\"}\r\n                                            onClick={this.toggleMenu}\r\n                                            aria-label=\"Toggle menu\"\r\n                                        >\r\n                                            <span className=\"icon-bar\"></span>\r\n                                            <span className=\"icon-bar\"></span>\r\n                                            <span className=\"icon-bar\"></span>\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    {/* Main Menu Content */}\r\n                                    <div className={menuOpen ? \"react-inner-menus menu-open\" : \"react-inner-menus\"}>\r\n                                        {/* Navigation Items */}\r\n                                        <ul id=\"backmenu\" className=\"react-menus react-sub-shadow\">\r\n                                            <MenuItems parentMenu={parentMenu} />\r\n                                        </ul>\r\n\r\n                                        {/* User Actions Area - Chỉnh sửa */}\r\n                                        <div className=\"header-actions\">\r\n                                            {!isLoggedIn ? (\r\n                                                // Login Button - Không thay đổi\r\n                                                <div className=\"login-button\">\r\n                                                    <Link to=\"/login\">\r\n                                                        <i className=\"fas fa-sign-in-alt\"></i> Đăng nhập\r\n                                                    </Link>\r\n                                                </div>\r\n                                            ) : (\r\n                                                <>\r\n                                                    {/* Thêm Bell Notification */}\r\n                                                    <div className=\"notification-dropdown\" ref={this.notificationRef}>\r\n                                                        <button className=\"notification-btn\" onClick={this.toggleNotificationMenu} aria-label=\"Thông báo\">\r\n                                                            <i className=\"fas fa-bell\"></i>\r\n                                                            {unreadCount > 0 && <span className=\"notification-badge\">{unreadCount > 99 ? \"99+\" : unreadCount}</span>}\r\n                                                        </button>\r\n\r\n                                                        {/* Dropdown thông báo */}\r\n                                                        {notificationMenuOpen && (\r\n                                                            <div className=\"notification-dropdown-menu\">\r\n                                                                <div className=\"notification-header\">\r\n                                                                    <h5>Thông báo</h5>\r\n                                                                </div>\r\n\r\n                                                                <div className=\"notification-body\">\r\n                                                                    {isLoadingNotifications ? (\r\n                                                                        <div className=\"loading-notifications\">\r\n                                                                            <p>Đang tải thông báo...</p>\r\n                                                                        </div>\r\n                                                                    ) : notifications.length > 0 ? (\r\n                                                                        notifications.slice(0, notifications.length).map((notification) => (\r\n                                                                            <div\r\n                                                                                key={notification.id}\r\n                                                                                className={`notification-item ${!notification.is_read ? \"unread\" : \"\"}`}\r\n                                                                                onClick={(e) => this.handleNotificationClick(notification, e)}\r\n                                                                            >\r\n                                                                                <div className=\"notification-icon\">\r\n                                                                                    {notification.type === \"event_created\" && <i className=\"fas fa-calendar-plus\"></i>}\r\n                                                                                    {notification.type === \"help_request\" && <i className=\"fas fa-hands-helping\"></i>}\r\n                                                                                    {notification.type === \"event_updated\" && <i className=\"fas fa-calendar-check\"></i>}\r\n                                                                                    {notification.type === \"event_summary\" && <i className=\"fas fa-star\"></i>}\r\n                                                                                    {notification.type === \"event_canceled\" && <i className=\"fas fa-calendar-times\"></i>}\r\n                                                                                    {![\r\n                                                                                        \"event_created\",\r\n                                                                                        \"help_request\",\r\n                                                                                        \"event_updated\",\r\n                                                                                        \"event_summary\",\r\n                                                                                        \"event_canceled\",\r\n                                                                                    ].includes(notification.type) && <i className=\"fas fa-bell\"></i>}\r\n                                                                                </div>\r\n                                                                                <div className=\"notification-content\">\r\n                                                                                    <h6>{notification.title}</h6>\r\n                                                                                    <p className={expandedNotificationId === notification.id ? \"expanded\" : \"\"}>\r\n                                                                                        {notification.message}\r\n                                                                                    </p>\r\n                                                                                    {/* Thêm nút \"Xem thêm\" hoặc \"Thu gọn\" */}\r\n                                                                                    {notification.message && notification.message.length > 75 && (\r\n                                                                                        <button\r\n                                                                                            className=\"expand-toggle\"\r\n                                                                                            onClick={(e) => this.toggleNotificationExpand(notification.id, e)}\r\n                                                                                        >\r\n                                                                                            {expandedNotificationId === notification.id ? \"Thu gọn\" : \"Xem thêm\"}\r\n                                                                                        </button>\r\n                                                                                    )}\r\n                                                                                    <small>{this.formatNotificationTime(notification.created_at)}</small>\r\n                                                                                </div>\r\n                                                                            </div>\r\n                                                                        ))\r\n                                                                    ) : (\r\n                                                                        <div className=\"no-notifications\">\r\n                                                                            <p>Không có thông báo nào</p>\r\n                                                                        </div>\r\n                                                                    )}\r\n                                                                </div>\r\n\r\n                                                                {/* <div className=\"notification-footer\">\r\n                                                                    <Link to=\"/notifications\" className=\"view-all\" onClick={() => this.setState({ notificationMenuOpen: false })}>\r\n                                                                        Xem tất cả thông báo\r\n                                                                    </Link>\r\n                                                                </div> */}\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </div>\r\n\r\n                                                    {/* User Dropdown - Không thay đổi */}\r\n                                                    <div className=\"user-dropdown\" ref={this.dropdownRef}>\r\n                                                        <div className=\"dropdown\">\r\n                                                            <button\r\n                                                                className=\"btn btn-secondary dropdown-toggle\"\r\n                                                                type=\"button\"\r\n                                                                onClick={this.toggleUserMenu}\r\n                                                                aria-label=\"User menu\"\r\n                                                            >\r\n                                                                {userInforr?.lastName || \"User\"}\r\n                                                                {userInforr?.image ? (\r\n                                                                    <img src={userInforr.image} alt=\"User Avatar\" className=\"dropdown-avatar\" />\r\n                                                                ) : (\r\n                                                                    <span className=\"dropdown-avatar-placeholder\">\r\n                                                                        {userInforr?.firstName?.charAt(0) || userInforr?.lastName?.charAt(0) || \"U\"}\r\n                                                                    </span>\r\n                                                                )}\r\n                                                            </button>\r\n\r\n                                                            {/* User Dropdown Menu */}\r\n                                                            {userMenuOpen && (\r\n                                                                <div className=\"dropdown-menu show\">\r\n                                                                    <Link to=\"/user-profile/profile/$\" className=\"dropdown-item\" onClick={() => this.setState({ userMenuOpen: false })}>\r\n                                                                        <i className=\"fas fa-user\"></i> Hồ sơ cá nhân\r\n                                                                    </Link>\r\n\r\n                                                                    {/* Admin Option - Only For Admins */}\r\n                                                                    {userInforr?.roleId === \"R1\" && (\r\n                                                                        <Link\r\n                                                                            to=\"/system/user-display\"\r\n                                                                            className=\"dropdown-item\"\r\n                                                                            onClick={() => this.setState({ userMenuOpen: false })}\r\n                                                                        >\r\n                                                                            <i className=\"fas fa-cogs\"></i> Quản trị hệ thống\r\n                                                                        </Link>\r\n                                                                    )}\r\n\r\n                                                                    <div className=\"dropdown-divider\"></div>\r\n\r\n                                                                    {/* Logout Option */}\r\n                                                                    <a\r\n                                                                        className=\"dropdown-item\"\r\n                                                                        onClick={() => {\r\n                                                                            this.props.processLogout();\r\n                                                                            this.setState({ userMenuOpen: false });\r\n                                                                            window.location.href = \"/home\";\r\n                                                                        }}\r\n                                                                    >\r\n                                                                        <i className=\"fas fa-sign-out-alt\"></i> Đăng xuất\r\n                                                                    </a>\r\n                                                                </div>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </nav>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\n// Redux Connection\r\nconst mapStateToProps = (state) => ({\r\n    isLoggedIn: state.user.isLoggedIn,\r\n    userInforr: state.user.userInforr,\r\n    language: state.app.language,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    processLogout: () => dispatch(actions.processLogout()),\r\n    changeLanguageAppRedux: (language) => dispatch(actions.changeLanguageApp(language)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}