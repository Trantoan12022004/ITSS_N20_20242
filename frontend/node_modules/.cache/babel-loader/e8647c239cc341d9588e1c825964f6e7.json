{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Trant\\\\Documents\\\\L\\u1EADp Tr\\xECnh Web\\\\CTES WEB\\\\React - Copy\\\\src\\\\containers\\\\System\\\\EventRegistrationManage.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport ReactToPrint from \"react-to-print\";\nimport { createRef } from \"react\";\nimport html2canvas from \"html2canvas\";\nimport { jsPDF } from \"jspdf\";\nimport \"./EventDisplay.scss\";\nimport { getAllEvents, deleteEvent, updateEvent, getEventStatistics } from \"../../services/eventServices\";\nimport { createNotification } from \"../../services/notificationServices\";\nimport { toast } from \"react-toastify\";\nimport moment from \"moment\";\nimport { FormattedMessage } from \"react-intl\";\nimport Swal from \"sweetalert2\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport \"./EventRegistrationManage.scss\";\nimport { getEventRegistrationsById, updateEventRegistration, getEventById } from \"../../services/eventServices\";\nimport { Table, Badge, Button, Form, InputGroup, Spinner, Card, Container, Row, Col, Modal, Tabs, Tab, Dropdown } from \"react-bootstrap\";\nimport { FaSearch, FaFilter, FaCheck, FaTimes, FaEye, FaEdit, FaArrowLeft, FaFileExport, FaUserCheck, FaMoneyBillWave, FaCalendarCheck, FaSort } from \"react-icons/fa\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, PieChart, Pie, Cell, ResponsiveContainer, LineChart, Line } from \"recharts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass EventRegistrationManage extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchEventStatistics = async eventId => {\n      try {\n        this.setState({\n          isLoading: true\n        });\n        const res = await getEventStatistics(eventId);\n        console.log(\"API response getEventStatistics:\", res);\n        if (res && res.data && res.data.errCode === 0) {\n          console.log(\"Event Statistics:\", res.data.data);\n          this.setState({\n            eventStats: res.data.data,\n            isLoading: false\n          });\n        } else {\n          toast.error(res.data.errMessage || \"Lỗi khi tải thống kê sự kiện\");\n          this.setState({\n            isLoading: false\n          });\n        }\n      } catch (e) {\n        console.error(\"Error fetching event statistics:\", e);\n        toast.error(\"Không thể kết nối máy chủ\");\n        this.setState({\n          isLoading: false\n        });\n      }\n    };\n    this.handleTabChange = tab => {\n      this.setState({\n        activeTab: tab\n      });\n    };\n    this.renderStatisticsTab = () => {\n      const {\n        eventStats,\n        isLoading\n      } = this.state;\n      if (isLoading) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center my-5\",\n          children: [/*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            variant: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: \"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u th\\u1ED1ng k\\xEA...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }, this);\n      }\n      if (!eventStats) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center my-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-warning\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-exclamation-triangle me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 25\n            }, this), \"Kh\\xF4ng th\\u1EC3 t\\u1EA3i d\\u1EEF li\\u1EC7u th\\u1ED1ng k\\xEA. Vui l\\xF2ng th\\u1EED l\\u1EA1i sau.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }, this);\n      }\n      const {\n        eventInfo,\n        registrationStats,\n        attendanceStats,\n        paymentStats\n      } = eventStats;\n\n      // Chuẩn bị dữ liệu cho biểu đồ phân bố đăng ký theo thời gian\n      const registrationDistributionData = registrationStats.timeStats.distribution || [];\n\n      // Chuẩn bị dữ liệu cho biểu đồ tròn tỷ lệ tham dự\n      const attendanceData = [{\n        name: \"Đã tham dự\",\n        value: attendanceStats.attended,\n        color: \"#2dce89\"\n      }, {\n        name: \"Chưa tham dự\",\n        value: attendanceStats.notAttended,\n        color: \"#f5365c\"\n      }];\n\n      // Chuẩn bị dữ liệu cho biểu đồ thanh phương thức thanh toán\n      const paymentMethodData = paymentStats.byMethod.map(method => ({\n        name: method.name,\n        count: method.count,\n        amount: method.amount\n      }));\n\n      // Màu cho biểu đồ tròn\n      const COLORS = [\"#2dce89\", \"#f5365c\", \"#11cdef\", \"#fb6340\", \"#8965e0\"];\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"statistics-container\",\n        ref: this.statisticsRef,\n        children: [/*#__PURE__*/_jsxDEV(Table, {\n          className: \"shadow-sm mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            className: \"bg-white\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0 fw-bold\",\n              children: \"Th\\xF4ng tin s\\u1EF1 ki\\u1EC7n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"fw-bold\",\n                  children: \"Th\\xF4ng tin c\\u01A1 b\\u1EA3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Table, {\n                  borderless: true,\n                  size: \"sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"T\\xEAn s\\u1EF1 ki\\u1EC7n:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 162,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 161,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: eventInfo.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 164,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"Ng\\xE0y di\\u1EC5n ra:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 168,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 167,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: moment(eventInfo.date).format(\"DD/MM/YYYY\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 170,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"\\u0110\\u1ECBa \\u0111i\\u1EC3m:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 174,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 173,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: eventInfo.address\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 176,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 172,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"Lo\\u1EA1i s\\u1EF1 ki\\u1EC7n:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 180,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 179,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: eventInfo.type\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 182,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"Tr\\u1EA1ng th\\xE1i:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 186,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 185,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(Badge, {\n                          bg: eventInfo.status === \"Đang diễn ra\" ? \"success\" : eventInfo.status === \"Sắp diễn ra\" ? \"info\" : eventInfo.status === \"Đã kết thúc\" ? \"secondary\" : \"warning\",\n                          children: eventInfo.status\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 189,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 188,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"fw-bold\",\n                  children: \"Th\\xF4ng tin \\u0111\\u0103ng k\\xFD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Table, {\n                  borderless: true,\n                  size: \"sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"S\\u1EE9c ch\\u1EE9a:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 213,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 212,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [eventInfo.capacity, \" ng\\u01B0\\u1EDDi\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 215,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"\\u0110\\xE3 \\u0111\\u0103ng k\\xFD:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 219,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 218,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [registrationStats.total, \" ng\\u01B0\\u1EDDi\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 221,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 217,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"C\\xF2n tr\\u1ED1ng:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 225,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 224,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [registrationStats.remainingSlots, \" ch\\u1ED7\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 227,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"T\\u1EF7 l\\u1EC7 \\u0111\\u0103ng k\\xFD:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 231,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 230,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [registrationStats.registrationRate, \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 233,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"T\\u1EF7 l\\u1EC7 tham d\\u1EF1:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 237,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 236,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [attendanceStats.attendanceRate, \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 239,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 235,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              className: \"shadow-sm h-100\",\n              children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                className: \"bg-white\",\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"mb-0 fw-bold\",\n                  children: \"Ph\\xE2n b\\u1ED1 \\u0111\\u0103ng k\\xFD theo th\\u1EDDi gian\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"registration-chart\",\n                  children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                    width: \"100%\",\n                    height: 300,\n                    children: /*#__PURE__*/_jsxDEV(BarChart, {\n                      data: registrationDistributionData,\n                      margin: {\n                        top: 20,\n                        right: 30,\n                        left: 20,\n                        bottom: 5\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                        strokeDasharray: \"3 3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 260,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                        dataKey: \"date\",\n                        tickFormatter: date => moment(date).format(\"DD/MM\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 261,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 262,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                        formatter: (value, name) => [value + \" người\", \"Số lượng đăng ký\"],\n                        labelFormatter: date => `Ngày: ${moment(date).format(\"DD/MM/YYYY\")}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 263,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                        dataKey: \"count\",\n                        name: \"S\\u1ED1 ng\\u01B0\\u1EDDi \\u0111\\u0103ng k\\xFD\",\n                        fill: \"#5e72e4\",\n                        barSize: 30\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 267,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center mt-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: [registrationStats.timeStats.earliest ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [\"\\u0110\\u0103ng k\\xFD \\u0111\\u1EA7u ti\\xEAn: \", moment(registrationStats.timeStats.earliest).format(\"DD/MM/YYYY HH:mm\"), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 276,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true) : null, registrationStats.timeStats.latest ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [\"\\u0110\\u0103ng k\\xFD m\\u1EDBi nh\\u1EA5t: \", moment(registrationStats.timeStats.latest).format(\"DD/MM/YYYY HH:mm\")]\n                    }, void 0, true) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              className: \"shadow-sm h-100\",\n              children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                className: \"bg-white\",\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"mb-0 fw-bold\",\n                  children: \"T\\u1EF7 l\\u1EC7 tham d\\u1EF1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"attendance-chart\",\n                  style: {\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                    width: \"100%\",\n                    height: 250,\n                    children: /*#__PURE__*/_jsxDEV(PieChart, {\n                      children: [/*#__PURE__*/_jsxDEV(Pie, {\n                        data: attendanceData,\n                        cx: \"50%\",\n                        cy: \"50%\",\n                        labelLine: false,\n                        outerRadius: 80,\n                        fill: \"#8884d8\",\n                        dataKey: \"value\",\n                        nameKey: \"name\",\n                        label: ({\n                          name,\n                          percent\n                        }) => `${name}: ${(percent * 100).toFixed(0)}%`,\n                        children: attendanceData.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                          fill: entry.color || COLORS[index % COLORS.length]\n                        }, `cell-${index}`, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 307,\n                          columnNumber: 53\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 295,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                        formatter: (value, name) => [`${value} người`, name]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 311,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center mt-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: [attendanceStats.earliestAttendance ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [\"\\u0110i\\u1EC3m danh s\\u1EDBm nh\\u1EA5t: \", moment(attendanceStats.earliestAttendance).format(\"DD/MM/YYYY HH:mm\"), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 319,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true) : null, attendanceStats.latestAttendance ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [\"\\u0110i\\u1EC3m danh mu\\u1ED9n nh\\u1EA5t: \", moment(attendanceStats.latestAttendance).format(\"DD/MM/YYYY HH:mm\")]\n                      }, void 0, true) : null]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          className: \"shadow-sm mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            className: \"bg-white\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0 fw-bold\",\n              children: \"Th\\u1ED1ng k\\xEA thanh to\\xE1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"fw-bold\",\n                    children: \"T\\xECnh h\\xECnh thanh to\\xE1n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                    className: \"list-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"list-group-item d-flex justify-content-between align-items-center\",\n                      children: [\"Doanh thu d\\u1EF1 ki\\u1EBFn:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [paymentStats.expectedRevenue.toLocaleString(\"vi-VN\"), \" VN\\u0110\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 346,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"list-group-item d-flex justify-content-between align-items-center\",\n                      children: [\"\\u0110\\xE3 thanh to\\xE1n:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [paymentStats.totalPaid.toLocaleString(\"vi-VN\"), \" VN\\u0110\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 350,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 348,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"list-group-item d-flex justify-content-between align-items-center\",\n                      children: [\"Ch\\u01B0a thanh to\\xE1n:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [paymentStats.totalUnpaid.toLocaleString(\"vi-VN\"), \" VN\\u0110\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 354,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"list-group-item d-flex justify-content-between align-items-center\",\n                      children: [\"T\\u1EF7 l\\u1EC7 thanh to\\xE1n:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [paymentStats.paymentRate, \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 358,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 356,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"fw-bold\",\n                  children: \"Thanh to\\xE1n theo tr\\u1EA1ng th\\xE1i\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Table, {\n                  hover: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Tr\\u1EA1ng th\\xE1i\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 367,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"S\\u1ED1 l\\u01B0\\u1EE3ng\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 368,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Th\\xE0nh ti\\u1EC1n\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 369,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 366,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: paymentStats.byStatus.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(Badge, {\n                          bg: item.code === \"PS1\" ? \"success\" : \"secondary\",\n                          children: item.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 376,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 375,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.count\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 378,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [item.amount.toLocaleString(\"vi-VN\"), \" VN\\u0110\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 379,\n                        columnNumber: 49\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 45\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"fw-bold mb-3\",\n                  children: \"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"payment-chart\",\n                  children: [/*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                    width: \"100%\",\n                    height: 250,\n                    children: /*#__PURE__*/_jsxDEV(BarChart, {\n                      data: paymentMethodData,\n                      layout: \"vertical\",\n                      margin: {\n                        top: 20,\n                        right: 30,\n                        left: 60,\n                        bottom: 5\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                        strokeDasharray: \"3 3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 390,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                        type: \"number\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 391,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                        dataKey: \"name\",\n                        type: \"category\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 392,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                        formatter: (value, name) => [value + (name === \"count\" ? \" người\" : \" VNĐ\"), name === \"count\" ? \"Số lượng\" : \"Thành tiền\"]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 393,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                        formatter: value => value === \"count\" ? \"Số lượng\" : \"Thành tiền\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 394,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                        dataKey: \"count\",\n                        name: \"count\",\n                        fill: \"#5e72e4\",\n                        barSize: 30\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 395,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"fw-bold mt-4\",\n                    children: \"Chi ti\\u1EBFt theo ph\\u01B0\\u01A1ng th\\u1EE9c\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Table, {\n                    hover: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Ph\\u01B0\\u01A1ng th\\u1EE9c\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 403,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"S\\u1ED1 l\\u01B0\\u1EE3ng\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 404,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Th\\xE0nh ti\\u1EC1n\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 405,\n                          columnNumber: 49\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 402,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 401,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: paymentStats.byMethod.map((method, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          children: method.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 411,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: method.count\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 412,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [method.amount.toLocaleString(\"vi-VN\"), \" VN\\u0110\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 413,\n                          columnNumber: 53\n                        }, this)]\n                      }, index, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 410,\n                        columnNumber: 49\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 408,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-end mb-5 gap-2\",\n          children: /*#__PURE__*/_jsxDEV(Dropdown, {\n            children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n              variant: \"primary\",\n              id: \"export-dropdown\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-file-export me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 29\n              }, this), \" Xu\\u1EA5t b\\xE1o c\\xE1o\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n              children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: this.exportStatisticsToPDF,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-file-pdf me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 33\n                }, this), \" Xu\\u1EA5t PDF\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: this.exportStatisticsToCSV,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-file-csv me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 33\n                }, this), \" Xu\\u1EA5t CSV\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }, this);\n    };\n    this.fetchRegistrations = async eventId => {\n      try {\n        const res = await getEventRegistrationsById(eventId);\n        if (res && res.data && res.data.errCode === 0) {\n          var _events$data$data;\n          const registrations = res.data.data || [];\n\n          // Lấy tên sự kiện từ response\n          const events = await getEventById(eventId);\n          if (!events || !events.data || events.data.errCode !== 0) {\n            toast.error(\"Không tìm thấy thông tin sự kiện\");\n            this.setState({\n              isLoading: false\n            });\n            return;\n          }\n          const eventName = ((_events$data$data = events.data.data) === null || _events$data$data === void 0 ? void 0 : _events$data$data.name) || \"Sự kiện không rõ tên\";\n\n          // Thống kê\n          const approvedRegistrations = registrations.filter(r => r.status === \"approved\").length;\n          const pendingRegistrations = registrations.filter(r => r.status === \"pending\").length;\n          const rejectedRegistrations = registrations.filter(r => r.status === \"rejected\").length;\n          const paidRegistrations = registrations.filter(r => r.statusCostCode === \"PS1\").length;\n          const unpaidRegistrations = registrations.filter(r => r.statusCostCode === \"PS2\").length;\n          const attendedRegistrations = registrations.filter(r => r.attendanceStatus === 1).length;\n          this.setState({\n            registrations,\n            filteredRegistrations: registrations,\n            eventName,\n            isLoading: false,\n            totalRegistrations: registrations.length,\n            approvedRegistrations,\n            pendingRegistrations,\n            rejectedRegistrations,\n            paidRegistrations,\n            unpaidRegistrations,\n            attendedRegistrations\n          });\n        } else {\n          toast.error(res.data.errMessage || \"Lỗi khi tải danh sách đăng ký\");\n          this.setState({\n            isLoading: false\n          });\n        }\n      } catch (e) {\n        toast.error(\"Không thể kết nối máy chủ\");\n        this.setState({\n          isLoading: false\n        });\n      }\n    };\n    this.handleSearch = e => {\n      const searchTerm = e.target.value.toLowerCase();\n      this.setState({\n        searchTerm\n      }, this.filterRegistrations);\n    };\n    this.handleFilterChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      }, this.filterRegistrations);\n    };\n    this.handleSort = field => {\n      const {\n        sortField,\n        sortDirection\n      } = this.state;\n      const newDirection = field === sortField && sortDirection === \"asc\" ? \"desc\" : \"asc\";\n      this.setState({\n        sortField: field,\n        sortDirection: newDirection\n      }, this.filterRegistrations);\n    };\n    this.filterRegistrations = () => {\n      const {\n        registrations,\n        searchTerm,\n        statusFilter,\n        paymentFilter,\n        attendanceFilter,\n        sortField,\n        sortDirection\n      } = this.state;\n      let filtered = [...registrations];\n\n      // Áp dụng bộ lọc tìm kiếm\n      if (searchTerm) {\n        filtered = filtered.filter(item => {\n          const fullName = item.name ? item.name.toLowerCase() : \"\";\n          const email = item.email ? item.email.toLowerCase() : \"\";\n          const phone = item.phoneNumber ? item.phoneNumber.toLowerCase() : \"\";\n          const notes = item.notes ? item.notes.toLowerCase() : \"\";\n          return fullName.includes(searchTerm) || email.includes(searchTerm) || phone.includes(searchTerm) || notes.includes(searchTerm);\n        });\n      }\n\n      // Áp dụng bộ lọc trạng thái đăng ký\n      if (statusFilter !== \"all\") {\n        filtered = filtered.filter(item => item.status === statusFilter);\n      }\n\n      // Áp dụng bộ lọc trạng thái thanh toán\n      if (paymentFilter !== \"all\") {\n        filtered = filtered.filter(item => item.statusCostCode === paymentFilter);\n      }\n\n      // Áp dụng bộ lọc trạng thái điểm danh\n      if (attendanceFilter !== \"all\") {\n        const attendanceStatus = attendanceFilter === \"attended\" ? 1 : 0;\n        filtered = filtered.filter(item => item.attendanceStatus === attendanceStatus);\n      }\n\n      // Sắp xếp kết quả\n      filtered.sort((a, b) => {\n        let valueA, valueB;\n        switch (sortField) {\n          case \"name\":\n            valueA = a.name || \"\";\n            valueB = b.name || \"\";\n            break;\n          case \"email\":\n            valueA = a.email || \"\";\n            valueB = b.email || \"\";\n            break;\n          case \"phoneNumber\":\n            valueA = a.phoneNumber || \"\";\n            valueB = b.phoneNumber || \"\";\n            break;\n          case \"registeredAt\":\n          default:\n            valueA = a.registeredAt ? new Date(a.registeredAt) : null;\n            valueB = b.registeredAt ? new Date(b.registeredAt) : null;\n            break;\n        }\n        if (sortDirection === \"asc\") {\n          if (valueA < valueB) return -1;\n          if (valueA > valueB) return 1;\n          return 0;\n        } else {\n          if (valueA > valueB) return -1;\n          if (valueA < valueB) return 1;\n          return 0;\n        }\n      });\n      this.setState({\n        filteredRegistrations: filtered\n      });\n    };\n    this.handleApprove = async id => {\n      await this.updateStatus(id, \"approved\");\n    };\n    this.handleReject = async id => {\n      await this.updateStatus(id, \"rejected\");\n    };\n    this.updateStatus = async (id, status) => {\n      try {\n        this.setState({\n          isLoading: true\n        });\n        const res = await updateEventRegistration(id, status);\n        if (res && res.data && res.data.errCode === 0) {\n          // Cập nhật trạng thái trong state\n          const updatedRegistrations = this.state.registrations.map(item => item.id === id ? {\n            ...item,\n            status\n          } : item);\n\n          // Cập nhật thống kê\n          const approvedRegistrations = status === \"approved\" ? this.state.approvedRegistrations + 1 : status === \"rejected\" ? this.state.approvedRegistrations : this.state.approvedRegistrations - 1;\n          const pendingRegistrations = this.state.pendingRegistrations - 1;\n          const rejectedRegistrations = status === \"rejected\" ? this.state.rejectedRegistrations + 1 : status === \"approved\" ? this.state.rejectedRegistrations : this.state.rejectedRegistrations - 1;\n          this.setState({\n            registrations: updatedRegistrations,\n            approvedRegistrations,\n            pendingRegistrations,\n            rejectedRegistrations,\n            isLoading: false\n          }, this.filterRegistrations);\n          toast.success(`${status === \"approved\" ? \"Duyệt\" : \"Từ chối\"} đăng ký thành công!`);\n        } else {\n          toast.error(res.data.errMessage || \"Lỗi khi cập nhật trạng thái\");\n          this.setState({\n            isLoading: false\n          });\n        }\n      } catch (e) {\n        toast.error(\"Không thể kết nối máy chủ\");\n        this.setState({\n          isLoading: false\n        });\n      }\n    };\n    this.handleAttendance = registration => {\n      this.setState({\n        showAttendanceModal: true,\n        selectedRegistration: registration,\n        attendanceDate: registration.attendanceTime ? new Date(registration.attendanceTime) : new Date(),\n        attendanceNote: registration.attendanceNote || \"\"\n      });\n    };\n    this.closeAttendanceModal = () => {\n      this.setState({\n        showAttendanceModal: false,\n        selectedRegistration: null,\n        attendanceDate: new Date(),\n        attendanceNote: \"\"\n      });\n    };\n    this.handleAttendanceDateChange = date => {\n      this.setState({\n        attendanceDate: date\n      });\n    };\n    this.handleAttendanceNoteChange = e => {\n      this.setState({\n        attendanceNote: e.target.value\n      });\n    };\n    this.markAttendance = async () => {\n      const {\n        selectedRegistration,\n        attendanceDate,\n        attendanceNote\n      } = this.state;\n      try {\n        this.setState({\n          isLoading: true\n        });\n        const attendanceData = {\n          id: selectedRegistration.id,\n          attendanceStatus: 1,\n          attendanceTime: attendanceDate.toISOString(),\n          attendanceNote: attendanceNote\n        };\n        const res = await updateEventRegistration(attendanceData);\n        if (res && res.data && res.data.errCode === 0) {\n          // Cập nhật danh sách đăng ký\n          const updatedRegistrations = this.state.registrations.map(item => item.id === selectedRegistration.id ? {\n            ...item,\n            attendanceStatus: 1,\n            attendanceTime: attendanceDate.toISOString(),\n            attendanceNote: attendanceNote\n          } : item);\n\n          // Cập nhật thống kê\n          const attendedRegistrations = this.state.attendedRegistrations + 1;\n          this.setState({\n            registrations: updatedRegistrations,\n            attendedRegistrations,\n            isLoading: false,\n            showAttendanceModal: false\n          }, this.filterRegistrations);\n          toast.success(\"Điểm danh thành công!\");\n        } else {\n          toast.error(res.data.errMessage || \"Điểm danh không thành công\");\n          this.setState({\n            isLoading: false\n          });\n        }\n      } catch (e) {\n        toast.error(\"Không thể kết nối máy chủ\");\n        this.setState({\n          isLoading: false\n        });\n      }\n    };\n    this.cancelAttendance = async id => {\n      try {\n        this.setState({\n          isLoading: true\n        });\n        const attendanceData = {\n          id: id,\n          attendanceStatus: 0,\n          attendanceTime: null,\n          attendanceNote: \"\"\n        };\n        const res = await updateEventRegistration(attendanceData);\n        if (res && res.data && res.data.errCode === 0) {\n          // Cập nhật danh sách đăng ký\n          const updatedRegistrations = this.state.registrations.map(item => item.id === id ? {\n            ...item,\n            attendanceStatus: 0,\n            attendanceTime: null,\n            attendanceNote: \"\"\n          } : item);\n\n          // Cập nhật thống kê\n          const attendedRegistrations = this.state.attendedRegistrations - 1;\n          this.setState({\n            registrations: updatedRegistrations,\n            attendedRegistrations,\n            isLoading: false\n          }, this.filterRegistrations);\n          toast.success(\"Hủy điểm danh thành công!\");\n        } else {\n          toast.error(res.data.errMessage || \"Hủy điểm danh không thành công\");\n          this.setState({\n            isLoading: false\n          });\n        }\n      } catch (e) {\n        toast.error(\"Không thể kết nối máy chủ\");\n        this.setState({\n          isLoading: false\n        });\n      }\n    };\n    this.handleViewDetail = registration => {\n      this.setState({\n        showDetailModal: true,\n        selectedRegistration: registration\n      });\n    };\n    this.closeDetailModal = () => {\n      this.setState({\n        showDetailModal: false,\n        selectedRegistration: null\n      });\n    };\n    this.handleBackToEvents = () => {\n      this.props.history.push(\"/system/event-display\");\n    };\n    this.exportToCSV = () => {\n      const {\n        filteredRegistrations\n      } = this.state;\n      if (filteredRegistrations.length === 0) {\n        toast.info(\"Không có dữ liệu để xuất\");\n        return;\n      }\n\n      // Tạo dữ liệu CSV\n      const headers = [\"STT\", \"Họ tên\", \"Email\", \"Số điện thoại\", \"Ngày đăng ký\", \"Trạng thái đăng ký\", \"Trạng thái thanh toán\", \"Phương thức thanh toán\", \"Trạng thái điểm danh\", \"Thời gian điểm danh\", \"Ghi chú\"];\n      const csvData = [headers.join(\",\"), ...filteredRegistrations.map((item, idx) => {\n        var _item$payMethod;\n        return [idx + 1, item.name || \"\", item.email || \"\", item.phoneNumber || \"\", item.registeredAt ? moment(item.registeredAt).format(\"DD/MM/YYYY HH:mm\") : \"\", item.status === \"approved\" ? \"Đã duyệt\" : item.status === \"pending\" ? \"Chờ duyệt\" : \"Từ chối\", item.statusCostCode === \"PS1\" ? \"Đã thanh toán\" : \"Chưa thanh toán\", ((_item$payMethod = item.payMethod) === null || _item$payMethod === void 0 ? void 0 : _item$payMethod.valueVi) || \"\", item.attendanceStatus === 1 ? \"Đã điểm danh\" : \"Chưa điểm danh\", item.attendanceTime ? moment(item.attendanceTime).format(\"DD/MM/YYYY HH:mm\") : \"\", item.notes || \"\"].join(\",\");\n      })].join(\"\\n\");\n\n      // Tạo file CSV và tải xuống\n      const blob = new Blob([csvData], {\n        type: \"text/csv;charset=utf-8;\"\n      });\n      const link = document.createElement(\"a\");\n      const url = URL.createObjectURL(blob);\n      link.setAttribute(\"href\", url);\n      link.setAttribute(\"download\", `danh-sach-dang-ky-${this.state.eventName.replace(/[^a-z0-9]/gi, \"-\")}-${new Date().getTime()}.csv`);\n      link.style.visibility = \"hidden\";\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    };\n    this.formatDate = dateString => {\n      if (!dateString) return \"-\";\n      return moment(dateString).format(\"DD/MM/YYYY HH:mm\");\n    };\n    this.handleAttendanceToggle = async (event, item) => {\n      // Ngăn hành vi mặc định để tránh bubble event\n      event.stopPropagation();\n      const newAttendanceStatus = item.attendanceStatus === 1 ? 0 : 1;\n      const newAttendanceTime = newAttendanceStatus === 1 ? new Date().toISOString() : null;\n      try {\n        // Cập nhật UI trước để tăng trải nghiệm người dùng\n        const updatedRegistrations = this.state.registrations.map(reg => reg.id === item.id ? {\n          ...reg,\n          attendanceStatus: newAttendanceStatus,\n          attendanceTime: newAttendanceTime\n        } : reg);\n        const attendedRegistrations = newAttendanceStatus === 1 ? this.state.attendedRegistrations + 1 : this.state.attendedRegistrations - 1;\n        this.setState({\n          registrations: updatedRegistrations,\n          attendedRegistrations\n        }, this.filterRegistrations);\n\n        // Gửi request API\n        const attendanceData = {\n          id: item.id,\n          eventId: this.state.eventId,\n          attendanceStatus: newAttendanceStatus,\n          attendanceTime: newAttendanceTime\n        };\n        const res = await updateEventRegistration(attendanceData);\n        console.log(\"API response updateEventRegistration:\", res);\n        if (res && res.data && res.data.errCode === 0) {\n          var _this$props$userInfo;\n          toast.success(newAttendanceStatus === 1 ? \"Điểm danh thành công!\" : \"Hủy điểm danh thành công!\");\n          // Tạo thông báo và gửi email\n          const notificationData = {\n            user_id: item.userId,\n            title: newAttendanceStatus === 1 ? `Đã điểm danh sự kiện ${this.state.eventName}` : `Hủy điểm danh sự kiện ${this.state.eventName}`,\n            message: newAttendanceStatus === 1 ? `Bạn đã được điểm danh tham gia sự kiện \"${this.state.eventName}\" vào lúc ${moment(newAttendanceTime).format(\"DD/MM/YYYY HH:mm\")}` : `Điểm danh của bạn cho sự kiện \"${this.state.eventName}\" đã bị hủy.`,\n            type: \"event_update\",\n            reference_id: this.state.eventId,\n            reference_type: \"EVENT_ATTENDANCE\",\n            created_by: ((_this$props$userInfo = this.props.userInfo) === null || _this$props$userInfo === void 0 ? void 0 : _this$props$userInfo.id) || \"system\",\n            // Sử dụng ID người dùng hiện tại hoặc \"system\" nếu không có\n            created_at: this.state.attendanceTime || new Date().toISOString(),\n            link: `/event-registration-details/${this.state.eventId}`,\n            send_to_all: false // Chỉ gửi cho người dùng cụ thể\n          };\n          try {\n            const notifyRes = await createNotification(notificationData);\n            console.log(\"Notification created:\", notifyRes);\n            if (notifyRes && notifyRes.data && notifyRes.data.errCode === 0) {\n              console.log(`Thông báo và email đã được gửi cho người dùng ${item.name}`);\n            } else {\n              var _notifyRes$data;\n              console.error(\"Không thể tạo thông báo:\", (notifyRes === null || notifyRes === void 0 ? void 0 : (_notifyRes$data = notifyRes.data) === null || _notifyRes$data === void 0 ? void 0 : _notifyRes$data.errMessage) || \"Lỗi không xác định\");\n            }\n          } catch (notifyError) {\n            console.error(\"Lỗi khi tạo thông báo:\", notifyError);\n          }\n        } else {\n          var _res$data;\n          // Rollback UI nếu API thất bại\n          const revertedRegistrations = this.state.registrations.map(reg => reg.id === item.id ? {\n            ...reg,\n            attendanceStatus: item.attendanceStatus,\n            attendanceTime: item.attendanceTime\n          } : reg);\n          const revertedCount = newAttendanceStatus === 0 ? this.state.attendedRegistrations + 1 : this.state.attendedRegistrations - 1;\n          this.setState({\n            registrations: revertedRegistrations,\n            attendedRegistrations: revertedCount\n          }, this.filterRegistrations);\n          toast.error((res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.errMessage) || \"Cập nhật điểm danh không thành công\");\n        }\n      } catch (e) {\n        console.error(\"Lỗi khi cập nhật điểm danh:\", e);\n        toast.error(\"Không thể kết nối máy chủ\");\n\n        // Rollback UI khi có lỗi\n        const revertedRegistrations = this.state.registrations.map(reg => reg.id === item.id ? {\n          ...reg,\n          attendanceStatus: item.attendanceStatus,\n          attendanceTime: item.attendanceTime\n        } : reg);\n        const revertedCount = newAttendanceStatus === 0 ? this.state.attendedRegistrations + 1 : this.state.attendedRegistrations - 1;\n        this.setState({\n          registrations: revertedRegistrations,\n          attendedRegistrations: revertedCount\n        }, this.filterRegistrations);\n      }\n    };\n    this.exportStatisticsToCSV = () => {\n      const {\n        eventStats\n      } = this.state;\n      if (!eventStats) {\n        toast.info(\"Không có dữ liệu thống kê để xuất\");\n        return;\n      }\n      const {\n        eventInfo,\n        registrationStats,\n        attendanceStats,\n        paymentStats\n      } = eventStats;\n\n      // Tạo dữ liệu CSV\n      let csvData = [\n      // Thông tin sự kiện\n      [\"THỐNG KÊ SỰ KIỆN\"], [\"Tên sự kiện:\", eventInfo.name], [\"Ngày diễn ra:\", moment(eventInfo.date).format(\"DD/MM/YYYY\")], [\"Địa điểm:\", eventInfo.address], [\"Loại sự kiện:\", eventInfo.type], [\"Trạng thái:\", eventInfo.status], [\"\"],\n      // Thống kê đăng ký\n      [\"THỐNG KÊ ĐĂNG KÝ\"], [\"Sức chứa:\", eventInfo.capacity + \" người\"], [\"Đã đăng ký:\", registrationStats.total + \" người\"], [\"Còn trống:\", registrationStats.remainingSlots + \" chỗ\"], [\"Tỷ lệ đăng ký:\", registrationStats.registrationRate + \"%\"], [\"Đăng ký đầu tiên:\", registrationStats.timeStats.earliest ? moment(registrationStats.timeStats.earliest).format(\"DD/MM/YYYY HH:mm\") : \"-\"], [\"Đăng ký mới nhất:\", registrationStats.timeStats.latest ? moment(registrationStats.timeStats.latest).format(\"DD/MM/YYYY HH:mm\") : \"-\"], [\"\"],\n      // Thống kê tham dự\n      [\"THỐNG KÊ THAM DỰ\"], [\"Đã tham dự:\", attendanceStats.attended + \" người\"], [\"Chưa tham dự:\", attendanceStats.notAttended + \" người\"], [\"Tỷ lệ tham dự:\", attendanceStats.attendanceRate + \"%\"], [\"Điểm danh sớm nhất:\", attendanceStats.earliestAttendance ? moment(attendanceStats.earliestAttendance).format(\"DD/MM/YYYY HH:mm\") : \"-\"], [\"Điểm danh muộn nhất:\", attendanceStats.latestAttendance ? moment(attendanceStats.latestAttendance).format(\"DD/MM/YYYY HH:mm\") : \"-\"], [\"\"],\n      // Thống kê thanh toán\n      [\"THỐNG KÊ THANH TOÁN\"], [\"Doanh thu dự kiến:\", paymentStats.expectedRevenue.toLocaleString(\"vi-VN\") + \" VNĐ\"], [\"Đã thanh toán:\", paymentStats.totalPaid.toLocaleString(\"vi-VN\") + \" VNĐ\"], [\"Chưa thanh toán:\", paymentStats.totalUnpaid.toLocaleString(\"vi-VN\") + \" VNĐ\"], [\"Tỷ lệ thanh toán:\", paymentStats.paymentRate + \"%\"], [\"\"],\n      // Thống kê theo trạng thái thanh toán\n      [\"THEO TRẠNG THÁI THANH TOÁN\"], [\"Trạng thái\", \"Số lượng\", \"Thành tiền (VNĐ)\"]];\n\n      // Thêm dữ liệu trạng thái thanh toán\n      paymentStats.byStatus.forEach(status => {\n        csvData.push([status.name, status.count, status.amount.toLocaleString(\"vi-VN\")]);\n      });\n      csvData.push([\"\"]);\n      csvData.push([\"THEO PHƯƠNG THỨC THANH TOÁN\"]);\n      csvData.push([\"Phương thức\", \"Số lượng\", \"Thành tiền (VNĐ)\"]);\n\n      // Thêm dữ liệu phương thức thanh toán\n      paymentStats.byMethod.forEach(method => {\n        csvData.push([method.name, method.count, method.amount.toLocaleString(\"vi-VN\")]);\n      });\n      csvData.push([\"\"]);\n      csvData.push([\"PHÂN BỐ ĐĂNG KÝ THEO THỜI GIAN\"]);\n      csvData.push([\"Ngày\", \"Số lượng đăng ký\"]);\n\n      // Thêm dữ liệu phân bố đăng ký theo thời gian\n      registrationStats.timeStats.distribution.forEach(item => {\n        csvData.push([moment(item.date).format(\"DD/MM/YYYY\"), item.count]);\n      });\n      csvData.push([\"\"]);\n      csvData.push([\"DANH SÁCH NGƯỜI THAM DỰ\"]);\n      csvData.push([\"STT\", \"Họ tên\", \"Email\", \"Số điện thoại\", \"Ngày đăng ký\", \"Trạng thái thanh toán\", \"Phương thức thanh toán\", \"Đã tham dự\", \"Thời gian tham dự\", \"Ghi chú\"]);\n\n      // Thêm danh sách người tham dự\n      eventStats.registrations.forEach((item, idx) => {\n        csvData.push([idx + 1, item.name || \"\", item.email || \"\", item.phoneNumber || \"\", item.registeredAt ? moment(item.registeredAt).format(\"DD/MM/YYYY HH:mm\") : \"\", item.paymentStatus || \"\", item.paymentMethod || \"\", item.attended ? \"Đã tham dự\" : \"Chưa tham dự\", item.attendanceTime ? moment(item.attendanceTime).format(\"DD/MM/YYYY HH:mm\") : \"\", item.notes || \"\"]);\n      });\n\n      // Chuyển đổi mảng dữ liệu thành chuỗi CSV\n      const csvContent = csvData.map(row => row.join(\",\")).join(\"\\n\");\n\n      // Tạo file CSV và tải xuống\n      const blob = new Blob([csvContent], {\n        type: \"text/csv;charset=utf-8;\"\n      });\n      const link = document.createElement(\"a\");\n      const url = URL.createObjectURL(blob);\n      link.setAttribute(\"href\", url);\n      link.setAttribute(\"download\", `thong-ke-su-kien-${eventInfo.name.replace(/[^a-z0-9]/gi, \"-\")}-${new Date().getTime()}.csv`);\n      link.style.visibility = \"hidden\";\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      toast.success(\"Đã xuất thống kê sự kiện thành công!\");\n    };\n    this.exportStatisticsToPDF = () => {\n      const {\n        eventStats\n      } = this.state;\n      if (!eventStats) {\n        toast.info(\"Không có dữ liệu thống kê để xuất\");\n        return;\n      }\n\n      // Hiển thị trạng thái đang xuất\n      toast.info(\"Đang chuẩn bị xuất PDF, vui lòng đợi...\");\n      this.setState({\n        isExporting: true\n      });\n\n      // Sử dụng setTimeout để đảm bảo toast hiển thị trước khi xử lý nặng\n      setTimeout(() => {\n        const statisticsElement = document.getElementById(\"statistics-container\");\n        if (!statisticsElement) {\n          toast.error(\"Không thể tìm thấy nội dung thống kê để xuất\");\n          this.setState({\n            isExporting: false\n          });\n          return;\n        }\n        html2canvas(statisticsElement, {\n          scale: 2,\n          // Tăng độ phân giải\n          useCORS: true,\n          // Cho phép tải hình ảnh từ các domain khác\n          logging: false,\n          backgroundColor: \"#ffffff\"\n        }).then(canvas => {\n          const imgData = canvas.toDataURL(\"image/png\");\n          const pdf = new jsPDF({\n            orientation: \"portrait\",\n            unit: \"mm\",\n            format: \"a4\"\n          });\n\n          // Tính toán kích thước để vừa trang A4\n          const imgWidth = 148; // Chiều rộng trang A4 (mm)\n          const pageHeight = 210; // Chiều cao trang A4 (mm)\n          const imgHeight = canvas.height * imgWidth / canvas.width;\n          let heightLeft = imgHeight;\n          let position = 0;\n\n          // Thêm thông tin sự kiện vào đầu PDF\n          pdf.setFontSize(16);\n          const eventName = eventStats.eventInfo.name || \"Sự kiện không rõ tên\";\n          // chuyển đổi tên sự kiện thành tiếng việt kho\n          pdf.text(`Thong_ke_su_kien: ${eventStats.eventInfo.name}`, 15, 15);\n          pdf.setFontSize(12);\n          pdf.text(`Ngay_xuat: ${moment().format(\"DD/MM/YYYY HH:mm\")}`, 15, 25);\n\n          // Tăng vị trí bắt đầu của hình ảnh\n          position = 30;\n\n          // Thêm hình ảnh vào PDF\n          pdf.addImage(imgData, \"PNG\", 0, position, imgWidth, imgHeight);\n          heightLeft -= pageHeight - position;\n\n          // Nếu nội dung quá dài, thêm các trang tiếp theo\n          while (heightLeft > 0) {\n            position = 0;\n            pdf.addPage();\n            pdf.addImage(imgData, \"PNG\", 0, position - (pageHeight - 30), imgWidth, imgHeight);\n            heightLeft -= pageHeight;\n          }\n\n          // Lưu file PDF\n          pdf.save(`thong-ke-su-kien-${eventStats.eventInfo.name.replace(/[^a-z0-9]/gi, \"-\")}-${new Date().getTime()}.pdf`);\n\n          // Kết thúc xuất\n          this.setState({\n            isExporting: false\n          });\n          toast.success(\"Đã xuất thống kê sự kiện thành PDF thành công!\");\n        }).catch(error => {\n          console.error(\"Lỗi khi xuất PDF:\", error);\n          this.setState({\n            isExporting: false\n          });\n          toast.error(\"Lỗi khi xuất PDF. Vui lòng thử lại.\");\n        });\n      }, 500);\n    };\n    this.statisticsRef = /*#__PURE__*/createRef();\n    this.state = {\n      eventId: \"\",\n      eventName: \"\",\n      registrations: [],\n      filteredRegistrations: [],\n      isLoading: false,\n      searchTerm: \"\",\n      statusFilter: \"all\",\n      paymentFilter: \"all\",\n      attendanceFilter: \"all\",\n      sortField: \"registeredAt\",\n      sortDirection: \"desc\",\n      showDetailModal: false,\n      showAttendanceModal: false,\n      selectedRegistration: null,\n      attendanceDate: new Date(),\n      attendanceNote: \"\",\n      // Thống kê\n      totalRegistrations: 0,\n      approvedRegistrations: 0,\n      pendingRegistrations: 0,\n      rejectedRegistrations: 0,\n      paidRegistrations: 0,\n      unpaidRegistrations: 0,\n      attendedRegistrations: 0,\n      // Thêm state cho thống kê\n      showStatisticsTab: false,\n      eventStats: null,\n      activeTab: \"registrations\"\n    };\n  }\n  // Thêm phương thức fetch thống kê\n\n  async componentDidMount() {\n    // Lấy eventId từ URL\n    const {\n      match\n    } = this.props;\n    const eventId = match.params.id;\n    const data = {\n      eventId: eventId\n    };\n    console.log(\"Event ID from URL:\", eventId);\n    if (!eventId) {\n      toast.error(\"Không tìm thấy sự kiện!\");\n      return;\n    }\n    this.setState({\n      eventId,\n      isLoading: true\n    });\n    await this.fetchRegistrations(eventId);\n    await this.fetchEventStatistics(data);\n  }\n  // Thêm hàm chuyển tab\n\n  // Phương thức render tab thống kê\n\n  // Tìm kiếm và lọc\n\n  // Xử lý trạng thái đăng ký\n\n  // Xử lý điểm danh\n\n  // Xem chi tiết đăng ký\n\n  // Quay lại trang danh sách sự kiện\n\n  // Xuất dữ liệu ra file CSV\n\n  // Format date\n\n  // Thêm hàm xử lý toggle điểm danh nhanh vào class EventRegistrationManage\n\n  // Thêm phương thức xuất thống kê ra CSV\n\n  // exportAllChartsAsImages = () => {\n  //     const chartIds = [\n  //         { id: \"registration-chart\", name: \"phan-bo-dang-ky\" },\n  //         { id: \"attendance-chart\", name: \"ty-le-tham-du\" },\n  //         { id: \"payment-chart\", name: \"thanh-toan\" },\n  //     ];\n\n  //     toast.info(`Đang chuẩn bị xuất ${chartIds.length} biểu đồ...`);\n\n  //     // Hàm xuất từng biểu đồ\n  //     const exportSingleChart = (chartId, chartName) => {\n  //         return new Promise((resolve, reject) => {\n  //             const chartElement = document.getElementById(chartId);\n  //             if (!chartElement) {\n  //                 console.warn(`Không tìm thấy biểu đồ ${chartId}`);\n  //                 resolve(false);\n  //                 return;\n  //             }\n\n  //             html2canvas(chartElement, {\n  //                 scale: 2,\n  //                 useCORS: true,\n  //                 backgroundColor: \"#ffffff\",\n  //             })\n  //                 .then((canvas) => {\n  //                     const link = document.createElement(\"a\");\n  //                     link.download = `${chartName}-${new Date().getTime()}.png`;\n  //                     link.href = canvas.toDataURL(\"image/png\");\n  //                     link.click();\n  //                     resolve(true);\n  //                 })\n  //                 .catch((err) => {\n  //                     console.error(`Lỗi khi xuất biểu đồ ${chartId}:`, err);\n  //                     reject(err);\n  //                 });\n  //         });\n  //     };\n\n  //     // Xuất lần lượt các biểu đồ\n  //     Promise.all(chartIds.map((chart) => exportSingleChart(chart.id, chart.name)))\n  //         .then((results) => {\n  //             const successCount = results.filter(Boolean).length;\n  //             if (successCount > 0) {\n  //                 toast.success(`Đã xuất ${successCount}/${chartIds.length} biểu đồ thành công!`);\n  //             } else {\n  //                 toast.warning(\"Không thể xuất biểu đồ. Vui lòng kiểm tra ID của các biểu đồ.\");\n  //             }\n  //         })\n  //         .catch(() => {\n  //             toast.error(\"Đã xảy ra lỗi khi xuất biểu đồ.\");\n  //         });\n  // };\n\n  render() {\n    var _selectedRegistration, _selectedRegistration2, _selectedRegistration3;\n    const {\n      eventName,\n      filteredRegistrations,\n      isLoading,\n      searchTerm,\n      statusFilter,\n      paymentFilter,\n      attendanceFilter,\n      showDetailModal,\n      showAttendanceModal,\n      selectedRegistration,\n      attendanceDate,\n      attendanceNote,\n      totalRegistrations,\n      approvedRegistrations,\n      pendingRegistrations,\n      rejectedRegistrations,\n      paidRegistrations,\n      unpaidRegistrations,\n      attendedRegistrations,\n      sortField,\n      sortDirection,\n      activeTab,\n      eventStats\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      className: \"event-registration-manage-container p-4\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-secondary\",\n        className: \"mb-3\",\n        onClick: this.handleBackToEvents,\n        children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {\n          className: \"me-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1246,\n          columnNumber: 21\n        }, this), \" Quay l\\u1EA1i danh s\\xE1ch s\\u1EF1 ki\\u1EC7n\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1245,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-3 fw-bold\",\n        children: [\"Qu\\u1EA3n l\\xFD \\u0111\\u0103ng k\\xFD: \", eventName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1249,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"event-tabs mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"nav nav-tabs\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `nav-link ${activeTab === \"registrations\" ? \"active\" : \"\"}`,\n              onClick: () => this.handleTabChange(\"registrations\"),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-clipboard-list me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1256,\n                columnNumber: 33\n              }, this), \"Danh s\\xE1ch \\u0111\\u0103ng k\\xFD\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1255,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1254,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `nav-link ${activeTab === \"statistics\" ? \"active\" : \"\"}`,\n              onClick: () => this.handleTabChange(\"statistics\"),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-chart-bar me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1262,\n                columnNumber: 33\n              }, this), \"Th\\u1ED1ng k\\xEA s\\u1EF1 ki\\u1EC7n\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1261,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1260,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1253,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1252,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          sm: 6,\n          className: \"mb-3 mb-sm-0\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"text-center h-100 shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"mb-0\",\n                children: totalRegistrations\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1274,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: \"T\\u1ED5ng s\\u1ED1 \\u0111\\u0103ng k\\xFD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1275,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1273,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1272,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1271,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"text-center h-100 shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"mb-0 text-info\",\n                children: attendedRegistrations\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1283,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: \"\\u0110\\xE3 \\u0111i\\u1EC3m danh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1284,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1282,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1281,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1280,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          sm: 6,\n          className: \"mb-3 mb-sm-0\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"text-center h-100 shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"mb-0 text-success\",\n                children: paidRegistrations\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1293,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: \"\\u0110\\xE3 thanh to\\xE1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1294,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1292,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1291,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1290,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1270,\n        columnNumber: 17\n      }, this), activeTab === \"registrations\" ?\n      /*#__PURE__*/\n      // Nội dung tab đăng ký (phần hiện tại của bạn)\n      _jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Table, {\n          className: \"shadow-sm mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            className: \"bg-white\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0 fw-bold\",\n              children: \"B\\u1ED9 l\\u1ECDc & T\\xECm ki\\u1EBFm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1306,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1305,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                lg: 3,\n                md: 6,\n                className: \"mb-3 mb-md-0\",\n                children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                  children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                    children: /*#__PURE__*/_jsxDEV(FaSearch, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1313,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1312,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    placeholder: \"T\\xECm ki\\u1EBFm theo t\\xEAn, email, S\\u0110T, ghi ch\\xFA...\",\n                    value: searchTerm,\n                    onChange: this.handleSearch\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1315,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1311,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1310,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                lg: 8,\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 3,\n                    className: \"mb-3 mb-md-0\",\n                    children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                        children: /*#__PURE__*/_jsxDEV(FaMoneyBillWave, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1324,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1323,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                        name: \"paymentFilter\",\n                        value: paymentFilter,\n                        onChange: this.handleFilterChange,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"all\",\n                          children: \"T\\u1EA5t c\\u1EA3 thanh to\\xE1n\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1327,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"PS1\",\n                          children: \"\\u0110\\xE3 thanh to\\xE1n\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1328,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"PS2\",\n                          children: \"Ch\\u01B0a thanh to\\xE1n\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1329,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1326,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1322,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1321,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 3,\n                    children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                        children: /*#__PURE__*/_jsxDEV(FaUserCheck, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1337,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1336,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                        name: \"attendanceFilter\",\n                        value: attendanceFilter,\n                        onChange: this.handleFilterChange,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"all\",\n                          children: \"T\\u1EA5t c\\u1EA3 \\u0111i\\u1EC3m danh\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1340,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"attended\",\n                          children: \"\\u0110\\xE3 \\u0111i\\u1EC3m danh\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1341,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"not-attended\",\n                          children: \"Ch\\u01B0a \\u0111i\\u1EC3m danh\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1342,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1339,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1335,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1334,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1320,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1319,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1309,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                className: \"d-flex justify-content-end\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"success\",\n                  onClick: this.exportToCSV,\n                  children: [/*#__PURE__*/_jsxDEV(FaFileExport, {\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1353,\n                    columnNumber: 45\n                  }, this), \" Xu\\u1EA5t file CSV\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1352,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1351,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1350,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1308,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1304,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          className: \"shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center my-5\",\n              children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                animation: \"border\",\n                variant: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1364,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2\",\n                children: \"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1365,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1363,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-responsive\",\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                hover: true,\n                className: \"align-middle\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"table-light\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"#\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1372,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"sortable\",\n                      onClick: () => this.handleSort(\"name\"),\n                      children: [\"H\\u1ECD t\\xEAn\", sortField === \"name\" && /*#__PURE__*/_jsxDEV(FaSort, {\n                        className: \"ms-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1375,\n                        columnNumber: 82\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1373,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"sortable\",\n                      onClick: () => this.handleSort(\"email\"),\n                      children: [\"Email\", sortField === \"email\" && /*#__PURE__*/_jsxDEV(FaSort, {\n                        className: \"ms-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1379,\n                        columnNumber: 83\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1377,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1381,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"sortable\",\n                      onClick: () => this.handleSort(\"registeredAt\"),\n                      children: [\"Ng\\xE0y \\u0111\\u0103ng k\\xFD\", sortField === \"registeredAt\" && /*#__PURE__*/_jsxDEV(FaSort, {\n                        className: \"ms-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1384,\n                        columnNumber: 90\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1382,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Thanh to\\xE1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1387,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u0110i\\u1EC3m danh\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1388,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Thao t\\xE1c\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1389,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1371,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1370,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: filteredRegistrations && filteredRegistrations.length > 0 ? filteredRegistrations.map((item, idx) => {\n                    var _item$payMethod2;\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: idx + 1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1396,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1397,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.email\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1398,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.phoneNumber || \"-\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1399,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: this.formatDate(item.registeredAt)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1400,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.statusCostCode === \"PS1\" ? /*#__PURE__*/_jsxDEV(Badge, {\n                          bg: \"success\",\n                          children: ((_item$payMethod2 = item.payMethod) === null || _item$payMethod2 === void 0 ? void 0 : _item$payMethod2.valueVi) || \"Đã thanh toán\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1404,\n                          columnNumber: 69\n                        }, this) : /*#__PURE__*/_jsxDEV(Badge, {\n                          bg: \"secondary\",\n                          children: \"Ch\\u01B0a thanh to\\xE1n\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1406,\n                          columnNumber: 69\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1402,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-check form-switch\",\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            className: \"form-check-input\",\n                            type: \"checkbox\",\n                            id: `attendance-${item.id}`,\n                            checked: item.attendanceStatus === 1,\n                            onChange: e => this.handleAttendanceToggle(e, item)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1411,\n                            columnNumber: 69\n                          }, this), item.attendanceStatus === 1 && /*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"d-block text-muted mt-1\",\n                            children: moment(item.attendanceTime).format(\"DD/MM/YYYY HH:mm\")\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1419,\n                            columnNumber: 73\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1410,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1409,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"d-flex\",\n                          children: [/*#__PURE__*/_jsxDEV(Button, {\n                            variant: \"outline-info\",\n                            size: \"sm\",\n                            className: \"me-1\",\n                            onClick: () => this.handleViewDetail(item),\n                            title: \"Xem chi ti\\u1EBFt\",\n                            children: /*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1432,\n                              columnNumber: 73\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1425,\n                            columnNumber: 69\n                          }, this), item.status === \"pending\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: [/*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outline-success\",\n                              size: \"sm\",\n                              className: \"me-1\",\n                              onClick: () => this.handleApprove(item.id),\n                              title: \"Duy\\u1EC7t \\u0111\\u0103ng k\\xFD\",\n                              children: /*#__PURE__*/_jsxDEV(FaCheck, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1444,\n                                columnNumber: 81\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1437,\n                              columnNumber: 77\n                            }, this), /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outline-danger\",\n                              size: \"sm\",\n                              onClick: () => this.handleReject(item.id),\n                              title: \"T\\u1EEB ch\\u1ED1i \\u0111\\u0103ng k\\xFD\",\n                              children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1452,\n                                columnNumber: 81\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1446,\n                              columnNumber: 77\n                            }, this)]\n                          }, void 0, true), item.status === \"approved\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: item.attendanceStatus === 0 ? /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outline-primary\",\n                              size: \"sm\",\n                              className: \"me-1\",\n                              onClick: () => this.handleAttendance(item),\n                              title: \"\\u0110i\\u1EC3m danh\",\n                              children: /*#__PURE__*/_jsxDEV(FaCalendarCheck, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1467,\n                                columnNumber: 85\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1460,\n                              columnNumber: 81\n                            }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outline-secondary\",\n                              size: \"sm\",\n                              className: \"me-1\",\n                              onClick: () => this.cancelAttendance(item.id),\n                              title: \"H\\u1EE7y \\u0111i\\u1EC3m danh\",\n                              children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1477,\n                                columnNumber: 85\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1470,\n                              columnNumber: 81\n                            }, this)\n                          }, void 0, false)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1424,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1423,\n                        columnNumber: 61\n                      }, this)]\n                    }, item.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1395,\n                      columnNumber: 57\n                    }, this);\n                  }) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"9\",\n                      className: \"text-center py-3\",\n                      children: searchTerm || statusFilter !== \"all\" || paymentFilter !== \"all\" || attendanceFilter !== \"all\" ? \"Không tìm thấy đăng ký nào phù hợp với bộ lọc\" : \"Chưa có ai đăng ký sự kiện này\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1488,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1487,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1392,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1369,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1368,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1361,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1360,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          show: showDetailModal,\n          onHide: this.closeDetailModal,\n          centered: true,\n          size: \"lg\",\n          children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n            closeButton: true,\n            children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n              children: \"Chi ti\\u1EBFt \\u0111\\u0103ng k\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1505,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1504,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: selectedRegistration && (\n            // kiểm tra thông tin toàn bộ sự kiện\n            console.log(selectedRegistration), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Tabs, {\n                defaultActiveKey: \"user-info\",\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(Tab, {\n                  eventKey: \"user-info\",\n                  title: \"Th\\xF4ng tin ng\\u01B0\\u1EDDi \\u0111\\u0103ng k\\xFD\",\n                  children: [/*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"H\\u1ECD v\\xE0 t\\xEAn:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1516,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1519,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1515,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Email:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1522,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1525,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1521,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1528,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.phoneNumber || \"Không có\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1531,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1527,\n                    columnNumber: 53\n                  }, this), ((_selectedRegistration = selectedRegistration.User) === null || _selectedRegistration === void 0 ? void 0 : _selectedRegistration.address) && /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"\\u0110\\u1ECBa ch\\u1EC9:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1535,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.User.address\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1538,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1534,\n                    columnNumber: 57\n                  }, this), ((_selectedRegistration2 = selectedRegistration.User) === null || _selectedRegistration2 === void 0 ? void 0 : _selectedRegistration2.gender) && /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Gi\\u1EDBi t\\xEDnh:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1543,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.User.gender === \"M\" ? \"Nam\" : selectedRegistration.User.gender === \"F\" ? \"Nữ\" : \"Khác\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1546,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1542,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1514,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(Tab, {\n                  eventKey: \"registration-info\",\n                  title: \"Th\\xF4ng tin \\u0111\\u0103ng k\\xFD\",\n                  children: [/*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Th\\u1EDDi gian \\u0111\\u0103ng k\\xFD:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1554,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: this.formatDate(selectedRegistration.registeredAt)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1557,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1553,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Tr\\u1EA1ng th\\xE1i thanh to\\xE1n:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1560,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.statusCostCode === \"PS1\" ? /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"success\",\n                        children: \"\\u0110\\xE3 thanh to\\xE1n\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1565,\n                        columnNumber: 65\n                      }, this) : /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"secondary\",\n                        children: \"Ch\\u01B0a thanh to\\xE1n\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1567,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1563,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1559,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1572,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: ((_selectedRegistration3 = selectedRegistration.payMethod) === null || _selectedRegistration3 === void 0 ? void 0 : _selectedRegistration3.valueVi) || \"-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1575,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1571,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Tr\\u1EA1ng th\\xE1i \\u0111i\\u1EC3m danh:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1578,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.attendanceStatus === 1 ? /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"success\",\n                        children: \"\\u0110\\xE3 \\u0111i\\u1EC3m danh\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1583,\n                        columnNumber: 65\n                      }, this) : /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"secondary\",\n                        children: \"Ch\\u01B0a \\u0111i\\u1EC3m danh\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1585,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1581,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1577,\n                    columnNumber: 53\n                  }, this), selectedRegistration.attendanceStatus === 1 && /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Th\\u1EDDi gian \\u0111i\\u1EC3m danh:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1591,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: this.formatDate(selectedRegistration.attendanceTime)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1594,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1590,\n                    columnNumber: 57\n                  }, this), selectedRegistration.notes && /*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      className: \"fw-bold\",\n                      children: \"Ghi ch\\xFA:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1599,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 8,\n                      children: selectedRegistration.notes\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1602,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1598,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1552,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1513,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between mt-4\",\n                children: [selectedRegistration.status === \"pending\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"success\",\n                    onClick: () => {\n                      this.handleApprove(selectedRegistration.id);\n                      this.closeDetailModal();\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(FaCheck, {\n                      className: \"me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1618,\n                      columnNumber: 61\n                    }, this), \" Duy\\u1EC7t \\u0111\\u0103ng k\\xFD\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1611,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"danger\",\n                    onClick: () => {\n                      this.handleReject(selectedRegistration.id);\n                      this.closeDetailModal();\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(FaTimes, {\n                      className: \"me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1627,\n                      columnNumber: 61\n                    }, this), \" T\\u1EEB ch\\u1ED1i \\u0111\\u0103ng k\\xFD\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1620,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1610,\n                  columnNumber: 53\n                }, this), selectedRegistration.status === \"approved\" && selectedRegistration.attendanceStatus === 0 && /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"primary\",\n                  onClick: () => {\n                    this.closeDetailModal();\n                    this.handleAttendance(selectedRegistration);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FaCalendarCheck, {\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1640,\n                    columnNumber: 57\n                  }, this), \" \\u0110i\\u1EC3m danh\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1633,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"secondary\",\n                  onClick: this.closeDetailModal,\n                  children: \"\\u0110\\xF3ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1644,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1608,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1512,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1507,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1503,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) :\n      // Nội dung tab thống kê (phần mới)\n      this.renderStatisticsTab()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1244,\n      columnNumber: 13\n    }, this);\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    systemMenuPath: state.app.systemMenuPath,\n    isLoggedIn: state.user.isLoggedIn,\n    userInforr: state.user.userInforr // Lấy thông tin người dùng từ Redux store\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(EventRegistrationManage));","map":{"version":3,"names":["React","Component","connect","ReactToPrint","createRef","html2canvas","jsPDF","getAllEvents","deleteEvent","updateEvent","getEventStatistics","createNotification","toast","moment","FormattedMessage","Swal","Link","withRouter","getEventRegistrationsById","updateEventRegistration","getEventById","Table","Badge","Button","Form","InputGroup","Spinner","Card","Container","Row","Col","Modal","Tabs","Tab","Dropdown","FaSearch","FaFilter","FaCheck","FaTimes","FaEye","FaEdit","FaArrowLeft","FaFileExport","FaUserCheck","FaMoneyBillWave","FaCalendarCheck","FaSort","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","PieChart","Pie","Cell","ResponsiveContainer","LineChart","Line","jsxDEV","_jsxDEV","Fragment","_Fragment","EventRegistrationManage","constructor","props","fetchEventStatistics","eventId","setState","isLoading","res","console","log","data","errCode","eventStats","error","errMessage","e","handleTabChange","tab","activeTab","renderStatisticsTab","state","className","children","animation","variant","fileName","_jsxFileName","lineNumber","columnNumber","eventInfo","registrationStats","attendanceStats","paymentStats","registrationDistributionData","timeStats","distribution","attendanceData","name","value","attended","color","notAttended","paymentMethodData","byMethod","map","method","count","amount","COLORS","id","ref","statisticsRef","Header","Body","md","borderless","size","date","format","address","type","bg","status","capacity","total","remainingSlots","registrationRate","attendanceRate","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","tickFormatter","formatter","labelFormatter","fill","barSize","earliest","latest","style","display","flexDirection","alignItems","cx","cy","labelLine","outerRadius","nameKey","label","percent","toFixed","entry","index","length","earliestAttendance","latestAttendance","expectedRevenue","toLocaleString","totalPaid","totalUnpaid","paymentRate","hover","byStatus","item","code","layout","Toggle","Menu","Item","onClick","exportStatisticsToPDF","exportStatisticsToCSV","fetchRegistrations","_events$data$data","registrations","events","eventName","approvedRegistrations","filter","r","pendingRegistrations","rejectedRegistrations","paidRegistrations","statusCostCode","unpaidRegistrations","attendedRegistrations","attendanceStatus","filteredRegistrations","totalRegistrations","handleSearch","searchTerm","target","toLowerCase","filterRegistrations","handleFilterChange","handleSort","field","sortField","sortDirection","newDirection","statusFilter","paymentFilter","attendanceFilter","filtered","fullName","email","phone","phoneNumber","notes","includes","sort","a","b","valueA","valueB","registeredAt","Date","handleApprove","updateStatus","handleReject","updatedRegistrations","success","handleAttendance","registration","showAttendanceModal","selectedRegistration","attendanceDate","attendanceTime","attendanceNote","closeAttendanceModal","handleAttendanceDateChange","handleAttendanceNoteChange","markAttendance","toISOString","cancelAttendance","handleViewDetail","showDetailModal","closeDetailModal","handleBackToEvents","history","push","exportToCSV","info","headers","csvData","join","idx","_item$payMethod","payMethod","valueVi","blob","Blob","link","document","createElement","url","URL","createObjectURL","setAttribute","replace","getTime","visibility","body","appendChild","click","removeChild","formatDate","dateString","handleAttendanceToggle","event","stopPropagation","newAttendanceStatus","newAttendanceTime","reg","_this$props$userInfo","notificationData","user_id","userId","title","message","reference_id","reference_type","created_by","userInfo","created_at","send_to_all","notifyRes","_notifyRes$data","notifyError","_res$data","revertedRegistrations","revertedCount","forEach","paymentStatus","paymentMethod","csvContent","row","isExporting","setTimeout","statisticsElement","getElementById","scale","useCORS","logging","backgroundColor","then","canvas","imgData","toDataURL","pdf","orientation","unit","imgWidth","pageHeight","imgHeight","heightLeft","position","setFontSize","text","addImage","addPage","save","catch","showStatisticsTab","componentDidMount","match","params","render","_selectedRegistration","_selectedRegistration2","_selectedRegistration3","fluid","sm","Text","lg","Control","placeholder","onChange","Select","_item$payMethod2","checked","colSpan","show","onHide","centered","closeButton","Title","defaultActiveKey","eventKey","User","gender","mapStateToProps","systemMenuPath","app","isLoggedIn","user","userInforr","mapDispatchToProps","dispatch"],"sources":["C:/Users/Trant/Documents/Lập Trình Web/CTES WEB/React - Copy/src/containers/System/EventRegistrationManage.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ReactToPrint from \"react-to-print\";\r\nimport { createRef } from \"react\";\r\n\r\nimport html2canvas from \"html2canvas\";\r\nimport { jsPDF } from \"jspdf\";\r\nimport \"./EventDisplay.scss\";\r\nimport { getAllEvents, deleteEvent, updateEvent, getEventStatistics } from \"../../services/eventServices\";\r\nimport { createNotification } from \"../../services/notificationServices\";\r\nimport { toast } from \"react-toastify\";\r\nimport moment from \"moment\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport \"./EventRegistrationManage.scss\";\r\nimport { getEventRegistrationsById, updateEventRegistration, getEventById } from \"../../services/eventServices\";\r\nimport { Table, Badge, Button, Form, InputGroup, Spinner, Card, Container, Row, Col, Modal, Tabs, Tab, Dropdown } from \"react-bootstrap\";\r\nimport { FaSearch, FaFilter, FaCheck, FaTimes, FaEye, FaEdit, FaArrowLeft, FaFileExport, FaUserCheck, FaMoneyBillWave, FaCalendarCheck, FaSort } from \"react-icons/fa\";\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, PieChart, Pie, Cell, ResponsiveContainer, LineChart, Line } from \"recharts\";\r\nclass EventRegistrationManage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.statisticsRef = createRef();\r\n        this.state = {\r\n            eventId: \"\",\r\n            eventName: \"\",\r\n            registrations: [],\r\n            filteredRegistrations: [],\r\n            isLoading: false,\r\n            searchTerm: \"\",\r\n            statusFilter: \"all\",\r\n            paymentFilter: \"all\",\r\n            attendanceFilter: \"all\",\r\n            sortField: \"registeredAt\",\r\n            sortDirection: \"desc\",\r\n            showDetailModal: false,\r\n            showAttendanceModal: false,\r\n            selectedRegistration: null,\r\n            attendanceDate: new Date(),\r\n            attendanceNote: \"\",\r\n\r\n            // Thống kê\r\n            totalRegistrations: 0,\r\n            approvedRegistrations: 0,\r\n            pendingRegistrations: 0,\r\n            rejectedRegistrations: 0,\r\n            paidRegistrations: 0,\r\n            unpaidRegistrations: 0,\r\n            attendedRegistrations: 0,\r\n            // Thêm state cho thống kê\r\n            showStatisticsTab: false,\r\n            eventStats: null,\r\n            activeTab: \"registrations\",\r\n        };\r\n    }\r\n    // Thêm phương thức fetch thống kê\r\n    fetchEventStatistics = async (eventId) => {\r\n        try {\r\n            this.setState({ isLoading: true });\r\n            const res = await getEventStatistics(eventId);\r\n            console.log(\"API response getEventStatistics:\", res);\r\n            if (res && res.data && res.data.errCode === 0) {\r\n                console.log(\"Event Statistics:\", res.data.data);\r\n                this.setState({\r\n                    eventStats: res.data.data,\r\n                    isLoading: false,\r\n                });\r\n            } else {\r\n                toast.error(res.data.errMessage || \"Lỗi khi tải thống kê sự kiện\");\r\n                this.setState({ isLoading: false });\r\n            }\r\n        } catch (e) {\r\n            console.error(\"Error fetching event statistics:\", e);\r\n            toast.error(\"Không thể kết nối máy chủ\");\r\n            this.setState({ isLoading: false });\r\n        }\r\n    };\r\n    async componentDidMount() {\r\n        // Lấy eventId từ URL\r\n        const { match } = this.props;\r\n        const eventId = match.params.id;\r\n        const data = {\r\n            eventId: eventId,\r\n        };\r\n        console.log(\"Event ID from URL:\", eventId);\r\n\r\n        if (!eventId) {\r\n            toast.error(\"Không tìm thấy sự kiện!\");\r\n            return;\r\n        }\r\n\r\n        this.setState({ eventId, isLoading: true });\r\n        await this.fetchRegistrations(eventId);\r\n        await this.fetchEventStatistics(data);\r\n    }\r\n    // Thêm hàm chuyển tab\r\n    handleTabChange = (tab) => {\r\n        this.setState({ activeTab: tab });\r\n    };\r\n\r\n    // Phương thức render tab thống kê\r\n    renderStatisticsTab = () => {\r\n        const { eventStats, isLoading } = this.state;\r\n\r\n        if (isLoading) {\r\n            return (\r\n                <div className=\"text-center my-5\">\r\n                    <Spinner animation=\"border\" variant=\"primary\" />\r\n                    <div className=\"mt-2\">Đang tải dữ liệu thống kê...</div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (!eventStats) {\r\n            return (\r\n                <div className=\"text-center my-5\">\r\n                    <div className=\"alert alert-warning\">\r\n                        <i className=\"fas fa-exclamation-triangle me-2\"></i>\r\n                        Không thể tải dữ liệu thống kê. Vui lòng thử lại sau.\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        const { eventInfo, registrationStats, attendanceStats, paymentStats } = eventStats;\r\n\r\n        // Chuẩn bị dữ liệu cho biểu đồ phân bố đăng ký theo thời gian\r\n        const registrationDistributionData = registrationStats.timeStats.distribution || [];\r\n\r\n        // Chuẩn bị dữ liệu cho biểu đồ tròn tỷ lệ tham dự\r\n        const attendanceData = [\r\n            { name: \"Đã tham dự\", value: attendanceStats.attended, color: \"#2dce89\" },\r\n            { name: \"Chưa tham dự\", value: attendanceStats.notAttended, color: \"#f5365c\" },\r\n        ];\r\n\r\n        // Chuẩn bị dữ liệu cho biểu đồ thanh phương thức thanh toán\r\n        const paymentMethodData = paymentStats.byMethod.map((method) => ({\r\n            name: method.name,\r\n            count: method.count,\r\n            amount: method.amount,\r\n        }));\r\n\r\n        // Màu cho biểu đồ tròn\r\n        const COLORS = [\"#2dce89\", \"#f5365c\", \"#11cdef\", \"#fb6340\", \"#8965e0\"];\r\n\r\n        return (\r\n            <div id=\"statistics-container\" ref={this.statisticsRef}>\r\n                {/* Thông tin chung về sự kiện */}\r\n                <Table className=\"shadow-sm mb-4\">\r\n                    <Card.Header className=\"bg-white\">\r\n                        <h5 className=\"mb-0 fw-bold\">Thông tin sự kiện</h5>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <Row>\r\n                            <Col md={6}>\r\n                                <h6 className=\"fw-bold\">Thông tin cơ bản</h6>\r\n                                <Table borderless size=\"sm\">\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <strong>Tên sự kiện:</strong>\r\n                                            </td>\r\n                                            <td>{eventInfo.name}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <strong>Ngày diễn ra:</strong>\r\n                                            </td>\r\n                                            <td>{moment(eventInfo.date).format(\"DD/MM/YYYY\")}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <strong>Địa điểm:</strong>\r\n                                            </td>\r\n                                            <td>{eventInfo.address}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <strong>Loại sự kiện:</strong>\r\n                                            </td>\r\n                                            <td>{eventInfo.type}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <strong>Trạng thái:</strong>\r\n                                            </td>\r\n                                            <td>\r\n                                                <Badge\r\n                                                    bg={\r\n                                                        eventInfo.status === \"Đang diễn ra\"\r\n                                                            ? \"success\"\r\n                                                            : eventInfo.status === \"Sắp diễn ra\"\r\n                                                            ? \"info\"\r\n                                                            : eventInfo.status === \"Đã kết thúc\"\r\n                                                            ? \"secondary\"\r\n                                                            : \"warning\"\r\n                                                    }\r\n                                                >\r\n                                                    {eventInfo.status}\r\n                                                </Badge>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </Col>\r\n                            <Col md={6}>\r\n                                <h6 className=\"fw-bold\">Thông tin đăng ký</h6>\r\n                                <Table borderless size=\"sm\">\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <strong>Sức chứa:</strong>\r\n                                            </td>\r\n                                            <td>{eventInfo.capacity} người</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <strong>Đã đăng ký:</strong>\r\n                                            </td>\r\n                                            <td>{registrationStats.total} người</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <strong>Còn trống:</strong>\r\n                                            </td>\r\n                                            <td>{registrationStats.remainingSlots} chỗ</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <strong>Tỷ lệ đăng ký:</strong>\r\n                                            </td>\r\n                                            <td>{registrationStats.registrationRate}%</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <strong>Tỷ lệ tham dự:</strong>\r\n                                            </td>\r\n                                            <td>{attendanceStats.attendanceRate}%</td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </Col>\r\n                        </Row>\r\n                    </Card.Body>\r\n                </Table>\r\n\r\n                {/* Thống kê đăng ký và tham dự */}\r\n                <Row className=\"mb-4\">\r\n                    <Col md={6}>\r\n                        <Table className=\"shadow-sm h-100\">\r\n                            <Card.Header className=\"bg-white\">\r\n                                <h5 className=\"mb-0 fw-bold\">Phân bố đăng ký theo thời gian</h5>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                {/* Biểu đồ đăng ký theo thời gian */}\r\n                                <div id=\"registration-chart\">\r\n                                    <ResponsiveContainer width=\"100%\" height={300}>\r\n                                        <BarChart data={registrationDistributionData} margin={{ top: 20, right: 30, left: 20, bottom: 5 }}>\r\n                                            <CartesianGrid strokeDasharray=\"3 3\" />\r\n                                            <XAxis dataKey=\"date\" tickFormatter={(date) => moment(date).format(\"DD/MM\")} />\r\n                                            <YAxis />\r\n                                            <Tooltip\r\n                                                formatter={(value, name) => [value + \" người\", \"Số lượng đăng ký\"]}\r\n                                                labelFormatter={(date) => `Ngày: ${moment(date).format(\"DD/MM/YYYY\")}`}\r\n                                            />\r\n                                            <Bar dataKey=\"count\" name=\"Số người đăng ký\" fill=\"#5e72e4\" barSize={30} />\r\n                                        </BarChart>\r\n                                    </ResponsiveContainer>\r\n                                </div>\r\n                                <div className=\"text-center mt-3\">\r\n                                    <small className=\"text-muted\">\r\n                                        {registrationStats.timeStats.earliest ? (\r\n                                            <>\r\n                                                Đăng ký đầu tiên: {moment(registrationStats.timeStats.earliest).format(\"DD/MM/YYYY HH:mm\")}\r\n                                                <br />\r\n                                            </>\r\n                                        ) : null}\r\n                                        {registrationStats.timeStats.latest ? <>Đăng ký mới nhất: {moment(registrationStats.timeStats.latest).format(\"DD/MM/YYYY HH:mm\")}</> : null}\r\n                                    </small>\r\n                                </div>\r\n                            </Card.Body>\r\n                        </Table>\r\n                    </Col>\r\n                    <Col md={6}>\r\n                        <Table className=\"shadow-sm h-100\">\r\n                            <Card.Header className=\"bg-white\">\r\n                                <h5 className=\"mb-0 fw-bold\">Tỷ lệ tham dự</h5>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                {/* Biểu đồ tròn tỷ lệ tham dự */}\r\n                                <div id=\"attendance-chart\" style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n                                    <ResponsiveContainer width=\"100%\" height={250}>\r\n                                        <PieChart>\r\n                                            <Pie\r\n                                                data={attendanceData}\r\n                                                cx=\"50%\"\r\n                                                cy=\"50%\"\r\n                                                labelLine={false}\r\n                                                outerRadius={80}\r\n                                                fill=\"#8884d8\"\r\n                                                dataKey=\"value\"\r\n                                                nameKey=\"name\"\r\n                                                label={({ name, percent }) => `${name}: ${(percent * 100).toFixed(0)}%`}\r\n                                            >\r\n                                                {attendanceData.map((entry, index) => (\r\n                                                    <Cell key={`cell-${index}`} fill={entry.color || COLORS[index % COLORS.length]} />\r\n                                                ))}\r\n                                            </Pie>\r\n                                            <Legend />\r\n                                            <Tooltip formatter={(value, name) => [`${value} người`, name]} />\r\n                                        </PieChart>\r\n                                    </ResponsiveContainer>\r\n                                    <div className=\"text-center mt-3\">\r\n                                        <small className=\"text-muted\">\r\n                                            {attendanceStats.earliestAttendance ? (\r\n                                                <>\r\n                                                    Điểm danh sớm nhất: {moment(attendanceStats.earliestAttendance).format(\"DD/MM/YYYY HH:mm\")}\r\n                                                    <br />\r\n                                                </>\r\n                                            ) : null}\r\n                                            {attendanceStats.latestAttendance ? (\r\n                                                <>Điểm danh muộn nhất: {moment(attendanceStats.latestAttendance).format(\"DD/MM/YYYY HH:mm\")}</>\r\n                                            ) : null}\r\n                                        </small>\r\n                                    </div>\r\n                                </div>\r\n                            </Card.Body>\r\n                        </Table>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Thống kê thanh toán */}\r\n                <Table className=\"shadow-sm mb-4\">\r\n                    <Card.Header className=\"bg-white\">\r\n                        <h5 className=\"mb-0 fw-bold\">Thống kê thanh toán</h5>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <Row>\r\n                            <Col md={6}>\r\n                                <div className=\"mb-4\">\r\n                                    <h6 className=\"fw-bold\">Tình hình thanh toán</h6>\r\n                                    <ul className=\"list-group\">\r\n                                        <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                                            Doanh thu dự kiến:\r\n                                            <span>{paymentStats.expectedRevenue.toLocaleString(\"vi-VN\")} VNĐ</span>\r\n                                        </li>\r\n                                        <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                                            Đã thanh toán:\r\n                                            <span>{paymentStats.totalPaid.toLocaleString(\"vi-VN\")} VNĐ</span>\r\n                                        </li>\r\n                                        <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                                            Chưa thanh toán:\r\n                                            <span>{paymentStats.totalUnpaid.toLocaleString(\"vi-VN\")} VNĐ</span>\r\n                                        </li>\r\n                                        <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                                            Tỷ lệ thanh toán:\r\n                                            <span>{paymentStats.paymentRate}%</span>\r\n                                        </li>\r\n                                    </ul>\r\n                                </div>\r\n\r\n                                <h6 className=\"fw-bold\">Thanh toán theo trạng thái</h6>\r\n                                <Table hover>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>Trạng thái</th>\r\n                                            <th>Số lượng</th>\r\n                                            <th>Thành tiền</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {paymentStats.byStatus.map((item, index) => (\r\n                                            <tr key={index}>\r\n                                                <td>\r\n                                                    <Badge bg={item.code === \"PS1\" ? \"success\" : \"secondary\"}>{item.name}</Badge>\r\n                                                </td>\r\n                                                <td>{item.count}</td>\r\n                                                <td>{item.amount.toLocaleString(\"vi-VN\")} VNĐ</td>\r\n                                            </tr>\r\n                                        ))}\r\n                                    </tbody>\r\n                                </Table>\r\n                            </Col>\r\n                            <Col md={6}>\r\n                                <h6 className=\"fw-bold mb-3\">Phương thức thanh toán</h6>\r\n                                <div id=\"payment-chart\">\r\n                                    <ResponsiveContainer width=\"100%\" height={250}>\r\n                                        <BarChart data={paymentMethodData} layout=\"vertical\" margin={{ top: 20, right: 30, left: 60, bottom: 5 }}>\r\n                                            <CartesianGrid strokeDasharray=\"3 3\" />\r\n                                            <XAxis type=\"number\" />\r\n                                            <YAxis dataKey=\"name\" type=\"category\" />\r\n                                            <Tooltip formatter={(value, name) => [value + (name === \"count\" ? \" người\" : \" VNĐ\"), name === \"count\" ? \"Số lượng\" : \"Thành tiền\"]} />\r\n                                            <Legend formatter={(value) => (value === \"count\" ? \"Số lượng\" : \"Thành tiền\")} />\r\n                                            <Bar dataKey=\"count\" name=\"count\" fill=\"#5e72e4\" barSize={30} />\r\n                                        </BarChart>\r\n                                    </ResponsiveContainer>\r\n\r\n                                    <h6 className=\"fw-bold mt-4\">Chi tiết theo phương thức</h6>\r\n                                    <Table hover>\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>Phương thức</th>\r\n                                                <th>Số lượng</th>\r\n                                                <th>Thành tiền</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {paymentStats.byMethod.map((method, index) => (\r\n                                                <tr key={index}>\r\n                                                    <td>{method.name}</td>\r\n                                                    <td>{method.count}</td>\r\n                                                    <td>{method.amount.toLocaleString(\"vi-VN\")} VNĐ</td>\r\n                                                </tr>\r\n                                            ))}\r\n                                        </tbody>\r\n                                    </Table>\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                    </Card.Body>\r\n                </Table>\r\n\r\n                {/* Nút xuất thống kê */}\r\n                <div className=\"d-flex justify-content-end mb-5 gap-2\">\r\n                    <Dropdown>\r\n                        <Dropdown.Toggle variant=\"primary\" id=\"export-dropdown\">\r\n                            <i className=\"fas fa-file-export me-2\"></i> Xuất báo cáo\r\n                        </Dropdown.Toggle>\r\n\r\n                        <Dropdown.Menu>\r\n                            <Dropdown.Item onClick={this.exportStatisticsToPDF}>\r\n                                <i className=\"fas fa-file-pdf me-2\"></i> Xuất PDF\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item onClick={this.exportStatisticsToCSV}>\r\n                                <i className=\"fas fa-file-csv me-2\"></i> Xuất CSV\r\n                            </Dropdown.Item>\r\n\r\n                        </Dropdown.Menu>\r\n                    </Dropdown>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n    fetchRegistrations = async (eventId) => {\r\n        try {\r\n            const res = await getEventRegistrationsById(eventId);\r\n\r\n            if (res && res.data && res.data.errCode === 0) {\r\n                const registrations = res.data.data || [];\r\n\r\n                // Lấy tên sự kiện từ response\r\n                const events = await getEventById(eventId);\r\n                if (!events || !events.data || events.data.errCode !== 0) {\r\n                    toast.error(\"Không tìm thấy thông tin sự kiện\");\r\n                    this.setState({ isLoading: false });\r\n                    return;\r\n                }\r\n\r\n                const eventName = events.data.data?.name || \"Sự kiện không rõ tên\";\r\n\r\n                // Thống kê\r\n                const approvedRegistrations = registrations.filter((r) => r.status === \"approved\").length;\r\n                const pendingRegistrations = registrations.filter((r) => r.status === \"pending\").length;\r\n                const rejectedRegistrations = registrations.filter((r) => r.status === \"rejected\").length;\r\n                const paidRegistrations = registrations.filter((r) => r.statusCostCode === \"PS1\").length;\r\n                const unpaidRegistrations = registrations.filter((r) => r.statusCostCode === \"PS2\").length;\r\n                const attendedRegistrations = registrations.filter((r) => r.attendanceStatus === 1).length;\r\n\r\n                this.setState({\r\n                    registrations,\r\n                    filteredRegistrations: registrations,\r\n                    eventName,\r\n                    isLoading: false,\r\n                    totalRegistrations: registrations.length,\r\n                    approvedRegistrations,\r\n                    pendingRegistrations,\r\n                    rejectedRegistrations,\r\n                    paidRegistrations,\r\n                    unpaidRegistrations,\r\n                    attendedRegistrations,\r\n                });\r\n            } else {\r\n                toast.error(res.data.errMessage || \"Lỗi khi tải danh sách đăng ký\");\r\n                this.setState({ isLoading: false });\r\n            }\r\n        } catch (e) {\r\n            toast.error(\"Không thể kết nối máy chủ\");\r\n            this.setState({ isLoading: false });\r\n        }\r\n    };\r\n\r\n    // Tìm kiếm và lọc\r\n    handleSearch = (e) => {\r\n        const searchTerm = e.target.value.toLowerCase();\r\n        this.setState({ searchTerm }, this.filterRegistrations);\r\n    };\r\n\r\n    handleFilterChange = (e) => {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value }, this.filterRegistrations);\r\n    };\r\n\r\n    handleSort = (field) => {\r\n        const { sortField, sortDirection } = this.state;\r\n        const newDirection = field === sortField && sortDirection === \"asc\" ? \"desc\" : \"asc\";\r\n\r\n        this.setState(\r\n            {\r\n                sortField: field,\r\n                sortDirection: newDirection,\r\n            },\r\n            this.filterRegistrations\r\n        );\r\n    };\r\n\r\n    filterRegistrations = () => {\r\n        const { registrations, searchTerm, statusFilter, paymentFilter, attendanceFilter, sortField, sortDirection } = this.state;\r\n\r\n        let filtered = [...registrations];\r\n\r\n        // Áp dụng bộ lọc tìm kiếm\r\n        if (searchTerm) {\r\n            filtered = filtered.filter((item) => {\r\n                const fullName = item.name ? item.name.toLowerCase() : \"\";\r\n                const email = item.email ? item.email.toLowerCase() : \"\";\r\n                const phone = item.phoneNumber ? item.phoneNumber.toLowerCase() : \"\";\r\n                const notes = item.notes ? item.notes.toLowerCase() : \"\";\r\n\r\n                return fullName.includes(searchTerm) || email.includes(searchTerm) || phone.includes(searchTerm) || notes.includes(searchTerm);\r\n            });\r\n        }\r\n\r\n        // Áp dụng bộ lọc trạng thái đăng ký\r\n        if (statusFilter !== \"all\") {\r\n            filtered = filtered.filter((item) => item.status === statusFilter);\r\n        }\r\n\r\n        // Áp dụng bộ lọc trạng thái thanh toán\r\n        if (paymentFilter !== \"all\") {\r\n            filtered = filtered.filter((item) => item.statusCostCode === paymentFilter);\r\n        }\r\n\r\n        // Áp dụng bộ lọc trạng thái điểm danh\r\n        if (attendanceFilter !== \"all\") {\r\n            const attendanceStatus = attendanceFilter === \"attended\" ? 1 : 0;\r\n            filtered = filtered.filter((item) => item.attendanceStatus === attendanceStatus);\r\n        }\r\n\r\n        // Sắp xếp kết quả\r\n        filtered.sort((a, b) => {\r\n            let valueA, valueB;\r\n\r\n            switch (sortField) {\r\n                case \"name\":\r\n                    valueA = a.name || \"\";\r\n                    valueB = b.name || \"\";\r\n                    break;\r\n                case \"email\":\r\n                    valueA = a.email || \"\";\r\n                    valueB = b.email || \"\";\r\n                    break;\r\n                case \"phoneNumber\":\r\n                    valueA = a.phoneNumber || \"\";\r\n                    valueB = b.phoneNumber || \"\";\r\n                    break;\r\n                case \"registeredAt\":\r\n                default:\r\n                    valueA = a.registeredAt ? new Date(a.registeredAt) : null;\r\n                    valueB = b.registeredAt ? new Date(b.registeredAt) : null;\r\n                    break;\r\n            }\r\n\r\n            if (sortDirection === \"asc\") {\r\n                if (valueA < valueB) return -1;\r\n                if (valueA > valueB) return 1;\r\n                return 0;\r\n            } else {\r\n                if (valueA > valueB) return -1;\r\n                if (valueA < valueB) return 1;\r\n                return 0;\r\n            }\r\n        });\r\n\r\n        this.setState({ filteredRegistrations: filtered });\r\n    };\r\n\r\n    // Xử lý trạng thái đăng ký\r\n    handleApprove = async (id) => {\r\n        await this.updateStatus(id, \"approved\");\r\n    };\r\n\r\n    handleReject = async (id) => {\r\n        await this.updateStatus(id, \"rejected\");\r\n    };\r\n\r\n    updateStatus = async (id, status) => {\r\n        try {\r\n            this.setState({ isLoading: true });\r\n            const res = await updateEventRegistration(id, status);\r\n\r\n            if (res && res.data && res.data.errCode === 0) {\r\n                // Cập nhật trạng thái trong state\r\n                const updatedRegistrations = this.state.registrations.map((item) => (item.id === id ? { ...item, status } : item));\r\n\r\n                // Cập nhật thống kê\r\n                const approvedRegistrations =\r\n                    status === \"approved\" ? this.state.approvedRegistrations + 1 : status === \"rejected\" ? this.state.approvedRegistrations : this.state.approvedRegistrations - 1;\r\n\r\n                const pendingRegistrations = this.state.pendingRegistrations - 1;\r\n\r\n                const rejectedRegistrations =\r\n                    status === \"rejected\" ? this.state.rejectedRegistrations + 1 : status === \"approved\" ? this.state.rejectedRegistrations : this.state.rejectedRegistrations - 1;\r\n\r\n                this.setState(\r\n                    {\r\n                        registrations: updatedRegistrations,\r\n                        approvedRegistrations,\r\n                        pendingRegistrations,\r\n                        rejectedRegistrations,\r\n                        isLoading: false,\r\n                    },\r\n                    this.filterRegistrations\r\n                );\r\n\r\n                toast.success(`${status === \"approved\" ? \"Duyệt\" : \"Từ chối\"} đăng ký thành công!`);\r\n            } else {\r\n                toast.error(res.data.errMessage || \"Lỗi khi cập nhật trạng thái\");\r\n                this.setState({ isLoading: false });\r\n            }\r\n        } catch (e) {\r\n            toast.error(\"Không thể kết nối máy chủ\");\r\n            this.setState({ isLoading: false });\r\n        }\r\n    };\r\n\r\n    // Xử lý điểm danh\r\n    handleAttendance = (registration) => {\r\n        this.setState({\r\n            showAttendanceModal: true,\r\n            selectedRegistration: registration,\r\n            attendanceDate: registration.attendanceTime ? new Date(registration.attendanceTime) : new Date(),\r\n            attendanceNote: registration.attendanceNote || \"\",\r\n        });\r\n    };\r\n\r\n    closeAttendanceModal = () => {\r\n        this.setState({\r\n            showAttendanceModal: false,\r\n            selectedRegistration: null,\r\n            attendanceDate: new Date(),\r\n            attendanceNote: \"\",\r\n        });\r\n    };\r\n\r\n    handleAttendanceDateChange = (date) => {\r\n        this.setState({ attendanceDate: date });\r\n    };\r\n\r\n    handleAttendanceNoteChange = (e) => {\r\n        this.setState({ attendanceNote: e.target.value });\r\n    };\r\n\r\n    markAttendance = async () => {\r\n        const { selectedRegistration, attendanceDate, attendanceNote } = this.state;\r\n\r\n        try {\r\n            this.setState({ isLoading: true });\r\n\r\n            const attendanceData = {\r\n                id: selectedRegistration.id,\r\n                attendanceStatus: 1,\r\n                attendanceTime: attendanceDate.toISOString(),\r\n                attendanceNote: attendanceNote,\r\n            };\r\n\r\n            const res = await updateEventRegistration(attendanceData);\r\n\r\n            if (res && res.data && res.data.errCode === 0) {\r\n                // Cập nhật danh sách đăng ký\r\n                const updatedRegistrations = this.state.registrations.map((item) =>\r\n                    item.id === selectedRegistration.id\r\n                        ? {\r\n                              ...item,\r\n                              attendanceStatus: 1,\r\n                              attendanceTime: attendanceDate.toISOString(),\r\n                              attendanceNote: attendanceNote,\r\n                          }\r\n                        : item\r\n                );\r\n\r\n                // Cập nhật thống kê\r\n                const attendedRegistrations = this.state.attendedRegistrations + 1;\r\n\r\n                this.setState(\r\n                    {\r\n                        registrations: updatedRegistrations,\r\n                        attendedRegistrations,\r\n                        isLoading: false,\r\n                        showAttendanceModal: false,\r\n                    },\r\n                    this.filterRegistrations\r\n                );\r\n\r\n                toast.success(\"Điểm danh thành công!\");\r\n            } else {\r\n                toast.error(res.data.errMessage || \"Điểm danh không thành công\");\r\n                this.setState({ isLoading: false });\r\n            }\r\n        } catch (e) {\r\n            toast.error(\"Không thể kết nối máy chủ\");\r\n            this.setState({ isLoading: false });\r\n        }\r\n    };\r\n\r\n    cancelAttendance = async (id) => {\r\n        try {\r\n            this.setState({ isLoading: true });\r\n\r\n            const attendanceData = {\r\n                id: id,\r\n                attendanceStatus: 0,\r\n                attendanceTime: null,\r\n                attendanceNote: \"\",\r\n            };\r\n\r\n            const res = await updateEventRegistration(attendanceData);\r\n\r\n            if (res && res.data && res.data.errCode === 0) {\r\n                // Cập nhật danh sách đăng ký\r\n                const updatedRegistrations = this.state.registrations.map((item) =>\r\n                    item.id === id\r\n                        ? {\r\n                              ...item,\r\n                              attendanceStatus: 0,\r\n                              attendanceTime: null,\r\n                              attendanceNote: \"\",\r\n                          }\r\n                        : item\r\n                );\r\n\r\n                // Cập nhật thống kê\r\n                const attendedRegistrations = this.state.attendedRegistrations - 1;\r\n\r\n                this.setState(\r\n                    {\r\n                        registrations: updatedRegistrations,\r\n                        attendedRegistrations,\r\n                        isLoading: false,\r\n                    },\r\n                    this.filterRegistrations\r\n                );\r\n\r\n                toast.success(\"Hủy điểm danh thành công!\");\r\n            } else {\r\n                toast.error(res.data.errMessage || \"Hủy điểm danh không thành công\");\r\n                this.setState({ isLoading: false });\r\n            }\r\n        } catch (e) {\r\n            toast.error(\"Không thể kết nối máy chủ\");\r\n            this.setState({ isLoading: false });\r\n        }\r\n    };\r\n\r\n    // Xem chi tiết đăng ký\r\n    handleViewDetail = (registration) => {\r\n        this.setState({\r\n            showDetailModal: true,\r\n            selectedRegistration: registration,\r\n        });\r\n    };\r\n\r\n    closeDetailModal = () => {\r\n        this.setState({\r\n            showDetailModal: false,\r\n            selectedRegistration: null,\r\n        });\r\n    };\r\n\r\n    // Quay lại trang danh sách sự kiện\r\n    handleBackToEvents = () => {\r\n        this.props.history.push(\"/system/event-display\");\r\n    };\r\n\r\n    // Xuất dữ liệu ra file CSV\r\n    exportToCSV = () => {\r\n        const { filteredRegistrations } = this.state;\r\n\r\n        if (filteredRegistrations.length === 0) {\r\n            toast.info(\"Không có dữ liệu để xuất\");\r\n            return;\r\n        }\r\n\r\n        // Tạo dữ liệu CSV\r\n        const headers = [\r\n            \"STT\",\r\n            \"Họ tên\",\r\n            \"Email\",\r\n            \"Số điện thoại\",\r\n            \"Ngày đăng ký\",\r\n            \"Trạng thái đăng ký\",\r\n            \"Trạng thái thanh toán\",\r\n            \"Phương thức thanh toán\",\r\n            \"Trạng thái điểm danh\",\r\n            \"Thời gian điểm danh\",\r\n            \"Ghi chú\",\r\n        ];\r\n\r\n        const csvData = [\r\n            headers.join(\",\"),\r\n            ...filteredRegistrations.map((item, idx) =>\r\n                [\r\n                    idx + 1,\r\n                    item.name || \"\",\r\n                    item.email || \"\",\r\n                    item.phoneNumber || \"\",\r\n                    item.registeredAt ? moment(item.registeredAt).format(\"DD/MM/YYYY HH:mm\") : \"\",\r\n                    item.status === \"approved\" ? \"Đã duyệt\" : item.status === \"pending\" ? \"Chờ duyệt\" : \"Từ chối\",\r\n                    item.statusCostCode === \"PS1\" ? \"Đã thanh toán\" : \"Chưa thanh toán\",\r\n                    item.payMethod?.valueVi || \"\",\r\n                    item.attendanceStatus === 1 ? \"Đã điểm danh\" : \"Chưa điểm danh\",\r\n                    item.attendanceTime ? moment(item.attendanceTime).format(\"DD/MM/YYYY HH:mm\") : \"\",\r\n                    item.notes || \"\",\r\n                ].join(\",\")\r\n            ),\r\n        ].join(\"\\n\");\r\n\r\n        // Tạo file CSV và tải xuống\r\n        const blob = new Blob([csvData], { type: \"text/csv;charset=utf-8;\" });\r\n        const link = document.createElement(\"a\");\r\n        const url = URL.createObjectURL(blob);\r\n        link.setAttribute(\"href\", url);\r\n        link.setAttribute(\"download\", `danh-sach-dang-ky-${this.state.eventName.replace(/[^a-z0-9]/gi, \"-\")}-${new Date().getTime()}.csv`);\r\n        link.style.visibility = \"hidden\";\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    };\r\n\r\n    // Format date\r\n    formatDate = (dateString) => {\r\n        if (!dateString) return \"-\";\r\n        return moment(dateString).format(\"DD/MM/YYYY HH:mm\");\r\n    };\r\n\r\n    // Thêm hàm xử lý toggle điểm danh nhanh vào class EventRegistrationManage\r\n    handleAttendanceToggle = async (event, item) => {\r\n        // Ngăn hành vi mặc định để tránh bubble event\r\n        event.stopPropagation();\r\n\r\n        const newAttendanceStatus = item.attendanceStatus === 1 ? 0 : 1;\r\n        const newAttendanceTime = newAttendanceStatus === 1 ? new Date().toISOString() : null;\r\n\r\n        try {\r\n            // Cập nhật UI trước để tăng trải nghiệm người dùng\r\n            const updatedRegistrations = this.state.registrations.map((reg) =>\r\n                reg.id === item.id\r\n                    ? {\r\n                          ...reg,\r\n                          attendanceStatus: newAttendanceStatus,\r\n                          attendanceTime: newAttendanceTime,\r\n                      }\r\n                    : reg\r\n            );\r\n\r\n            const attendedRegistrations = newAttendanceStatus === 1 ? this.state.attendedRegistrations + 1 : this.state.attendedRegistrations - 1;\r\n\r\n            this.setState(\r\n                {\r\n                    registrations: updatedRegistrations,\r\n                    attendedRegistrations,\r\n                },\r\n                this.filterRegistrations\r\n            );\r\n\r\n            // Gửi request API\r\n            const attendanceData = {\r\n                id: item.id,\r\n                eventId: this.state.eventId,\r\n                attendanceStatus: newAttendanceStatus,\r\n                attendanceTime: newAttendanceTime,\r\n            };\r\n\r\n            const res = await updateEventRegistration(attendanceData);\r\n            console.log(\"API response updateEventRegistration:\", res);\r\n            if (res && res.data && res.data.errCode === 0) {\r\n                toast.success(newAttendanceStatus === 1 ? \"Điểm danh thành công!\" : \"Hủy điểm danh thành công!\");\r\n                // Tạo thông báo và gửi email\r\n                const notificationData = {\r\n                    user_id: item.userId,\r\n                    title: newAttendanceStatus === 1 ? `Đã điểm danh sự kiện ${this.state.eventName}` : `Hủy điểm danh sự kiện ${this.state.eventName}`,\r\n                    message:\r\n                        newAttendanceStatus === 1\r\n                            ? `Bạn đã được điểm danh tham gia sự kiện \"${this.state.eventName}\" vào lúc ${moment(newAttendanceTime).format(\"DD/MM/YYYY HH:mm\")}`\r\n                            : `Điểm danh của bạn cho sự kiện \"${this.state.eventName}\" đã bị hủy.`,\r\n                    type: \"event_update\",\r\n                    reference_id: this.state.eventId,\r\n                    reference_type: \"EVENT_ATTENDANCE\",\r\n                    created_by: this.props.userInfo?.id || \"system\", // Sử dụng ID người dùng hiện tại hoặc \"system\" nếu không có\r\n                    created_at: this.state.attendanceTime || new Date().toISOString(),\r\n                    link: `/event-registration-details/${this.state.eventId}`,\r\n                    send_to_all: false, // Chỉ gửi cho người dùng cụ thể\r\n                };\r\n\r\n                try {\r\n                    const notifyRes = await createNotification(notificationData);\r\n                    console.log(\"Notification created:\", notifyRes);\r\n\r\n                    if (notifyRes && notifyRes.data && notifyRes.data.errCode === 0) {\r\n                        console.log(`Thông báo và email đã được gửi cho người dùng ${item.name}`);\r\n                    } else {\r\n                        console.error(\"Không thể tạo thông báo:\", notifyRes?.data?.errMessage || \"Lỗi không xác định\");\r\n                    }\r\n                } catch (notifyError) {\r\n                    console.error(\"Lỗi khi tạo thông báo:\", notifyError);\r\n                }\r\n            } else {\r\n                // Rollback UI nếu API thất bại\r\n                const revertedRegistrations = this.state.registrations.map((reg) =>\r\n                    reg.id === item.id\r\n                        ? {\r\n                              ...reg,\r\n                              attendanceStatus: item.attendanceStatus,\r\n                              attendanceTime: item.attendanceTime,\r\n                          }\r\n                        : reg\r\n                );\r\n\r\n                const revertedCount = newAttendanceStatus === 0 ? this.state.attendedRegistrations + 1 : this.state.attendedRegistrations - 1;\r\n\r\n                this.setState(\r\n                    {\r\n                        registrations: revertedRegistrations,\r\n                        attendedRegistrations: revertedCount,\r\n                    },\r\n                    this.filterRegistrations\r\n                );\r\n\r\n                toast.error(res?.data?.errMessage || \"Cập nhật điểm danh không thành công\");\r\n            }\r\n        } catch (e) {\r\n            console.error(\"Lỗi khi cập nhật điểm danh:\", e);\r\n            toast.error(\"Không thể kết nối máy chủ\");\r\n\r\n            // Rollback UI khi có lỗi\r\n            const revertedRegistrations = this.state.registrations.map((reg) =>\r\n                reg.id === item.id\r\n                    ? {\r\n                          ...reg,\r\n                          attendanceStatus: item.attendanceStatus,\r\n                          attendanceTime: item.attendanceTime,\r\n                      }\r\n                    : reg\r\n            );\r\n\r\n            const revertedCount = newAttendanceStatus === 0 ? this.state.attendedRegistrations + 1 : this.state.attendedRegistrations - 1;\r\n\r\n            this.setState(\r\n                {\r\n                    registrations: revertedRegistrations,\r\n                    attendedRegistrations: revertedCount,\r\n                },\r\n                this.filterRegistrations\r\n            );\r\n        }\r\n    };\r\n\r\n    // Thêm phương thức xuất thống kê ra CSV\r\n    exportStatisticsToCSV = () => {\r\n        const { eventStats } = this.state;\r\n\r\n        if (!eventStats) {\r\n            toast.info(\"Không có dữ liệu thống kê để xuất\");\r\n            return;\r\n        }\r\n\r\n        const { eventInfo, registrationStats, attendanceStats, paymentStats } = eventStats;\r\n\r\n        // Tạo dữ liệu CSV\r\n        let csvData = [\r\n            // Thông tin sự kiện\r\n            [\"THỐNG KÊ SỰ KIỆN\"],\r\n            [\"Tên sự kiện:\", eventInfo.name],\r\n            [\"Ngày diễn ra:\", moment(eventInfo.date).format(\"DD/MM/YYYY\")],\r\n            [\"Địa điểm:\", eventInfo.address],\r\n            [\"Loại sự kiện:\", eventInfo.type],\r\n            [\"Trạng thái:\", eventInfo.status],\r\n            [\"\"],\r\n\r\n            // Thống kê đăng ký\r\n            [\"THỐNG KÊ ĐĂNG KÝ\"],\r\n            [\"Sức chứa:\", eventInfo.capacity + \" người\"],\r\n            [\"Đã đăng ký:\", registrationStats.total + \" người\"],\r\n            [\"Còn trống:\", registrationStats.remainingSlots + \" chỗ\"],\r\n            [\"Tỷ lệ đăng ký:\", registrationStats.registrationRate + \"%\"],\r\n            [\"Đăng ký đầu tiên:\", registrationStats.timeStats.earliest ? moment(registrationStats.timeStats.earliest).format(\"DD/MM/YYYY HH:mm\") : \"-\"],\r\n            [\"Đăng ký mới nhất:\", registrationStats.timeStats.latest ? moment(registrationStats.timeStats.latest).format(\"DD/MM/YYYY HH:mm\") : \"-\"],\r\n            [\"\"],\r\n\r\n            // Thống kê tham dự\r\n            [\"THỐNG KÊ THAM DỰ\"],\r\n            [\"Đã tham dự:\", attendanceStats.attended + \" người\"],\r\n            [\"Chưa tham dự:\", attendanceStats.notAttended + \" người\"],\r\n            [\"Tỷ lệ tham dự:\", attendanceStats.attendanceRate + \"%\"],\r\n            [\"Điểm danh sớm nhất:\", attendanceStats.earliestAttendance ? moment(attendanceStats.earliestAttendance).format(\"DD/MM/YYYY HH:mm\") : \"-\"],\r\n            [\"Điểm danh muộn nhất:\", attendanceStats.latestAttendance ? moment(attendanceStats.latestAttendance).format(\"DD/MM/YYYY HH:mm\") : \"-\"],\r\n            [\"\"],\r\n\r\n            // Thống kê thanh toán\r\n            [\"THỐNG KÊ THANH TOÁN\"],\r\n            [\"Doanh thu dự kiến:\", paymentStats.expectedRevenue.toLocaleString(\"vi-VN\") + \" VNĐ\"],\r\n            [\"Đã thanh toán:\", paymentStats.totalPaid.toLocaleString(\"vi-VN\") + \" VNĐ\"],\r\n            [\"Chưa thanh toán:\", paymentStats.totalUnpaid.toLocaleString(\"vi-VN\") + \" VNĐ\"],\r\n            [\"Tỷ lệ thanh toán:\", paymentStats.paymentRate + \"%\"],\r\n            [\"\"],\r\n\r\n            // Thống kê theo trạng thái thanh toán\r\n            [\"THEO TRẠNG THÁI THANH TOÁN\"],\r\n            [\"Trạng thái\", \"Số lượng\", \"Thành tiền (VNĐ)\"],\r\n        ];\r\n\r\n        // Thêm dữ liệu trạng thái thanh toán\r\n        paymentStats.byStatus.forEach((status) => {\r\n            csvData.push([status.name, status.count, status.amount.toLocaleString(\"vi-VN\")]);\r\n        });\r\n\r\n        csvData.push([\"\"]);\r\n        csvData.push([\"THEO PHƯƠNG THỨC THANH TOÁN\"]);\r\n        csvData.push([\"Phương thức\", \"Số lượng\", \"Thành tiền (VNĐ)\"]);\r\n\r\n        // Thêm dữ liệu phương thức thanh toán\r\n        paymentStats.byMethod.forEach((method) => {\r\n            csvData.push([method.name, method.count, method.amount.toLocaleString(\"vi-VN\")]);\r\n        });\r\n\r\n        csvData.push([\"\"]);\r\n        csvData.push([\"PHÂN BỐ ĐĂNG KÝ THEO THỜI GIAN\"]);\r\n        csvData.push([\"Ngày\", \"Số lượng đăng ký\"]);\r\n\r\n        // Thêm dữ liệu phân bố đăng ký theo thời gian\r\n        registrationStats.timeStats.distribution.forEach((item) => {\r\n            csvData.push([moment(item.date).format(\"DD/MM/YYYY\"), item.count]);\r\n        });\r\n\r\n        csvData.push([\"\"]);\r\n        csvData.push([\"DANH SÁCH NGƯỜI THAM DỰ\"]);\r\n        csvData.push([\"STT\", \"Họ tên\", \"Email\", \"Số điện thoại\", \"Ngày đăng ký\", \"Trạng thái thanh toán\", \"Phương thức thanh toán\", \"Đã tham dự\", \"Thời gian tham dự\", \"Ghi chú\"]);\r\n\r\n        // Thêm danh sách người tham dự\r\n        eventStats.registrations.forEach((item, idx) => {\r\n            csvData.push([\r\n                idx + 1,\r\n                item.name || \"\",\r\n                item.email || \"\",\r\n                item.phoneNumber || \"\",\r\n                item.registeredAt ? moment(item.registeredAt).format(\"DD/MM/YYYY HH:mm\") : \"\",\r\n                item.paymentStatus || \"\",\r\n                item.paymentMethod || \"\",\r\n                item.attended ? \"Đã tham dự\" : \"Chưa tham dự\",\r\n                item.attendanceTime ? moment(item.attendanceTime).format(\"DD/MM/YYYY HH:mm\") : \"\",\r\n                item.notes || \"\",\r\n            ]);\r\n        });\r\n\r\n        // Chuyển đổi mảng dữ liệu thành chuỗi CSV\r\n        const csvContent = csvData.map((row) => row.join(\",\")).join(\"\\n\");\r\n\r\n        // Tạo file CSV và tải xuống\r\n        const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\r\n        const link = document.createElement(\"a\");\r\n        const url = URL.createObjectURL(blob);\r\n        link.setAttribute(\"href\", url);\r\n        link.setAttribute(\"download\", `thong-ke-su-kien-${eventInfo.name.replace(/[^a-z0-9]/gi, \"-\")}-${new Date().getTime()}.csv`);\r\n        link.style.visibility = \"hidden\";\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n\r\n        toast.success(\"Đã xuất thống kê sự kiện thành công!\");\r\n    };\r\n\r\n    // exportAllChartsAsImages = () => {\r\n    //     const chartIds = [\r\n    //         { id: \"registration-chart\", name: \"phan-bo-dang-ky\" },\r\n    //         { id: \"attendance-chart\", name: \"ty-le-tham-du\" },\r\n    //         { id: \"payment-chart\", name: \"thanh-toan\" },\r\n    //     ];\r\n\r\n    //     toast.info(`Đang chuẩn bị xuất ${chartIds.length} biểu đồ...`);\r\n\r\n    //     // Hàm xuất từng biểu đồ\r\n    //     const exportSingleChart = (chartId, chartName) => {\r\n    //         return new Promise((resolve, reject) => {\r\n    //             const chartElement = document.getElementById(chartId);\r\n    //             if (!chartElement) {\r\n    //                 console.warn(`Không tìm thấy biểu đồ ${chartId}`);\r\n    //                 resolve(false);\r\n    //                 return;\r\n    //             }\r\n\r\n    //             html2canvas(chartElement, {\r\n    //                 scale: 2,\r\n    //                 useCORS: true,\r\n    //                 backgroundColor: \"#ffffff\",\r\n    //             })\r\n    //                 .then((canvas) => {\r\n    //                     const link = document.createElement(\"a\");\r\n    //                     link.download = `${chartName}-${new Date().getTime()}.png`;\r\n    //                     link.href = canvas.toDataURL(\"image/png\");\r\n    //                     link.click();\r\n    //                     resolve(true);\r\n    //                 })\r\n    //                 .catch((err) => {\r\n    //                     console.error(`Lỗi khi xuất biểu đồ ${chartId}:`, err);\r\n    //                     reject(err);\r\n    //                 });\r\n    //         });\r\n    //     };\r\n\r\n    //     // Xuất lần lượt các biểu đồ\r\n    //     Promise.all(chartIds.map((chart) => exportSingleChart(chart.id, chart.name)))\r\n    //         .then((results) => {\r\n    //             const successCount = results.filter(Boolean).length;\r\n    //             if (successCount > 0) {\r\n    //                 toast.success(`Đã xuất ${successCount}/${chartIds.length} biểu đồ thành công!`);\r\n    //             } else {\r\n    //                 toast.warning(\"Không thể xuất biểu đồ. Vui lòng kiểm tra ID của các biểu đồ.\");\r\n    //             }\r\n    //         })\r\n    //         .catch(() => {\r\n    //             toast.error(\"Đã xảy ra lỗi khi xuất biểu đồ.\");\r\n    //         });\r\n    // };\r\n\r\n    exportStatisticsToPDF = () => {\r\n        const { eventStats } = this.state;\r\n        if (!eventStats) {\r\n            toast.info(\"Không có dữ liệu thống kê để xuất\");\r\n            return;\r\n        }\r\n\r\n        // Hiển thị trạng thái đang xuất\r\n        toast.info(\"Đang chuẩn bị xuất PDF, vui lòng đợi...\");\r\n        this.setState({ isExporting: true });\r\n\r\n        // Sử dụng setTimeout để đảm bảo toast hiển thị trước khi xử lý nặng\r\n        setTimeout(() => {\r\n            const statisticsElement = document.getElementById(\"statistics-container\");\r\n\r\n            if (!statisticsElement) {\r\n                toast.error(\"Không thể tìm thấy nội dung thống kê để xuất\");\r\n                this.setState({ isExporting: false });\r\n                return;\r\n            }\r\n\r\n            html2canvas(statisticsElement, {\r\n                scale: 2, // Tăng độ phân giải\r\n                useCORS: true, // Cho phép tải hình ảnh từ các domain khác\r\n                logging: false,\r\n                backgroundColor: \"#ffffff\",\r\n            })\r\n                .then((canvas) => {\r\n                    const imgData = canvas.toDataURL(\"image/png\");\r\n                    const pdf = new jsPDF({\r\n                        orientation: \"portrait\",\r\n                        unit: \"mm\",\r\n                        format: \"a4\",\r\n                    });\r\n\r\n                    // Tính toán kích thước để vừa trang A4\r\n                    const imgWidth = 148; // Chiều rộng trang A4 (mm)\r\n                    const pageHeight = 210; // Chiều cao trang A4 (mm)\r\n                    const imgHeight = (canvas.height * imgWidth) / canvas.width;\r\n\r\n                    let heightLeft = imgHeight;\r\n                    let position = 0;\r\n\r\n                    // Thêm thông tin sự kiện vào đầu PDF\r\n                    pdf.setFontSize(16);\r\n                    const eventName = eventStats.eventInfo.name || \"Sự kiện không rõ tên\";\r\n                    // chuyển đổi tên sự kiện thành tiếng việt kho\r\n                    pdf.text(`Thong_ke_su_kien: ${eventStats.eventInfo.name}`, 15, 15);\r\n                    pdf.setFontSize(12);\r\n                    pdf.text(`Ngay_xuat: ${moment().format(\"DD/MM/YYYY HH:mm\")}`, 15, 25);\r\n\r\n                    // Tăng vị trí bắt đầu của hình ảnh\r\n                    position = 30;\r\n\r\n                    // Thêm hình ảnh vào PDF\r\n                    pdf.addImage(imgData, \"PNG\", 0, position, imgWidth, imgHeight);\r\n                    heightLeft -= pageHeight - position;\r\n\r\n                    // Nếu nội dung quá dài, thêm các trang tiếp theo\r\n                    while (heightLeft > 0) {\r\n                        position = 0;\r\n                        pdf.addPage();\r\n                        pdf.addImage(imgData, \"PNG\", 0, position - (pageHeight - 30), imgWidth, imgHeight);\r\n                        heightLeft -= pageHeight;\r\n                    }\r\n\r\n                    // Lưu file PDF\r\n                    pdf.save(`thong-ke-su-kien-${eventStats.eventInfo.name.replace(/[^a-z0-9]/gi, \"-\")}-${new Date().getTime()}.pdf`);\r\n\r\n                    // Kết thúc xuất\r\n                    this.setState({ isExporting: false });\r\n                    toast.success(\"Đã xuất thống kê sự kiện thành PDF thành công!\");\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Lỗi khi xuất PDF:\", error);\r\n                    this.setState({ isExporting: false });\r\n                    toast.error(\"Lỗi khi xuất PDF. Vui lòng thử lại.\");\r\n                });\r\n        }, 500);\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            eventName,\r\n            filteredRegistrations,\r\n            isLoading,\r\n            searchTerm,\r\n            statusFilter,\r\n            paymentFilter,\r\n            attendanceFilter,\r\n            showDetailModal,\r\n            showAttendanceModal,\r\n            selectedRegistration,\r\n            attendanceDate,\r\n            attendanceNote,\r\n            totalRegistrations,\r\n            approvedRegistrations,\r\n            pendingRegistrations,\r\n            rejectedRegistrations,\r\n            paidRegistrations,\r\n            unpaidRegistrations,\r\n            attendedRegistrations,\r\n            sortField,\r\n            sortDirection,\r\n            activeTab,\r\n            eventStats,\r\n        } = this.state;\r\n\r\n        return (\r\n            <Container fluid className=\"event-registration-manage-container p-4\">\r\n                <Button variant=\"outline-secondary\" className=\"mb-3\" onClick={this.handleBackToEvents}>\r\n                    <FaArrowLeft className=\"me-2\" /> Quay lại danh sách sự kiện\r\n                </Button>\r\n\r\n                <h3 className=\"mb-3 fw-bold\">Quản lý đăng ký: {eventName}</h3>\r\n\r\n                {/* Tab Navigation */}\r\n                <div className=\"event-tabs mb-4\">\r\n                    <ul className=\"nav nav-tabs\">\r\n                        <li className=\"nav-item\">\r\n                            <button className={`nav-link ${activeTab === \"registrations\" ? \"active\" : \"\"}`} onClick={() => this.handleTabChange(\"registrations\")}>\r\n                                <i className=\"fas fa-clipboard-list me-2\"></i>\r\n                                Danh sách đăng ký\r\n                            </button>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <button className={`nav-link ${activeTab === \"statistics\" ? \"active\" : \"\"}`} onClick={() => this.handleTabChange(\"statistics\")}>\r\n                                <i className=\"fas fa-chart-bar me-2\"></i>\r\n                                Thống kê sự kiện\r\n                            </button>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                {/* Dashboard Cards - hiển thị ở cả 2 tab */}\r\n                <Row className=\"mb-4\">\r\n                    <Col md={3} sm={6} className=\"mb-3 mb-sm-0\">\r\n                        <Card className=\"text-center h-100 shadow-sm\">\r\n                            <Card.Body>\r\n                                <h1 className=\"mb-0\">{totalRegistrations}</h1>\r\n                                <Card.Text>Tổng số đăng ký</Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n\r\n                    <Col md={3} sm={6}>\r\n                        <Card className=\"text-center h-100 shadow-sm\">\r\n                            <Card.Body>\r\n                                <h1 className=\"mb-0 text-info\">{attendedRegistrations}</h1>\r\n                                <Card.Text>Đã điểm danh</Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n\r\n                    {/* đã thanh toán */}\r\n                    <Col md={3} sm={6} className=\"mb-3 mb-sm-0\">\r\n                        <Card className=\"text-center h-100 shadow-sm\">\r\n                            <Card.Body>\r\n                                <h1 className=\"mb-0 text-success\">{paidRegistrations}</h1>\r\n                                <Card.Text>Đã thanh toán</Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Tab Content */}\r\n                {activeTab === \"registrations\" ? (\r\n                    // Nội dung tab đăng ký (phần hiện tại của bạn)\r\n                    <>\r\n                        <Table className=\"shadow-sm mb-4\">\r\n                            <Card.Header className=\"bg-white\">\r\n                                <h5 className=\"mb-0 fw-bold\">Bộ lọc & Tìm kiếm</h5>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row className=\"mb-3\">\r\n                                    <Col lg={3} md={6} className=\"mb-3 mb-md-0\">\r\n                                        <InputGroup>\r\n                                            <InputGroup.Text>\r\n                                                <FaSearch />\r\n                                            </InputGroup.Text>\r\n                                            <Form.Control placeholder=\"Tìm kiếm theo tên, email, SĐT, ghi chú...\" value={searchTerm} onChange={this.handleSearch} />\r\n                                        </InputGroup>\r\n                                    </Col>\r\n\r\n                                    <Col lg={8} md={6}>\r\n                                        <Row>\r\n                                            <Col md={3} className=\"mb-3 mb-md-0\">\r\n                                                <InputGroup>\r\n                                                    <InputGroup.Text>\r\n                                                        <FaMoneyBillWave />\r\n                                                    </InputGroup.Text>\r\n                                                    <Form.Select name=\"paymentFilter\" value={paymentFilter} onChange={this.handleFilterChange}>\r\n                                                        <option value=\"all\">Tất cả thanh toán</option>\r\n                                                        <option value=\"PS1\">Đã thanh toán</option>\r\n                                                        <option value=\"PS2\">Chưa thanh toán</option>\r\n                                                    </Form.Select>\r\n                                                </InputGroup>\r\n                                            </Col>\r\n\r\n                                            <Col md={3}>\r\n                                                <InputGroup>\r\n                                                    <InputGroup.Text>\r\n                                                        <FaUserCheck />\r\n                                                    </InputGroup.Text>\r\n                                                    <Form.Select name=\"attendanceFilter\" value={attendanceFilter} onChange={this.handleFilterChange}>\r\n                                                        <option value=\"all\">Tất cả điểm danh</option>\r\n                                                        <option value=\"attended\">Đã điểm danh</option>\r\n                                                        <option value=\"not-attended\">Chưa điểm danh</option>\r\n                                                    </Form.Select>\r\n                                                </InputGroup>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Col>\r\n                                </Row>\r\n\r\n                                <Row>\r\n                                    <Col className=\"d-flex justify-content-end\">\r\n                                        <Button variant=\"success\" onClick={this.exportToCSV}>\r\n                                            <FaFileExport className=\"me-2\" /> Xuất file CSV\r\n                                        </Button>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Table>\r\n\r\n                        <Table className=\"shadow-sm\">\r\n                            <Card.Body>\r\n                                {isLoading ? (\r\n                                    <div className=\"text-center my-5\">\r\n                                        <Spinner animation=\"border\" variant=\"primary\" />\r\n                                        <div className=\"mt-2\">Đang tải dữ liệu...</div>\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"table-responsive\">\r\n                                        <Table hover className=\"align-middle\">\r\n                                            <thead className=\"table-light\">\r\n                                                <tr>\r\n                                                    <th>#</th>\r\n                                                    <th className=\"sortable\" onClick={() => this.handleSort(\"name\")}>\r\n                                                        Họ tên\r\n                                                        {sortField === \"name\" && <FaSort className=\"ms-1\" />}\r\n                                                    </th>\r\n                                                    <th className=\"sortable\" onClick={() => this.handleSort(\"email\")}>\r\n                                                        Email\r\n                                                        {sortField === \"email\" && <FaSort className=\"ms-1\" />}\r\n                                                    </th>\r\n                                                    <th>Số điện thoại</th>\r\n                                                    <th className=\"sortable\" onClick={() => this.handleSort(\"registeredAt\")}>\r\n                                                        Ngày đăng ký\r\n                                                        {sortField === \"registeredAt\" && <FaSort className=\"ms-1\" />}\r\n                                                    </th>\r\n                                                    {/* <th>Trạng thái</th> */}\r\n                                                    <th>Thanh toán</th>\r\n                                                    <th>Điểm danh</th>\r\n                                                    <th>Thao tác</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {filteredRegistrations && filteredRegistrations.length > 0 ? (\r\n                                                    filteredRegistrations.map((item, idx) => (\r\n                                                        <tr key={item.id}>\r\n                                                            <td>{idx + 1}</td>\r\n                                                            <td>{item.name}</td>\r\n                                                            <td>{item.email}</td>\r\n                                                            <td>{item.phoneNumber || \"-\"}</td>\r\n                                                            <td>{this.formatDate(item.registeredAt)}</td>\r\n\r\n                                                            <td>\r\n                                                                {item.statusCostCode === \"PS1\" ? (\r\n                                                                    <Badge bg=\"success\">{item.payMethod?.valueVi || \"Đã thanh toán\"}</Badge>\r\n                                                                ) : (\r\n                                                                    <Badge bg=\"secondary\">Chưa thanh toán</Badge>\r\n                                                                )}\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <div className=\"form-check form-switch\">\r\n                                                                    <input\r\n                                                                        className=\"form-check-input\"\r\n                                                                        type=\"checkbox\"\r\n                                                                        id={`attendance-${item.id}`}\r\n                                                                        checked={item.attendanceStatus === 1}\r\n                                                                        onChange={(e) => this.handleAttendanceToggle(e, item)}\r\n                                                                    />\r\n                                                                    {item.attendanceStatus === 1 && (\r\n                                                                        <small className=\"d-block text-muted mt-1\">{moment(item.attendanceTime).format(\"DD/MM/YYYY HH:mm\")}</small>\r\n                                                                    )}\r\n                                                                </div>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <div className=\"d-flex\">\r\n                                                                    <Button\r\n                                                                        variant=\"outline-info\"\r\n                                                                        size=\"sm\"\r\n                                                                        className=\"me-1\"\r\n                                                                        onClick={() => this.handleViewDetail(item)}\r\n                                                                        title=\"Xem chi tiết\"\r\n                                                                    >\r\n                                                                        <FaEye />\r\n                                                                    </Button>\r\n\r\n                                                                    {item.status === \"pending\" && (\r\n                                                                        <>\r\n                                                                            <Button\r\n                                                                                variant=\"outline-success\"\r\n                                                                                size=\"sm\"\r\n                                                                                className=\"me-1\"\r\n                                                                                onClick={() => this.handleApprove(item.id)}\r\n                                                                                title=\"Duyệt đăng ký\"\r\n                                                                            >\r\n                                                                                <FaCheck />\r\n                                                                            </Button>\r\n                                                                            <Button\r\n                                                                                variant=\"outline-danger\"\r\n                                                                                size=\"sm\"\r\n                                                                                onClick={() => this.handleReject(item.id)}\r\n                                                                                title=\"Từ chối đăng ký\"\r\n                                                                            >\r\n                                                                                <FaTimes />\r\n                                                                            </Button>\r\n                                                                        </>\r\n                                                                    )}\r\n\r\n                                                                    {item.status === \"approved\" && (\r\n                                                                        <>\r\n                                                                            {item.attendanceStatus === 0 ? (\r\n                                                                                <Button\r\n                                                                                    variant=\"outline-primary\"\r\n                                                                                    size=\"sm\"\r\n                                                                                    className=\"me-1\"\r\n                                                                                    onClick={() => this.handleAttendance(item)}\r\n                                                                                    title=\"Điểm danh\"\r\n                                                                                >\r\n                                                                                    <FaCalendarCheck />\r\n                                                                                </Button>\r\n                                                                            ) : (\r\n                                                                                <Button\r\n                                                                                    variant=\"outline-secondary\"\r\n                                                                                    size=\"sm\"\r\n                                                                                    className=\"me-1\"\r\n                                                                                    onClick={() => this.cancelAttendance(item.id)}\r\n                                                                                    title=\"Hủy điểm danh\"\r\n                                                                                >\r\n                                                                                    <FaTimes />\r\n                                                                                </Button>\r\n                                                                            )}\r\n                                                                        </>\r\n                                                                    )}\r\n                                                                </div>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    ))\r\n                                                ) : (\r\n                                                    <tr>\r\n                                                        <td colSpan=\"9\" className=\"text-center py-3\">\r\n                                                            {searchTerm || statusFilter !== \"all\" || paymentFilter !== \"all\" || attendanceFilter !== \"all\"\r\n                                                                ? \"Không tìm thấy đăng ký nào phù hợp với bộ lọc\"\r\n                                                                : \"Chưa có ai đăng ký sự kiện này\"}\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                )}\r\n                                            </tbody>\r\n                                        </Table>\r\n                                    </div>\r\n                                )}\r\n                            </Card.Body>\r\n                        </Table>\r\n\r\n                        {/* Modal xem chi tiết đăng ký */}\r\n                        <Modal show={showDetailModal} onHide={this.closeDetailModal} centered size=\"lg\">\r\n                            <Modal.Header closeButton>\r\n                                <Modal.Title>Chi tiết đăng ký</Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body>\r\n                                {selectedRegistration &&\r\n                                    // kiểm tra thông tin toàn bộ sự kiện\r\n                                    (console.log(selectedRegistration),\r\n                                    (\r\n                                        <div>\r\n                                            <Tabs defaultActiveKey=\"user-info\" className=\"mb-4\">\r\n                                                <Tab eventKey=\"user-info\" title=\"Thông tin người đăng ký\">\r\n                                                    <Row className=\"mb-3\">\r\n                                                        <Col md={4} className=\"fw-bold\">\r\n                                                            Họ và tên:\r\n                                                        </Col>\r\n                                                        <Col md={8}>{selectedRegistration.name}</Col>\r\n                                                    </Row>\r\n                                                    <Row className=\"mb-3\">\r\n                                                        <Col md={4} className=\"fw-bold\">\r\n                                                            Email:\r\n                                                        </Col>\r\n                                                        <Col md={8}>{selectedRegistration.email}</Col>\r\n                                                    </Row>\r\n                                                    <Row className=\"mb-3\">\r\n                                                        <Col md={4} className=\"fw-bold\">\r\n                                                            Số điện thoại:\r\n                                                        </Col>\r\n                                                        <Col md={8}>{selectedRegistration.phoneNumber || \"Không có\"}</Col>\r\n                                                    </Row>\r\n                                                    {selectedRegistration.User?.address && (\r\n                                                        <Row className=\"mb-3\">\r\n                                                            <Col md={4} className=\"fw-bold\">\r\n                                                                Địa chỉ:\r\n                                                            </Col>\r\n                                                            <Col md={8}>{selectedRegistration.User.address}</Col>\r\n                                                        </Row>\r\n                                                    )}\r\n                                                    {selectedRegistration.User?.gender && (\r\n                                                        <Row className=\"mb-3\">\r\n                                                            <Col md={4} className=\"fw-bold\">\r\n                                                                Giới tính:\r\n                                                            </Col>\r\n                                                            <Col md={8}>\r\n                                                                {selectedRegistration.User.gender === \"M\" ? \"Nam\" : selectedRegistration.User.gender === \"F\" ? \"Nữ\" : \"Khác\"}\r\n                                                            </Col>\r\n                                                        </Row>\r\n                                                    )}\r\n                                                </Tab>\r\n                                                <Tab eventKey=\"registration-info\" title=\"Thông tin đăng ký\">\r\n                                                    <Row className=\"mb-3\">\r\n                                                        <Col md={4} className=\"fw-bold\">\r\n                                                            Thời gian đăng ký:\r\n                                                        </Col>\r\n                                                        <Col md={8}>{this.formatDate(selectedRegistration.registeredAt)}</Col>\r\n                                                    </Row>\r\n                                                    <Row className=\"mb-3\">\r\n                                                        <Col md={4} className=\"fw-bold\">\r\n                                                            Trạng thái thanh toán:\r\n                                                        </Col>\r\n                                                        <Col md={8}>\r\n                                                            {selectedRegistration.statusCostCode === \"PS1\" ? (\r\n                                                                <Badge bg=\"success\">Đã thanh toán</Badge>\r\n                                                            ) : (\r\n                                                                <Badge bg=\"secondary\">Chưa thanh toán</Badge>\r\n                                                            )}\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                    <Row className=\"mb-3\">\r\n                                                        <Col md={4} className=\"fw-bold\">\r\n                                                            Phương thức thanh toán:\r\n                                                        </Col>\r\n                                                        <Col md={8}>{selectedRegistration.payMethod?.valueVi || \"-\"}</Col>\r\n                                                    </Row>\r\n                                                    <Row className=\"mb-3\">\r\n                                                        <Col md={4} className=\"fw-bold\">\r\n                                                            Trạng thái điểm danh:\r\n                                                        </Col>\r\n                                                        <Col md={8}>\r\n                                                            {selectedRegistration.attendanceStatus === 1 ? (\r\n                                                                <Badge bg=\"success\">Đã điểm danh</Badge>\r\n                                                            ) : (\r\n                                                                <Badge bg=\"secondary\">Chưa điểm danh</Badge>\r\n                                                            )}\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                    {selectedRegistration.attendanceStatus === 1 && (\r\n                                                        <Row className=\"mb-3\">\r\n                                                            <Col md={4} className=\"fw-bold\">\r\n                                                                Thời gian điểm danh:\r\n                                                            </Col>\r\n                                                            <Col md={8}>{this.formatDate(selectedRegistration.attendanceTime)}</Col>\r\n                                                        </Row>\r\n                                                    )}\r\n                                                    {selectedRegistration.notes && (\r\n                                                        <Row className=\"mb-3\">\r\n                                                            <Col md={4} className=\"fw-bold\">\r\n                                                                Ghi chú:\r\n                                                            </Col>\r\n                                                            <Col md={8}>{selectedRegistration.notes}</Col>\r\n                                                        </Row>\r\n                                                    )}\r\n                                                </Tab>\r\n                                            </Tabs>\r\n\r\n                                            <div className=\"d-flex justify-content-between mt-4\">\r\n                                                {selectedRegistration.status === \"pending\" && (\r\n                                                    <div className=\"d-flex gap-2\">\r\n                                                        <Button\r\n                                                            variant=\"success\"\r\n                                                            onClick={() => {\r\n                                                                this.handleApprove(selectedRegistration.id);\r\n                                                                this.closeDetailModal();\r\n                                                            }}\r\n                                                        >\r\n                                                            <FaCheck className=\"me-2\" /> Duyệt đăng ký\r\n                                                        </Button>\r\n                                                        <Button\r\n                                                            variant=\"danger\"\r\n                                                            onClick={() => {\r\n                                                                this.handleReject(selectedRegistration.id);\r\n                                                                this.closeDetailModal();\r\n                                                            }}\r\n                                                        >\r\n                                                            <FaTimes className=\"me-2\" /> Từ chối đăng ký\r\n                                                        </Button>\r\n                                                    </div>\r\n                                                )}\r\n\r\n                                                {selectedRegistration.status === \"approved\" && selectedRegistration.attendanceStatus === 0 && (\r\n                                                    <Button\r\n                                                        variant=\"primary\"\r\n                                                        onClick={() => {\r\n                                                            this.closeDetailModal();\r\n                                                            this.handleAttendance(selectedRegistration);\r\n                                                        }}\r\n                                                    >\r\n                                                        <FaCalendarCheck className=\"me-2\" /> Điểm danh\r\n                                                    </Button>\r\n                                                )}\r\n\r\n                                                <Button variant=\"secondary\" onClick={this.closeDetailModal}>\r\n                                                    Đóng\r\n                                                </Button>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                            </Modal.Body>\r\n                        </Modal>\r\n                    </>\r\n                ) : (\r\n                    // Nội dung tab thống kê (phần mới)\r\n                    this.renderStatisticsTab()\r\n                )}\r\n\r\n                {/* Các modal hiện tại */}\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        systemMenuPath: state.app.systemMenuPath,\r\n        isLoggedIn: state.user.isLoggedIn,\r\n        userInforr: state.user.userInforr, // Lấy thông tin người dùng từ Redux store\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(EventRegistrationManage));\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}