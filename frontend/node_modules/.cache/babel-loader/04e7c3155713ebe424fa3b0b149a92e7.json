{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Trant\\\\Documents\\\\L\\u1EADp Tr\\xECnh Web\\\\5.font-end-react-fullstack\\\\React\\\\src\\\\containers\\\\System\\\\UserRedux.js\";\nimport React, { Component } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { connect } from \"react-redux\";\nimport { languages } from \"../../utils/constant\";\nimport \"./UserRedux.scss\";\nimport * as actions from \"../../../src/store/actions\";\nimport Lightbox from \"react-image-lightbox\";\nimport \"react-image-lightbox/style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserRedux extends Component {\n  constructor(props) {\n    super(props);\n\n    this.triggerFileInput = () => {\n      document.getElementById(\"previewImg\").click();\n    };\n\n    this.openPreviewImage = () => {\n      if (!this.state.previewImgURL) return;\n      this.setState({\n        isOpen: true\n      });\n    };\n\n    this.handleOnSubmit = () => {\n      console.log('check', this.state);\n    };\n\n    this.onChangeInput = (event, id) => {\n      let copyState = { ...this.state\n      };\n      copyState[id] = event.target.value;\n      this.setState({ ...copyState\n      } // () => {\n      //     console.log(\"anhtonton\", this.state);\n      // }\n      );\n    };\n\n    this.state = {\n      genderArr: [],\n      positionArr: [],\n      roleArr: [],\n      previewImgURL: \"\",\n      isOpen: false,\n      email: \"\",\n      password: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      address: \"\",\n      phoneNumber: \"\",\n      gender: \"\",\n      role: \"\",\n      position: \"\",\n      avatar: \"\"\n    };\n  }\n\n  async componentDidMount() {\n    this.props.getGenderStart();\n    this.props.getPositionStart();\n    this.props.getRoleStart();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.genderRedux !== this.props.genderRedux) {\n      let arrGender = this.props.genderRedux;\n      this.setState({\n        genderArr: arrGender,\n        gender: arrGender && arrGender.length > 0 ? arrGender[0].key : \"\"\n      });\n    }\n\n    if (prevProps.positionRedux !== this.props.positionRedux) {\n      let arrPosition = this.props.positionRedux;\n      this.setState({\n        positionArr: arrPosition,\n        position: arrPosition && arrPosition.length > 0 ? arrPosition[0].key : \"\"\n      });\n    }\n\n    if (prevProps.roleRedux !== this.props.roleRedux) {\n      let arrRole = this.props.roleRedux;\n      this.setState({\n        roleArr: arrRole,\n        role: arrRole && arrRole.length > 0 ? arrRole[0].key : \"\"\n      });\n    }\n  }\n\n  handleOnchangeImage(event) {\n    let data = event.target.files;\n    let file = data[0];\n\n    if (file) {\n      let objectUrl = URL.createObjectURL(file);\n      this.setState({\n        previewImgURL: objectUrl,\n        avatar: file\n      });\n    }\n  }\n\n  render() {\n    let genders = this.state.genderArr;\n    let language = this.props.language;\n    let isLoading = this.props.isLoading;\n    let positions = this.state.positionArr;\n    let roles = this.state.roleArr;\n    let {\n      email,\n      password,\n      firstName,\n      lastName,\n      address,\n      phoneNumber,\n      gender,\n      role,\n      position,\n      avatar\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"manage-user\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: \"manage-user.title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-redux-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: isLoading === true ? \"Loading infomation\" : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                id: \"manage-user.add-new-user\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"email\",\n                    className: \"form-label\",\n                    children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                      id: \"manage-user.email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"email\",\n                    className: \"form-control\",\n                    id: \"email\",\n                    placeholder: \"Email\",\n                    value: email,\n                    onChange: event => this.onChangeInput(event, \"email\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"password\",\n                    className: \"form-label\",\n                    children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                      id: \"manage-user.password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    className: \"form-control\",\n                    id: \"password\",\n                    placeholder: \"Password\",\n                    value: password,\n                    onChange: event => this.onChangeInput(event, \"password\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"firstName\",\n                    className: \"form-label\",\n                    children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                      id: \"manage-user.firstname\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 187,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    id: \"firstName\",\n                    placeholder: \"Firstname\",\n                    value: firstName,\n                    onChange: event => this.onChangeInput(event, \"firstName\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"lastName\",\n                    className: \"form-label\",\n                    children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                      id: \"manage-user.lastname\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    id: \"lastName\",\n                    placeholder: \"Lastname\",\n                    value: lastName,\n                    onChange: event => this.onChangeInput(event, \"lastName\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"phonenumber\",\n                    className: \"form-label\",\n                    children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                      id: \"manage-user.phonenumber\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    id: \"phonenumber\",\n                    placeholder: \"Phonenumber\",\n                    value: phoneNumber,\n                    onChange: event => this.onChangeInput(event, \"phoneNumber\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-9\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"address\",\n                    className: \"form-label\",\n                    children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                      id: \"manage-user.address\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    id: \"address\",\n                    placeholder: \"1234 Main St\",\n                    value: address,\n                    onChange: event => this.onChangeInput(event, \"address\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"gender\",\n                    className: \"form-label\",\n                    children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                      id: \"manage-user.gender\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 275,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"inputState\",\n                    className: \"form-control\",\n                    onChange: event => this.onChangeInput(event, \"gender\"),\n                    children: genders && genders.length > 0 && genders.map((item, index) => {\n                      return /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: item.key,\n                        children: language === languages.VI ? item.valueVi : item.valueEn\n                      }, index, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 57\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"position\",\n                    className: \"form-label\",\n                    children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                      id: \"manage-user.position\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"inputState\",\n                    className: \"form-control\",\n                    onChange: event => this.onChangeInput(event, \"position\"),\n                    children: positions && positions.length > 0 && positions.map((item, index) => {\n                      return /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: item.key,\n                        children: language === languages.VI ? item.valueVi : item.valueEn\n                      }, index, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 57\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"role\",\n                    className: \"form-label\",\n                    children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                      id: \"manage-user.role\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 345,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"inputState\",\n                    className: \"form-control\",\n                    onChange: event => this.onChangeInput(event, \"role\"),\n                    children: roles && roles.length > 0 && roles.map((item, index) => {\n                      return /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: item.key,\n                        children: language === languages.VI ? item.valueVi : item.valueEn\n                      }, index, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 361,\n                        columnNumber: 57\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"avatar\",\n                    className: \"form-label\",\n                    children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                      id: \"manage-user.avatar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      id: \"previewImg\",\n                      type: \"file\",\n                      hidden: true,\n                      onChange: event => this.handleOnchangeImage(event, \"avatar\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 382,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-primary\",\n                      onClick: this.triggerFileInput,\n                      children: [\"T\\u1EA3i \\u1EA3nh\", /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-upload\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 398,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: () => this.openPreviewImage(),\n                      className: \"preview-image\",\n                      style: {\n                        backgroundImage: `url(${this.state.previewImgURL})`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 400,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-primary\",\n                onClick: () => this.handleOnSubmit(),\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"manage-user.submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), this.state.isOpen === true && /*#__PURE__*/_jsxDEV(Lightbox, {\n        mainSrc: this.state.previewImgURL,\n        onCloseRequest: () => this.setState({\n          isOpen: false\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    language: state.app.language,\n    genderRedux: state.admin.genders,\n    isLoading: state.admin.isLoading,\n    positionRedux: state.admin.positions,\n    roleRedux: state.admin.roles\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getGenderStart: () => dispatch(actions.fetchGenderStart()),\n    getPositionStart: () => dispatch(actions.fetchPositionStart()),\n    getRoleStart: () => dispatch(actions.fetchRoleStart()) // processLogout: () => dispatch(actions.processLogout()),\n    // changeLanguageAppRedux: (language) =>\n    //     dispatch(actions.changeLanguageApp(language)),\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserRedux);","map":{"version":3,"sources":["C:/Users/Trant/Documents/Lập Trình Web/5.font-end-react-fullstack/React/src/containers/System/UserRedux.js"],"names":["React","Component","FormattedMessage","connect","languages","actions","Lightbox","UserRedux","constructor","props","triggerFileInput","document","getElementById","click","openPreviewImage","state","previewImgURL","setState","isOpen","handleOnSubmit","console","log","onChangeInput","event","id","copyState","target","value","genderArr","positionArr","roleArr","email","password","firstName","lastName","address","phoneNumber","gender","role","position","avatar","componentDidMount","getGenderStart","getPositionStart","getRoleStart","componentDidUpdate","prevProps","prevState","snapshot","genderRedux","arrGender","length","key","positionRedux","arrPosition","roleRedux","arrRole","handleOnchangeImage","data","files","file","objectUrl","URL","createObjectURL","render","genders","language","isLoading","positions","roles","map","item","index","VI","valueVi","valueEn","backgroundImage","mapStateToProps","app","admin","mapDispatchToProps","dispatch","fetchGenderStart","fetchPositionStart","fetchRoleStart"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { connect } from \"react-redux\";\r\nimport { languages } from \"../../utils/constant\";\r\nimport \"./UserRedux.scss\";\r\nimport * as actions from \"../../../src/store/actions\";\r\nimport Lightbox from \"react-image-lightbox\";\r\nimport \"react-image-lightbox/style.css\";\r\nclass UserRedux extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            genderArr: [],\r\n            positionArr: [],\r\n            roleArr: [],\r\n            previewImgURL: \"\",\r\n            isOpen: false,\r\n            email: \"\",\r\n            password: \"\",\r\n            firstName: \"\",\r\n            lastName: \"\",\r\n            address: \"\",\r\n            phoneNumber: \"\",\r\n            gender: \"\",\r\n            role: \"\",\r\n            position: \"\",\r\n            avatar: \"\",\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.props.getGenderStart();\r\n        this.props.getPositionStart();\r\n        this.props.getRoleStart();\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.genderRedux !== this.props.genderRedux) {\r\n            let arrGender = this.props.genderRedux;\r\n            this.setState({ \r\n                genderArr: arrGender,\r\n                gender: arrGender && arrGender.length > 0 ? arrGender[0].key : \"\",\r\n            });\r\n        }\r\n        \r\n        if (prevProps.positionRedux !== this.props.positionRedux) {\r\n            let arrPosition = this.props.positionRedux;\r\n            this.setState({ \r\n                positionArr: arrPosition,\r\n                position: arrPosition && arrPosition.length > 0 ? arrPosition[0].key : \"\",\r\n            });\r\n        }\r\n        \r\n        if (prevProps.roleRedux !== this.props.roleRedux) {\r\n            let arrRole = this.props.roleRedux;\r\n            this.setState({\r\n                roleArr: arrRole,\r\n                role: arrRole && arrRole.length > 0 ? arrRole[0].key : \"\",\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    handleOnchangeImage(event) {\r\n        let data = event.target.files;\r\n        let file = data[0];\r\n        if (file) {\r\n            let objectUrl = URL.createObjectURL(file);\r\n            this.setState({\r\n                previewImgURL: objectUrl,\r\n                avatar: file,\r\n            });\r\n        }\r\n    }\r\n\r\n    triggerFileInput = () => {\r\n        document.getElementById(\"previewImg\").click();\r\n    };\r\n\r\n    openPreviewImage = () => {\r\n        if (!this.state.previewImgURL) return;\r\n        this.setState({ isOpen: true });\r\n    };\r\n\r\n    handleOnSubmit = () => {\r\n        console.log('check', this.state)\r\n    };\r\n\r\n\r\n    \r\n    onChangeInput = (event, id) => {\r\n        let copyState = { ...this.state };\r\n        copyState[id] = event.target.value;\r\n        this.setState(\r\n            {\r\n                ...copyState,\r\n            },\r\n            // () => {\r\n            //     console.log(\"anhtonton\", this.state);\r\n            // }\r\n        );\r\n    };\r\n    render() {\r\n        let genders = this.state.genderArr;\r\n        let language = this.props.language;\r\n        let isLoading = this.props.isLoading;\r\n        let positions = this.state.positionArr;\r\n        let roles = this.state.roleArr;\r\n\r\n        let {\r\n            email,\r\n            password,\r\n            firstName,\r\n            lastName,\r\n            address,\r\n            phoneNumber,\r\n            gender,\r\n            role,\r\n            position,\r\n            avatar,\r\n        } = this.state;\r\n        return (\r\n            <div className=\"manage-user\">\r\n                <div className=\"title\">\r\n                    <FormattedMessage id=\"manage-user.title\" />\r\n                </div>\r\n                <div className=\"user-redux-body\">\r\n                    <div className=\"container\">\r\n                        <div className=\"text-center\">\r\n                            {isLoading === true ? \"Loading infomation\" : \"\"}\r\n                        </div>\r\n\r\n                        <div className=\"row\">\r\n                            <div className=\"mb-3\">\r\n                                <FormattedMessage id=\"manage-user.add-new-user\" />\r\n                            </div>\r\n                            <form > \r\n                                <div className=\"row mb-3\">\r\n                                    <div className=\"col-md-3\">\r\n                                        <label\r\n                                            htmlFor=\"email\"\r\n                                            className=\"form-label\"\r\n                                        >\r\n                                            <FormattedMessage id=\"manage-user.email\" />\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"email\"\r\n                                            className=\"form-control\"\r\n                                            id=\"email\"\r\n                                            placeholder=\"Email\"\r\n                                            value={email}\r\n                                            onChange={(event) =>\r\n                                                this.onChangeInput(\r\n                                                    event,\r\n                                                    \"email\"\r\n                                                )\r\n                                            }\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"col-md-3\">\r\n                                        <label\r\n                                            htmlFor=\"password\"\r\n                                            className=\"form-label\"\r\n                                        >\r\n                                            <FormattedMessage id=\"manage-user.password\" />\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"password\"\r\n                                            className=\"form-control\"\r\n                                            id=\"password\"\r\n                                            placeholder=\"Password\"\r\n                                            value={password}\r\n                                            onChange={(event) =>\r\n                                                this.onChangeInput(\r\n                                                    event,\r\n                                                    \"password\"\r\n                                                )\r\n                                            }\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"col-md-3\">\r\n                                        <label\r\n                                            htmlFor=\"firstName\"\r\n                                            className=\"form-label\"\r\n                                        >\r\n                                            <FormattedMessage id=\"manage-user.firstname\" />\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"firstName\"\r\n                                            placeholder=\"Firstname\"\r\n                                            value={firstName}\r\n                                            onChange={(event) =>\r\n                                                this.onChangeInput(\r\n                                                    event,\r\n                                                    \"firstName\"\r\n                                                )\r\n                                            }\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"col-md-3\">\r\n                                        <label\r\n                                            htmlFor=\"lastName\"\r\n                                            className=\"form-label\"\r\n                                        >\r\n                                            <FormattedMessage id=\"manage-user.lastname\" />\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"lastName\"\r\n                                            placeholder=\"Lastname\"\r\n                                            value={lastName}\r\n                                            onChange={(event) =>\r\n                                                this.onChangeInput(\r\n                                                    event,\r\n                                                    \"lastName\"\r\n                                                )\r\n                                            }\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row mb-3\">\r\n                                    <div className=\"col-md-3\">\r\n                                        <label\r\n                                            htmlFor=\"phonenumber\"\r\n                                            className=\"form-label\"\r\n                                        >\r\n                                            <FormattedMessage id=\"manage-user.phonenumber\" />\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"phonenumber\"\r\n                                            placeholder=\"Phonenumber\"\r\n                                            value={phoneNumber}\r\n                                            onChange={(event) =>\r\n                                                this.onChangeInput(\r\n                                                    event,\r\n                                                    \"phoneNumber\"\r\n                                                )\r\n                                            }\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"col-md-9\">\r\n                                        <label\r\n                                            htmlFor=\"address\"\r\n                                            className=\"form-label\"\r\n                                        >\r\n                                            <FormattedMessage id=\"manage-user.address\" />\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            id=\"address\"\r\n                                            placeholder=\"1234 Main St\"\r\n                                            value={address}\r\n                                            onChange={(event) =>\r\n                                                this.onChangeInput(\r\n                                                    event,\r\n                                                    \"address\"\r\n                                                )\r\n                                            }\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row mb-3\">\r\n                                    <div className=\"col-md-3\">\r\n                                        <label\r\n                                            htmlFor=\"gender\"\r\n                                            className=\"form-label\"\r\n                                        >\r\n                                            <FormattedMessage id=\"manage-user.gender\" />\r\n                                        </label>\r\n                                        <select\r\n                                            id=\"inputState\"\r\n                                            className=\"form-control\"\r\n                                            onChange={(event) =>\r\n                                                this.onChangeInput(\r\n                                                    event,\r\n                                                    \"gender\"\r\n                                                )\r\n                                            }\r\n                                        >\r\n                                            {genders &&\r\n                                                genders.length > 0 &&\r\n                                                genders.map((item, index) => {\r\n                                                    return (\r\n                                                        <option\r\n                                                            key={index}\r\n                                                            value={item.key}\r\n                                                        >\r\n                                                            {language ===\r\n                                                            languages.VI\r\n                                                                ? item.valueVi\r\n                                                                : item.valueEn}\r\n                                                        </option>\r\n                                                    );\r\n                                                })}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-md-3\">\r\n                                        <label\r\n                                            htmlFor=\"position\"\r\n                                            className=\"form-label\"\r\n                                        >\r\n                                            <FormattedMessage id=\"manage-user.position\" />\r\n                                        </label>\r\n                                        <select\r\n                                            id=\"inputState\"\r\n                                            className=\"form-control\"\r\n                                            onChange={(event) =>\r\n                                                this.onChangeInput(\r\n                                                    event,\r\n                                                    \"position\"\r\n                                                )\r\n                                            }\r\n                                        >\r\n                                            {positions &&\r\n                                                positions.length > 0 &&\r\n                                                positions.map((item, index) => {\r\n                                                    return (\r\n                                                        <option\r\n                                                            key={index}\r\n                                                            value={item.key}\r\n                                                        >\r\n                                                            {language ===\r\n                                                            languages.VI\r\n                                                                ? item.valueVi\r\n                                                                : item.valueEn}\r\n                                                        </option>\r\n                                                    );\r\n                                                })}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-md-3\">\r\n                                        <label\r\n                                            htmlFor=\"role\"\r\n                                            className=\"form-label\"\r\n                                        >\r\n                                            <FormattedMessage id=\"manage-user.role\" />\r\n                                        </label>\r\n                                        <select\r\n                                            id=\"inputState\"\r\n                                            className=\"form-control\"\r\n                                            onChange={(event) =>\r\n                                                this.onChangeInput(\r\n                                                    event,\r\n                                                    \"role\"\r\n                                                )\r\n                                            }\r\n                                        >\r\n                                            {roles &&\r\n                                                roles.length > 0 &&\r\n                                                roles.map((item, index) => {\r\n                                                    return (\r\n                                                        <option\r\n                                                            key={index}\r\n                                                            value={item.key}\r\n                                                        >\r\n                                                            {language ===\r\n                                                            languages.VI\r\n                                                                ? item.valueVi\r\n                                                                : item.valueEn}\r\n                                                        </option>\r\n                                                    );\r\n                                                })}\r\n                                        </select>\r\n                                    </div>\r\n                                    <div className=\"col-md-3\">\r\n                                        <label\r\n                                            htmlFor=\"avatar\"\r\n                                            className=\"form-label\"\r\n                                        >\r\n                                            <FormattedMessage id=\"manage-user.avatar\" />\r\n                                        </label>\r\n                                        <div>\r\n                                            <input\r\n                                                id=\"previewImg\"\r\n                                                type=\"file\"\r\n                                                hidden\r\n                                                onChange={(event) =>\r\n                                                    this.handleOnchangeImage(\r\n                                                        event, \"avatar\"\r\n                                                    )\r\n                                                }\r\n                                            />\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn btn-primary\"\r\n                                                onClick={this.triggerFileInput}\r\n                                            >\r\n                                                Tải ảnh\r\n                                                <i className=\"fas fa-upload\"></i>\r\n                                            </button>\r\n                                            <div\r\n                                                onClick={() =>\r\n                                                    this.openPreviewImage()\r\n                                                }\r\n                                                className=\"preview-image\"\r\n                                                style={{\r\n                                                    backgroundImage: `url(${this.state.previewImgURL})`,\r\n                                                }}\r\n                                            ></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-primary\"\r\n                                    onClick={() => this.handleOnSubmit()}\r\n                                >\r\n                                    <FormattedMessage id=\"manage-user.submit\" />\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {this.state.isOpen === true && (\r\n                    <Lightbox\r\n                        mainSrc={this.state.previewImgURL}\r\n                        onCloseRequest={() =>\r\n                            this.setState({\r\n                                isOpen: false,\r\n                            })\r\n                        }\r\n                    />\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        language: state.app.language,\r\n        genderRedux: state.admin.genders,\r\n        isLoading: state.admin.isLoading,\r\n        positionRedux: state.admin.positions,\r\n        roleRedux: state.admin.roles,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getGenderStart: () => dispatch(actions.fetchGenderStart()),\r\n        getPositionStart: () => dispatch(actions.fetchPositionStart()),\r\n        getRoleStart: () => dispatch(actions.fetchRoleStart()),\r\n        // processLogout: () => dispatch(actions.processLogout()),\r\n        // changeLanguageAppRedux: (language) =>\r\n        //     dispatch(actions.changeLanguageApp(language)),\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserRedux);\r\n"]},"metadata":{},"sourceType":"module"}