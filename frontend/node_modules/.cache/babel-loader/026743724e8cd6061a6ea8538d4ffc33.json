{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Trant\\\\Documents\\\\L\\u1EADp Tr\\xECnh Web\\\\CTES WEB\\\\React - Copy\\\\src\\\\containers\\\\Auth\\\\Forgot_Password.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { push } from \"connected-react-router\";\nimport * as actions from \"../../store/actions\";\nimport \"./Forgot_Password.scss\";\nimport { Link } from \"react-router-dom\";\nimport { Form, Button, Container, Row, Col, InputGroup, Spinner, Alert } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faFacebookF, faTwitter, faGoogle, faGithub } from \"@fortawesome/free-brands-svg-icons\";\nimport { faEnvelope, faLock, faEye, faEyeSlash, faExclamationTriangle, faLeaf, faKey, faArrowLeft, faShieldAlt, faCheck } from \"@fortawesome/free-solid-svg-icons\";\nimport axios from \"axios\";\nimport logoImg from \"../../assets/images/logos/logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nim;\nclass ForgotPassword extends Component {\n  constructor(props) {\n    super(props);\n    this.handleInputChange = (event, fieldName) => {\n      this.setState({\n        [fieldName]: event.target.value,\n        errMessage: \"\"\n      });\n    };\n    this.togglePasswordVisibility = field => {\n      if (field === \"password\") {\n        this.setState({\n          showPassword: !this.state.showPassword\n        });\n      } else {\n        this.setState({\n          showConfirmPassword: !this.state.showConfirmPassword\n        });\n      }\n    };\n    this.startOtpTimer = () => {\n      this.setState({\n        otpTimer: 60\n      });\n      if (this.timerInterval) clearInterval(this.timerInterval);\n      this.timerInterval = setInterval(() => {\n        this.setState(prevState => ({\n          otpTimer: prevState.otpTimer - 1\n        }), () => {\n          if (this.state.otpTimer <= 0 && this.timerInterval) {\n            clearInterval(this.timerInterval);\n          }\n        });\n      }, 1000);\n    };\n    this.handleRequestOTP = async () => {\n      const {\n        email\n      } = this.state;\n\n      // Kiểm tra email\n      if (!email) {\n        this.setState({\n          errMessage: \"Vui lòng nhập địa chỉ email của bạn\"\n        });\n        return;\n      }\n\n      // Kiểm tra định dạng email đơn giản\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (!emailRegex.test(email)) {\n        this.setState({\n          errMessage: \"Địa chỉ email không hợp lệ\"\n        });\n        return;\n      }\n      this.setState({\n        isLoading: true,\n        errMessage: \"\",\n        successMessage: \"\"\n      });\n      try {\n        // Gọi API để yêu cầu mã OTP\n        const response = await axios.post(\"/api/forgot-password/request\", {\n          email\n        });\n        if (response.data.errCode === 0) {\n          this.setState({\n            isLoading: false,\n            currentStep: 2,\n            successMessage: response.data.errMessage || \"Mã xác nhận đã được gửi đến email của bạn\"\n          });\n          this.startOtpTimer();\n        } else {\n          this.setState({\n            isLoading: false,\n            errMessage: response.data.errMessage || \"Có lỗi xảy ra khi gửi yêu cầu\"\n          });\n        }\n      } catch (error) {\n        var _error$response, _error$response$data;\n        this.setState({\n          isLoading: false,\n          errMessage: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.errMessage) || \"Không thể gửi mã xác nhận. Vui lòng thử lại sau.\"\n        });\n      }\n    };\n    this.handleVerifyOTP = async () => {\n      const {\n        email,\n        otp\n      } = this.state;\n      if (!otp) {\n        this.setState({\n          errMessage: \"Vui lòng nhập mã xác nhận\"\n        });\n        return;\n      }\n      this.setState({\n        isLoading: true,\n        errMessage: \"\",\n        successMessage: \"\"\n      });\n      try {\n        // Gọi API để xác minh OTP\n        const response = await axios.post(\"/api/forgot-password/verify-otp\", {\n          email,\n          otp\n        });\n        if (response.data.errCode === 0) {\n          this.setState({\n            isLoading: false,\n            currentStep: 3,\n            resetToken: response.data.resetToken,\n            successMessage: response.data.errMessage || \"Xác thực OTP thành công. Vui lòng tạo mật khẩu mới.\"\n          });\n        } else {\n          this.setState({\n            isLoading: false,\n            errMessage: response.data.errMessage || \"Có lỗi xảy ra khi xác thực mã OTP\"\n          });\n        }\n      } catch (error) {\n        var _error$response2, _error$response2$data;\n        this.setState({\n          isLoading: false,\n          errMessage: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.errMessage) || \"Mã xác nhận không chính xác hoặc đã hết hạn\"\n        });\n      }\n    };\n    this.handleResetPassword = async () => {\n      const {\n        email,\n        resetToken,\n        newPassword,\n        confirmPassword\n      } = this.state;\n\n      // Kiểm tra mật khẩu\n      if (!newPassword) {\n        this.setState({\n          errMessage: \"Vui lòng nhập mật khẩu mới\"\n        });\n        return;\n      }\n      if (newPassword.length < 6) {\n        this.setState({\n          errMessage: \"Mật khẩu phải có ít nhất 6 ký tự\"\n        });\n        return;\n      }\n      if (newPassword !== confirmPassword) {\n        this.setState({\n          errMessage: \"Mật khẩu xác nhận không khớp\"\n        });\n        return;\n      }\n      this.setState({\n        isLoading: true,\n        errMessage: \"\",\n        successMessage: \"\"\n      });\n      try {\n        // Gọi API để đặt lại mật khẩu\n        const response = await axios.post(\"/api/forgot-password/reset\", {\n          email,\n          resetToken,\n          newPassword\n        });\n        if (response.data.errCode === 0) {\n          this.setState({\n            isLoading: false,\n            successMessage: response.data.errMessage || \"Đặt lại mật khẩu thành công! Bạn có thể đăng nhập ngay bây giờ.\"\n          });\n\n          // Chuyển hướng đến trang đăng nhập sau 3 giây\n          setTimeout(() => {\n            this.props.navigate(\"/login\");\n          }, 3000);\n        } else {\n          this.setState({\n            isLoading: false,\n            errMessage: response.data.errMessage || \"Có lỗi xảy ra khi đặt lại mật khẩu\"\n          });\n        }\n      } catch (error) {\n        var _error$response3, _error$response3$data;\n        this.setState({\n          isLoading: false,\n          errMessage: ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.errMessage) || \"Không thể đặt lại mật khẩu. Vui lòng thử lại.\"\n        });\n      }\n    };\n    this.handleResendOTP = async () => {\n      const {\n        email\n      } = this.state;\n      this.setState({\n        isLoading: true,\n        errMessage: \"\",\n        successMessage: \"\"\n      });\n      try {\n        // Gọi API để yêu cầu mã OTP mới\n        const response = await axios.post(\"/api/forgot-password/request\", {\n          email\n        });\n        if (response.data.errCode === 0) {\n          this.setState({\n            isLoading: false,\n            successMessage: \"Mã xác nhận mới đã được gửi đến email của bạn\"\n          });\n          this.startOtpTimer();\n        } else {\n          this.setState({\n            isLoading: false,\n            errMessage: response.data.errMessage || \"Có lỗi xảy ra khi gửi lại mã xác nhận\"\n          });\n        }\n      } catch (error) {\n        var _error$response4, _error$response4$data;\n        this.setState({\n          isLoading: false,\n          errMessage: ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.errMessage) || \"Không thể gửi lại mã xác nhận\"\n        });\n      }\n    };\n    this.handleBack = () => {\n      this.setState(prevState => ({\n        currentStep: prevState.currentStep - 1,\n        errMessage: \"\",\n        successMessage: \"\"\n      }));\n    };\n    this.state = {\n      email: \"\",\n      otp: \"\",\n      newPassword: \"\",\n      confirmPassword: \"\",\n      resetToken: \"\",\n      showPassword: false,\n      showConfirmPassword: false,\n      errMessage: \"\",\n      successMessage: \"\",\n      isLoading: false,\n      currentStep: 1,\n      // 1: Nhập email, 2: Nhập OTP, 3: Đặt lại mật khẩu\n      otpTimer: 0\n    };\n    this.timerInterval = null;\n  }\n  componentWillUnmount() {\n    if (this.timerInterval) {\n      clearInterval(this.timerInterval);\n    }\n  }\n\n  // Bước 1: Gửi email để lấy mã OTP\n\n  // Bước 2: Xác minh mã OTP\n\n  // Bước 3: Đặt lại mật khẩu\n\n  // Xử lý khi nhấn \"Gửi lại\" mã OTP\n\n  // Quay lại bước trước\n\n  render() {\n    const {\n      email,\n      otp,\n      newPassword,\n      confirmPassword,\n      showPassword,\n      showConfirmPassword,\n      errMessage,\n      successMessage,\n      isLoading,\n      currentStep,\n      otpTimer\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"forgot-password-page d-flex align-items-center min-vh-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-bg-shape\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-wave\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-center g-0\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            lg: 12,\n            className: \"shadow-lg rounded-3 overflow-hidden\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              className: \"g-0 h-100\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                lg: 6,\n                className: \"d-none d-lg-block p-0\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"login-welcome h-100 d-flex flex-column justify-content-center p-5 text-white\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: logoImg,\n                      alt: \"CTES Logo\",\n                      className: \"login-logo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 266,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"welcome-heading\",\n                    children: \"Qu\\xEAn m\\u1EADt kh\\u1EA9u?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"welcome-text opacity-75\",\n                    children: \"\\u0110\\u1EEBng lo l\\u1EAFng! Ch\\xFAng t\\xF4i s\\u1EBD gi\\xFAp b\\u1EA1n kh\\xF4i ph\\u1EE5c t\\xE0i kho\\u1EA3n. Ch\\u1EC9 c\\u1EA7n l\\xE0m theo c\\xE1c b\\u01B0\\u1EDBc \\u0111\\u01A1n gi\\u1EA3n.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-4 welcome-features\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"feature-item mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"feature-icon\",\n                        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                          icon: faEnvelope\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 273,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 272,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Nh\\u1EADp email c\\u1EE7a b\\u1EA1n\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 275,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"feature-item mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"feature-icon\",\n                        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                          icon: faShieldAlt\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 279,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 278,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"X\\xE1c minh b\\u1EB1ng m\\xE3 OTP\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 281,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"feature-item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"feature-icon\",\n                        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                          icon: faKey\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 285,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 284,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"T\\u1EA1o m\\u1EADt kh\\u1EA9u m\\u1EDBi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 287,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                lg: 6,\n                className: \"bg-white p-0\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"forgot-password-container p-4 p-md-5 h-100 d-flex flex-column justify-content-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center mb-4 d-lg-none\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: logoImg,\n                      alt: \"CTES Logo\",\n                      className: \"login-logo-mobile mb-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"card-title fw-bold text-center mb-4\",\n                    children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                      icon: faKey,\n                      className: \"me-2 text-primary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 45\n                    }, this), currentStep === 1 && \"Quên mật khẩu\", currentStep === 2 && \"Xác minh OTP\", currentStep === 3 && \"Tạo mật khẩu mới\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 41\n                  }, this), errMessage && /*#__PURE__*/_jsxDEV(Alert, {\n                    variant: \"danger\",\n                    className: \"d-flex align-items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                      icon: faExclamationTriangle,\n                      className: \"me-2 flex-shrink-0\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: errMessage\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 45\n                  }, this), successMessage && /*#__PURE__*/_jsxDEV(Alert, {\n                    variant: \"success\",\n                    className: \"d-flex align-items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                      icon: faCheck,\n                      className: \"me-2 flex-shrink-0\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: successMessage\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"progress-steps mb-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `step ${currentStep >= 1 ? \"active\" : \"\"}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"step-icon\",\n                        children: \"1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"step-label\",\n                        children: \"Email\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 327,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `step ${currentStep >= 2 ? \"active\" : \"\"}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"step-icon\",\n                        children: \"2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 330,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"step-label\",\n                        children: \"OTP\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 331,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 329,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `step ${currentStep >= 3 ? \"active\" : \"\"}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"step-icon\",\n                        children: \"3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"step-label\",\n                        children: \"M\\u1EADt kh\\u1EA9u m\\u1EDBi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 335,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Form, {\n                    className: \"forgot-password-form\",\n                    children: [currentStep === 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-muted mb-4\",\n                        children: \"Vui l\\xF2ng nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9 email \\u0111\\xE3 \\u0111\\u0103ng k\\xFD. Ch\\xFAng t\\xF4i s\\u1EBD g\\u1EEDi m\\xE3 x\\xE1c nh\\u1EADn \\u0111\\u1EC3 \\u0111\\u1EB7t l\\u1EA1i m\\u1EADt kh\\u1EA9u.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 343,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                        className: \"mb-4\",\n                        controlId: \"formEmail\",\n                        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                          className: \"fw-semibold\",\n                          children: \"Email \\u0111\\u0103ng k\\xFD\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 346,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                          children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                            className: \"bg-light border-end-0\",\n                            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                              icon: faEnvelope,\n                              className: \"text-primary\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 349,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 348,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                            type: \"email\",\n                            placeholder: \"Nh\\u1EADp email c\\u1EE7a b\\u1EA1n\",\n                            value: email,\n                            onChange: e => this.handleInputChange(e, \"email\"),\n                            className: \"py-2 border-start-0\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 351,\n                            columnNumber: 61\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 347,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"primary\",\n                        className: \"login-btn w-100 py-2 mb-4 d-flex align-items-center justify-content-center\",\n                        onClick: this.handleRequestOTP,\n                        disabled: isLoading,\n                        children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                            as: \"span\",\n                            animation: \"border\",\n                            size: \"sm\",\n                            role: \"status\",\n                            \"aria-hidden\": \"true\",\n                            className: \"me-2\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 369,\n                            columnNumber: 65\n                          }, this), \"\\u0110ang x\\u1EED l\\xFD...\"]\n                        }, void 0, true) : \"Gửi mã xác nhận\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 361,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true), currentStep === 2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-muted mb-4\",\n                        children: [\"M\\xE3 x\\xE1c nh\\u1EADn \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c g\\u1EEDi \\u0111\\u1EBFn email \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: email\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 383,\n                          columnNumber: 91\n                        }, this), \". Vui l\\xF2ng nh\\u1EADp m\\xE3 \\u0111\\u1EC3 ti\\u1EBFp t\\u1EE5c.\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 382,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                        className: \"mb-4\",\n                        controlId: \"formOTP\",\n                        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                          className: \"fw-semibold\",\n                          children: \"M\\xE3 x\\xE1c nh\\u1EADn\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 387,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                          children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                            className: \"bg-light border-end-0\",\n                            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                              icon: faShieldAlt,\n                              className: \"text-primary\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 390,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 389,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                            type: \"text\",\n                            placeholder: \"Nh\\u1EADp m\\xE3 x\\xE1c nh\\u1EADn\",\n                            value: otp,\n                            onChange: e => this.handleInputChange(e, \"otp\"),\n                            className: \"py-2 border-start-0\",\n                            maxLength: 6\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 392,\n                            columnNumber: 61\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 388,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 386,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"d-flex justify-content-between mb-4\",\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outline-secondary\",\n                          className: \"px-3\",\n                          onClick: this.handleBack,\n                          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                            icon: faArrowLeft,\n                            className: \"me-2\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 405,\n                            columnNumber: 61\n                          }, this), \"Quay l\\u1EA1i\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 404,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"primary\",\n                          className: \"px-4\",\n                          onClick: this.handleVerifyOTP,\n                          disabled: isLoading,\n                          children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                              as: \"span\",\n                              animation: \"border\",\n                              size: \"sm\",\n                              role: \"status\",\n                              \"aria-hidden\": \"true\",\n                              className: \"me-2\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 412,\n                              columnNumber: 69\n                            }, this), \"\\u0110ang x\\u1EED l\\xFD...\"]\n                          }, void 0, true) : \"Xác nhận\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 409,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 403,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"mb-0 small\",\n                          children: [\"Kh\\xF4ng nh\\u1EADn \\u0111\\u01B0\\u1EE3c m\\xE3?\", otpTimer > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-muted ms-1\",\n                            children: [\"G\\u1EEDi l\\u1EA1i sau \", otpTimer, \"s\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 425,\n                            columnNumber: 65\n                          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                            variant: \"link\",\n                            className: \"p-0 ms-1 text-decoration-none\",\n                            onClick: this.handleResendOTP,\n                            disabled: isLoading,\n                            children: \"G\\u1EEDi l\\u1EA1i\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 427,\n                            columnNumber: 65\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 422,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 421,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true), currentStep === 3 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-muted mb-4\",\n                        children: \"Vui l\\xF2ng t\\u1EA1o m\\u1EADt kh\\u1EA9u m\\u1EDBi cho t\\xE0i kho\\u1EA3n c\\u1EE7a b\\u1EA1n.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 444,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                        className: \"mb-4\",\n                        controlId: \"formNewPassword\",\n                        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                          className: \"fw-semibold\",\n                          children: \"M\\u1EADt kh\\u1EA9u m\\u1EDBi\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 447,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                          children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                            className: \"bg-light border-end-0\",\n                            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                              icon: faLock,\n                              className: \"text-primary\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 450,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 449,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                            type: showPassword ? \"text\" : \"password\",\n                            placeholder: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u m\\u1EDBi\",\n                            value: newPassword,\n                            onChange: e => this.handleInputChange(e, \"newPassword\"),\n                            className: \"py-2 border-start-0 border-end-0\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 452,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(Button, {\n                            variant: \"light\",\n                            onClick: () => this.togglePasswordVisibility(\"password\"),\n                            className: \"border border-start-0\",\n                            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                              icon: showPassword ? faEyeSlash : faEye,\n                              className: \"text-secondary\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 460,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 459,\n                            columnNumber: 61\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 448,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 446,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                        className: \"mb-4\",\n                        controlId: \"formConfirmPassword\",\n                        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                          className: \"fw-semibold\",\n                          children: \"X\\xE1c nh\\u1EADn m\\u1EADt kh\\u1EA9u\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 466,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                          children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                            className: \"bg-light border-end-0\",\n                            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                              icon: faLock,\n                              className: \"text-primary\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 469,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 468,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                            type: showConfirmPassword ? \"text\" : \"password\",\n                            placeholder: \"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u m\\u1EDBi\",\n                            value: confirmPassword,\n                            onChange: e => this.handleInputChange(e, \"confirmPassword\"),\n                            className: \"py-2 border-start-0 border-end-0\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 471,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(Button, {\n                            variant: \"light\",\n                            onClick: () => this.togglePasswordVisibility(\"confirm\"),\n                            className: \"border border-start-0\",\n                            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                              icon: showConfirmPassword ? faEyeSlash : faEye,\n                              className: \"text-secondary\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 479,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 478,\n                            columnNumber: 61\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 467,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 465,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"d-flex justify-content-between mb-4\",\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outline-secondary\",\n                          className: \"px-3\",\n                          onClick: this.handleBack,\n                          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                            icon: faArrowLeft,\n                            className: \"me-2\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 486,\n                            columnNumber: 61\n                          }, this), \"Quay l\\u1EA1i\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 485,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"primary\",\n                          className: \"px-4\",\n                          onClick: this.handleResetPassword,\n                          disabled: isLoading,\n                          children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                              as: \"span\",\n                              animation: \"border\",\n                              size: \"sm\",\n                              role: \"status\",\n                              \"aria-hidden\": \"true\",\n                              className: \"me-2\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 493,\n                              columnNumber: 69\n                            }, this), \"\\u0110ang x\\u1EED l\\xFD...\"]\n                          }, void 0, true) : \"Hoàn tất\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 490,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 484,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center mt-3\",\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: \"/login\",\n                        className: \"text-decoration-none\",\n                        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                          icon: faArrowLeft,\n                          className: \"me-2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 506,\n                          columnNumber: 53\n                        }, this), \"Tr\\u1EDF v\\u1EC1 trang \\u0111\\u0103ng nh\\u1EADp\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 505,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 504,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }, this);\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    language: state.app.language\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    navigate: path => dispatch(push(path))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ForgotPassword);","map":{"version":3,"names":["React","Component","connect","push","actions","Link","Form","Button","Container","Row","Col","InputGroup","Spinner","Alert","FontAwesomeIcon","faFacebookF","faTwitter","faGoogle","faGithub","faEnvelope","faLock","faEye","faEyeSlash","faExclamationTriangle","faLeaf","faKey","faArrowLeft","faShieldAlt","faCheck","axios","logoImg","jsxDEV","_jsxDEV","Fragment","_Fragment","im","ForgotPassword","constructor","props","handleInputChange","event","fieldName","setState","target","value","errMessage","togglePasswordVisibility","field","showPassword","state","showConfirmPassword","startOtpTimer","otpTimer","timerInterval","clearInterval","setInterval","prevState","handleRequestOTP","email","emailRegex","test","isLoading","successMessage","response","post","data","errCode","currentStep","error","_error$response","_error$response$data","handleVerifyOTP","otp","resetToken","_error$response2","_error$response2$data","handleResetPassword","newPassword","confirmPassword","length","setTimeout","navigate","_error$response3","_error$response3$data","handleResendOTP","_error$response4","_error$response4$data","handleBack","componentWillUnmount","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","lg","src","alt","icon","variant","Group","controlId","Label","Text","Control","type","placeholder","onChange","e","onClick","disabled","as","animation","size","role","maxLength","to","mapStateToProps","language","app","mapDispatchToProps","dispatch","path"],"sources":["C:/Users/Trant/Documents/Lập Trình Web/CTES WEB/React - Copy/src/containers/Auth/Forgot_Password.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { push } from \"connected-react-router\";\r\nimport * as actions from \"../../store/actions\";\r\nimport \"./Forgot_Password.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Form, Button, Container, Row, Col, InputGroup, Spinner, Alert } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faFacebookF, faTwitter, faGoogle, faGithub } from \"@fortawesome/free-brands-svg-icons\";\r\nimport { faEnvelope, faLock, faEye, faEyeSlash, faExclamationTriangle, faLeaf, faKey, faArrowLeft, faShieldAlt, faCheck } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport axios from \"axios\";\r\nimport logoImg from \"../../assets/images/logos/logo.png\";\r\nim\r\n\r\nclass ForgotPassword extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: \"\",\r\n            otp: \"\",\r\n            newPassword: \"\",\r\n            confirmPassword: \"\",\r\n            resetToken: \"\",\r\n            showPassword: false,\r\n            showConfirmPassword: false,\r\n            errMessage: \"\",\r\n            successMessage: \"\",\r\n            isLoading: false,\r\n            currentStep: 1, // 1: Nhập email, 2: Nhập OTP, 3: Đặt lại mật khẩu\r\n            otpTimer: 0,\r\n        };\r\n        this.timerInterval = null;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.timerInterval) {\r\n            clearInterval(this.timerInterval);\r\n        }\r\n    }\r\n\r\n    handleInputChange = (event, fieldName) => {\r\n        this.setState({\r\n            [fieldName]: event.target.value,\r\n            errMessage: \"\",\r\n        });\r\n    };\r\n\r\n    togglePasswordVisibility = (field) => {\r\n        if (field === \"password\") {\r\n            this.setState({ showPassword: !this.state.showPassword });\r\n        } else {\r\n            this.setState({ showConfirmPassword: !this.state.showConfirmPassword });\r\n        }\r\n    };\r\n\r\n    startOtpTimer = () => {\r\n        this.setState({ otpTimer: 60 });\r\n        if (this.timerInterval) clearInterval(this.timerInterval);\r\n\r\n        this.timerInterval = setInterval(() => {\r\n            this.setState(\r\n                (prevState) => ({\r\n                    otpTimer: prevState.otpTimer - 1,\r\n                }),\r\n                () => {\r\n                    if (this.state.otpTimer <= 0 && this.timerInterval) {\r\n                        clearInterval(this.timerInterval);\r\n                    }\r\n                }\r\n            );\r\n        }, 1000);\r\n    };\r\n\r\n    // Bước 1: Gửi email để lấy mã OTP\r\n    handleRequestOTP = async () => {\r\n        const { email } = this.state;\r\n\r\n        // Kiểm tra email\r\n        if (!email) {\r\n            this.setState({ errMessage: \"Vui lòng nhập địa chỉ email của bạn\" });\r\n            return;\r\n        }\r\n\r\n        // Kiểm tra định dạng email đơn giản\r\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        if (!emailRegex.test(email)) {\r\n            this.setState({ errMessage: \"Địa chỉ email không hợp lệ\" });\r\n            return;\r\n        }\r\n\r\n        this.setState({ isLoading: true, errMessage: \"\", successMessage: \"\" });\r\n\r\n        try {\r\n            // Gọi API để yêu cầu mã OTP\r\n            const response = await axios.post(\"/api/forgot-password/request\", { email });\r\n\r\n            if (response.data.errCode === 0) {\r\n                this.setState({\r\n                    isLoading: false,\r\n                    currentStep: 2,\r\n                    successMessage: response.data.errMessage || \"Mã xác nhận đã được gửi đến email của bạn\",\r\n                });\r\n\r\n                this.startOtpTimer();\r\n            } else {\r\n                this.setState({\r\n                    isLoading: false,\r\n                    errMessage: response.data.errMessage || \"Có lỗi xảy ra khi gửi yêu cầu\",\r\n                });\r\n            }\r\n        } catch (error) {\r\n            this.setState({\r\n                isLoading: false,\r\n                errMessage: error.response?.data?.errMessage || \"Không thể gửi mã xác nhận. Vui lòng thử lại sau.\",\r\n            });\r\n        }\r\n    };\r\n\r\n    // Bước 2: Xác minh mã OTP\r\n    handleVerifyOTP = async () => {\r\n        const { email, otp } = this.state;\r\n\r\n        if (!otp) {\r\n            this.setState({ errMessage: \"Vui lòng nhập mã xác nhận\" });\r\n            return;\r\n        }\r\n\r\n        this.setState({ isLoading: true, errMessage: \"\", successMessage: \"\" });\r\n\r\n        try {\r\n            // Gọi API để xác minh OTP\r\n            const response = await axios.post(\"/api/forgot-password/verify-otp\", { email, otp });\r\n\r\n            if (response.data.errCode === 0) {\r\n                this.setState({\r\n                    isLoading: false,\r\n                    currentStep: 3,\r\n                    resetToken: response.data.resetToken,\r\n                    successMessage: response.data.errMessage || \"Xác thực OTP thành công. Vui lòng tạo mật khẩu mới.\",\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    isLoading: false,\r\n                    errMessage: response.data.errMessage || \"Có lỗi xảy ra khi xác thực mã OTP\",\r\n                });\r\n            }\r\n        } catch (error) {\r\n            this.setState({\r\n                isLoading: false,\r\n                errMessage: error.response?.data?.errMessage || \"Mã xác nhận không chính xác hoặc đã hết hạn\",\r\n            });\r\n        }\r\n    };\r\n\r\n    // Bước 3: Đặt lại mật khẩu\r\n    handleResetPassword = async () => {\r\n        const { email, resetToken, newPassword, confirmPassword } = this.state;\r\n\r\n        // Kiểm tra mật khẩu\r\n        if (!newPassword) {\r\n            this.setState({ errMessage: \"Vui lòng nhập mật khẩu mới\" });\r\n            return;\r\n        }\r\n\r\n        if (newPassword.length < 6) {\r\n            this.setState({ errMessage: \"Mật khẩu phải có ít nhất 6 ký tự\" });\r\n            return;\r\n        }\r\n\r\n        if (newPassword !== confirmPassword) {\r\n            this.setState({ errMessage: \"Mật khẩu xác nhận không khớp\" });\r\n            return;\r\n        }\r\n\r\n        this.setState({ isLoading: true, errMessage: \"\", successMessage: \"\" });\r\n\r\n        try {\r\n            // Gọi API để đặt lại mật khẩu\r\n            const response = await axios.post(\"/api/forgot-password/reset\", {\r\n                email,\r\n                resetToken,\r\n                newPassword,\r\n            });\r\n\r\n            if (response.data.errCode === 0) {\r\n                this.setState({\r\n                    isLoading: false,\r\n                    successMessage: response.data.errMessage || \"Đặt lại mật khẩu thành công! Bạn có thể đăng nhập ngay bây giờ.\",\r\n                });\r\n\r\n                // Chuyển hướng đến trang đăng nhập sau 3 giây\r\n                setTimeout(() => {\r\n                    this.props.navigate(\"/login\");\r\n                }, 3000);\r\n            } else {\r\n                this.setState({\r\n                    isLoading: false,\r\n                    errMessage: response.data.errMessage || \"Có lỗi xảy ra khi đặt lại mật khẩu\",\r\n                });\r\n            }\r\n        } catch (error) {\r\n            this.setState({\r\n                isLoading: false,\r\n                errMessage: error.response?.data?.errMessage || \"Không thể đặt lại mật khẩu. Vui lòng thử lại.\",\r\n            });\r\n        }\r\n    };\r\n\r\n    // Xử lý khi nhấn \"Gửi lại\" mã OTP\r\n    handleResendOTP = async () => {\r\n        const { email } = this.state;\r\n\r\n        this.setState({ isLoading: true, errMessage: \"\", successMessage: \"\" });\r\n\r\n        try {\r\n            // Gọi API để yêu cầu mã OTP mới\r\n            const response = await axios.post(\"/api/forgot-password/request\", { email });\r\n\r\n            if (response.data.errCode === 0) {\r\n                this.setState({\r\n                    isLoading: false,\r\n                    successMessage: \"Mã xác nhận mới đã được gửi đến email của bạn\",\r\n                });\r\n\r\n                this.startOtpTimer();\r\n            } else {\r\n                this.setState({\r\n                    isLoading: false,\r\n                    errMessage: response.data.errMessage || \"Có lỗi xảy ra khi gửi lại mã xác nhận\",\r\n                });\r\n            }\r\n        } catch (error) {\r\n            this.setState({\r\n                isLoading: false,\r\n                errMessage: error.response?.data?.errMessage || \"Không thể gửi lại mã xác nhận\",\r\n            });\r\n        }\r\n    };\r\n\r\n    // Quay lại bước trước\r\n    handleBack = () => {\r\n        this.setState((prevState) => ({\r\n            currentStep: prevState.currentStep - 1,\r\n            errMessage: \"\",\r\n            successMessage: \"\",\r\n        }));\r\n    };\r\n\r\n    render() {\r\n        const { email, otp, newPassword, confirmPassword, showPassword, showConfirmPassword, errMessage, successMessage, isLoading, currentStep, otpTimer } = this.state;\r\n\r\n        return (\r\n            <div className=\"forgot-password-page d-flex align-items-center min-vh-100\">\r\n                <div className=\"login-bg-shape\"></div>\r\n                <div className=\"login-wave\"></div>\r\n\r\n                <Container>\r\n                    <Row className=\"justify-content-center g-0\">\r\n                        <Col lg={12} className=\"shadow-lg rounded-3 overflow-hidden\">\r\n                            <Row className=\"g-0 h-100\">\r\n                                {/* Cột hình ảnh và thông điệp */}\r\n                                <Col lg={6} className=\"d-none d-lg-block p-0\">\r\n                                    <div className=\"login-welcome h-100 d-flex flex-column justify-content-center p-5 text-white\">\r\n                                        <div className=\"mb-4\">\r\n                                            <img src={logoImg} alt=\"CTES Logo\" className=\"login-logo\" />\r\n                                        </div>\r\n                                        <h2 className=\"welcome-heading\">Quên mật khẩu?</h2>\r\n                                        <p className=\"welcome-text opacity-75\">Đừng lo lắng! Chúng tôi sẽ giúp bạn khôi phục tài khoản. Chỉ cần làm theo các bước đơn giản.</p>\r\n                                        <div className=\"mt-4 welcome-features\">\r\n                                            <div className=\"feature-item mb-3\">\r\n                                                <span className=\"feature-icon\">\r\n                                                    <FontAwesomeIcon icon={faEnvelope} />\r\n                                                </span>\r\n                                                <span>Nhập email của bạn</span>\r\n                                            </div>\r\n                                            <div className=\"feature-item mb-3\">\r\n                                                <span className=\"feature-icon\">\r\n                                                    <FontAwesomeIcon icon={faShieldAlt} />\r\n                                                </span>\r\n                                                <span>Xác minh bằng mã OTP</span>\r\n                                            </div>\r\n                                            <div className=\"feature-item\">\r\n                                                <span className=\"feature-icon\">\r\n                                                    <FontAwesomeIcon icon={faKey} />\r\n                                                </span>\r\n                                                <span>Tạo mật khẩu mới</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </Col>\r\n\r\n                                {/* Cột form quên mật khẩu */}\r\n                                <Col lg={6} className=\"bg-white p-0\">\r\n                                    <div className=\"forgot-password-container p-4 p-md-5 h-100 d-flex flex-column justify-content-center\">\r\n                                        <div className=\"text-center mb-4 d-lg-none\">\r\n                                            <img src={logoImg} alt=\"CTES Logo\" className=\"login-logo-mobile mb-3\" />\r\n                                        </div>\r\n\r\n                                        <h3 className=\"card-title fw-bold text-center mb-4\">\r\n                                            <FontAwesomeIcon icon={faKey} className=\"me-2 text-primary\" />\r\n                                            {currentStep === 1 && \"Quên mật khẩu\"}\r\n                                            {currentStep === 2 && \"Xác minh OTP\"}\r\n                                            {currentStep === 3 && \"Tạo mật khẩu mới\"}\r\n                                        </h3>\r\n\r\n                                        {/* Hiển thị thông báo lỗi */}\r\n                                        {errMessage && (\r\n                                            <Alert variant=\"danger\" className=\"d-flex align-items-center\">\r\n                                                <FontAwesomeIcon icon={faExclamationTriangle} className=\"me-2 flex-shrink-0\" />\r\n                                                <div>{errMessage}</div>\r\n                                            </Alert>\r\n                                        )}\r\n\r\n                                        {/* Hiển thị thông báo thành công */}\r\n                                        {successMessage && (\r\n                                            <Alert variant=\"success\" className=\"d-flex align-items-center\">\r\n                                                <FontAwesomeIcon icon={faCheck} className=\"me-2 flex-shrink-0\" />\r\n                                                <div>{successMessage}</div>\r\n                                            </Alert>\r\n                                        )}\r\n\r\n                                        {/* Hiển thị các bước */}\r\n                                        <div className=\"progress-steps mb-4\">\r\n                                            <div className={`step ${currentStep >= 1 ? \"active\" : \"\"}`}>\r\n                                                <div className=\"step-icon\">1</div>\r\n                                                <div className=\"step-label\">Email</div>\r\n                                            </div>\r\n                                            <div className={`step ${currentStep >= 2 ? \"active\" : \"\"}`}>\r\n                                                <div className=\"step-icon\">2</div>\r\n                                                <div className=\"step-label\">OTP</div>\r\n                                            </div>\r\n                                            <div className={`step ${currentStep >= 3 ? \"active\" : \"\"}`}>\r\n                                                <div className=\"step-icon\">3</div>\r\n                                                <div className=\"step-label\">Mật khẩu mới</div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <Form className=\"forgot-password-form\">\r\n                                            {/* Bước 1: Nhập email */}\r\n                                            {currentStep === 1 && (\r\n                                                <>\r\n                                                    <p className=\"text-muted mb-4\">Vui lòng nhập địa chỉ email đã đăng ký. Chúng tôi sẽ gửi mã xác nhận để đặt lại mật khẩu.</p>\r\n\r\n                                                    <Form.Group className=\"mb-4\" controlId=\"formEmail\">\r\n                                                        <Form.Label className=\"fw-semibold\">Email đăng ký</Form.Label>\r\n                                                        <InputGroup>\r\n                                                            <InputGroup.Text className=\"bg-light border-end-0\">\r\n                                                                <FontAwesomeIcon icon={faEnvelope} className=\"text-primary\" />\r\n                                                            </InputGroup.Text>\r\n                                                            <Form.Control\r\n                                                                type=\"email\"\r\n                                                                placeholder=\"Nhập email của bạn\"\r\n                                                                value={email}\r\n                                                                onChange={(e) => this.handleInputChange(e, \"email\")}\r\n                                                                className=\"py-2 border-start-0\"\r\n                                                            />\r\n                                                        </InputGroup>\r\n                                                    </Form.Group>\r\n\r\n                                                    <Button\r\n                                                        variant=\"primary\"\r\n                                                        className=\"login-btn w-100 py-2 mb-4 d-flex align-items-center justify-content-center\"\r\n                                                        onClick={this.handleRequestOTP}\r\n                                                        disabled={isLoading}\r\n                                                    >\r\n                                                        {isLoading ? (\r\n                                                            <>\r\n                                                                <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" className=\"me-2\" />\r\n                                                                Đang xử lý...\r\n                                                            </>\r\n                                                        ) : (\r\n                                                            \"Gửi mã xác nhận\"\r\n                                                        )}\r\n                                                    </Button>\r\n                                                </>\r\n                                            )}\r\n\r\n                                            {/* Bước 2: Nhập OTP */}\r\n                                            {currentStep === 2 && (\r\n                                                <>\r\n                                                    <p className=\"text-muted mb-4\">\r\n                                                        Mã xác nhận đã được gửi đến email <strong>{email}</strong>. Vui lòng nhập mã để tiếp tục.\r\n                                                    </p>\r\n\r\n                                                    <Form.Group className=\"mb-4\" controlId=\"formOTP\">\r\n                                                        <Form.Label className=\"fw-semibold\">Mã xác nhận</Form.Label>\r\n                                                        <InputGroup>\r\n                                                            <InputGroup.Text className=\"bg-light border-end-0\">\r\n                                                                <FontAwesomeIcon icon={faShieldAlt} className=\"text-primary\" />\r\n                                                            </InputGroup.Text>\r\n                                                            <Form.Control\r\n                                                                type=\"text\"\r\n                                                                placeholder=\"Nhập mã xác nhận\"\r\n                                                                value={otp}\r\n                                                                onChange={(e) => this.handleInputChange(e, \"otp\")}\r\n                                                                className=\"py-2 border-start-0\"\r\n                                                                maxLength={6}\r\n                                                            />\r\n                                                        </InputGroup>\r\n                                                    </Form.Group>\r\n\r\n                                                    <div className=\"d-flex justify-content-between mb-4\">\r\n                                                        <Button variant=\"outline-secondary\" className=\"px-3\" onClick={this.handleBack}>\r\n                                                            <FontAwesomeIcon icon={faArrowLeft} className=\"me-2\" />\r\n                                                            Quay lại\r\n                                                        </Button>\r\n\r\n                                                        <Button variant=\"primary\" className=\"px-4\" onClick={this.handleVerifyOTP} disabled={isLoading}>\r\n                                                            {isLoading ? (\r\n                                                                <>\r\n                                                                    <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" className=\"me-2\" />\r\n                                                                    Đang xử lý...\r\n                                                                </>\r\n                                                            ) : (\r\n                                                                \"Xác nhận\"\r\n                                                            )}\r\n                                                        </Button>\r\n                                                    </div>\r\n\r\n                                                    <div className=\"text-center\">\r\n                                                        <p className=\"mb-0 small\">\r\n                                                            Không nhận được mã?\r\n                                                            {otpTimer > 0 ? (\r\n                                                                <span className=\"text-muted ms-1\">Gửi lại sau {otpTimer}s</span>\r\n                                                            ) : (\r\n                                                                <Button\r\n                                                                    variant=\"link\"\r\n                                                                    className=\"p-0 ms-1 text-decoration-none\"\r\n                                                                    onClick={this.handleResendOTP}\r\n                                                                    disabled={isLoading}\r\n                                                                >\r\n                                                                    Gửi lại\r\n                                                                </Button>\r\n                                                            )}\r\n                                                        </p>\r\n                                                    </div>\r\n                                                </>\r\n                                            )}\r\n\r\n                                            {/* Bước 3: Đặt mật khẩu mới */}\r\n                                            {currentStep === 3 && (\r\n                                                <>\r\n                                                    <p className=\"text-muted mb-4\">Vui lòng tạo mật khẩu mới cho tài khoản của bạn.</p>\r\n\r\n                                                    <Form.Group className=\"mb-4\" controlId=\"formNewPassword\">\r\n                                                        <Form.Label className=\"fw-semibold\">Mật khẩu mới</Form.Label>\r\n                                                        <InputGroup>\r\n                                                            <InputGroup.Text className=\"bg-light border-end-0\">\r\n                                                                <FontAwesomeIcon icon={faLock} className=\"text-primary\" />\r\n                                                            </InputGroup.Text>\r\n                                                            <Form.Control\r\n                                                                type={showPassword ? \"text\" : \"password\"}\r\n                                                                placeholder=\"Nhập mật khẩu mới\"\r\n                                                                value={newPassword}\r\n                                                                onChange={(e) => this.handleInputChange(e, \"newPassword\")}\r\n                                                                className=\"py-2 border-start-0 border-end-0\"\r\n                                                            />\r\n                                                            <Button variant=\"light\" onClick={() => this.togglePasswordVisibility(\"password\")} className=\"border border-start-0\">\r\n                                                                <FontAwesomeIcon icon={showPassword ? faEyeSlash : faEye} className=\"text-secondary\" />\r\n                                                            </Button>\r\n                                                        </InputGroup>\r\n                                                    </Form.Group>\r\n\r\n                                                    <Form.Group className=\"mb-4\" controlId=\"formConfirmPassword\">\r\n                                                        <Form.Label className=\"fw-semibold\">Xác nhận mật khẩu</Form.Label>\r\n                                                        <InputGroup>\r\n                                                            <InputGroup.Text className=\"bg-light border-end-0\">\r\n                                                                <FontAwesomeIcon icon={faLock} className=\"text-primary\" />\r\n                                                            </InputGroup.Text>\r\n                                                            <Form.Control\r\n                                                                type={showConfirmPassword ? \"text\" : \"password\"}\r\n                                                                placeholder=\"Nhập lại mật khẩu mới\"\r\n                                                                value={confirmPassword}\r\n                                                                onChange={(e) => this.handleInputChange(e, \"confirmPassword\")}\r\n                                                                className=\"py-2 border-start-0 border-end-0\"\r\n                                                            />\r\n                                                            <Button variant=\"light\" onClick={() => this.togglePasswordVisibility(\"confirm\")} className=\"border border-start-0\">\r\n                                                                <FontAwesomeIcon icon={showConfirmPassword ? faEyeSlash : faEye} className=\"text-secondary\" />\r\n                                                            </Button>\r\n                                                        </InputGroup>\r\n                                                    </Form.Group>\r\n\r\n                                                    <div className=\"d-flex justify-content-between mb-4\">\r\n                                                        <Button variant=\"outline-secondary\" className=\"px-3\" onClick={this.handleBack}>\r\n                                                            <FontAwesomeIcon icon={faArrowLeft} className=\"me-2\" />\r\n                                                            Quay lại\r\n                                                        </Button>\r\n\r\n                                                        <Button variant=\"primary\" className=\"px-4\" onClick={this.handleResetPassword} disabled={isLoading}>\r\n                                                            {isLoading ? (\r\n                                                                <>\r\n                                                                    <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" className=\"me-2\" />\r\n                                                                    Đang xử lý...\r\n                                                                </>\r\n                                                            ) : (\r\n                                                                \"Hoàn tất\"\r\n                                                            )}\r\n                                                        </Button>\r\n                                                    </div>\r\n                                                </>\r\n                                            )}\r\n\r\n                                            <div className=\"text-center mt-3\">\r\n                                                <Link to=\"/login\" className=\"text-decoration-none\">\r\n                                                    <FontAwesomeIcon icon={faArrowLeft} className=\"me-2\" />\r\n                                                    Trở về trang đăng nhập\r\n                                                </Link>\r\n                                            </div>\r\n                                        </Form>\r\n                                    </div>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        language: state.app.language,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        navigate: (path) => dispatch(push(path)),\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ForgotPassword);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}